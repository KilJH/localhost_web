{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[41],{MszO:function(t,o,e){\"use strict\";e.r(o),e.d(o,\"__N_SSP\",(function(){return a}));var n=e(\"oYCi\"),r=e(\"i3OP\"),i=(e(\"mXGw\"),e(\"PrA/\")),c=function(t){var o=t.item,e=t.isFollowed;return Object(n.jsxs)(\"div\",{children:[Object(n.jsxs)(\"h1\",{children:[\"Detail for \",o.name]}),Object(n.jsxs)(\"p\",{children:[\"ID: \",o.id]}),Object(n.jsx)(i.a,{userId:o.id,initialFollowed:e})]})},a=!0;o.default=function(t){var o=t.pageProps;return Object(n.jsx)(r.a,{title:\"\".concat(o.item?o.item.name:\"User Detail\",\" | localhost\"),children:o.item&&Object(n.jsx)(c,{item:o.item,isFollowed:o.isFollowed})})}},OViv:function(t,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/users/[id]\",function(){return e(\"MszO\")}])},\"PrA/\":function(t,o,e){\"use strict\";var n=e(\"oYCi\"),r=e(\"/dBk\"),i=e.n(r),c=e(\"qd51\"),a=e(\"czhI\"),s=e.n(a),l=e(\"mXGw\"),u=e(\"UutA\"),d=e(\"jR5A\"),p=e(\"/NZN\"),w=e(\"Fgb8\"),f=Object(u.b)(p.a).withConfig({displayName:\"FollowButton__Btn\",componentId:\"sc-2sj4co-0\"})([\"font-size:0.75em !important;background-color:\",\" !important;color:\",\" !important;border:none;width:8em;box-shadow:none !important;&:active{background-color:\",\";box-shadow:0px 2px 3px -2px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 3px 12px 2px rgba(0,0,0,0.12) !important;}&:hover{background-color:\",\" !important;}\"],(function(t){return t.isFollowed?\"#c5c7c9\":\"#5197D5\"}),(function(t){return t.isFollowed?\"rgba(0,0,0,0.87)\":\"white\"}),(function(t){return t.isFollowed?\"#a5a7a9\":\"#4187C5\"}),(function(t){return t.isFollowed?\"#a5a7a9\":\"#4187C5\"}));o.a=function(t){var o=t.userId,e=t.initialFollowed,r=Object(l.useContext)(w.c),a=Object(l.useState)(e||!1),u=a[0],p=a[1];Object(l.useEffect)((function(){s.a.post(\"\".concat(d.a,\"/api/user/follow_check\"),{userId:o,followerId:r.id}).then((function(t){return p(t.data.isFollowed)}))}),[u]);var b=function(){var t=Object(c.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post(\"\".concat(d.a,\"/api/user/follow\"),{userId:o,followerId:r.id});case 3:t.sent.data.success&&p(!u),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt(\"return\",console.log(t.t0));case 10:case\"end\":return t.stop()}}),t,null,[[0,7]])})));return function(o){return t.apply(this,arguments)}}();return Object(n.jsx)(f,{isFollowed:u,onClick:b,variant:\"contained\",children:u?\"Followed\":\"Follow\"})}}},[[\"OViv\",0,2,1,3,5,4,6,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/users/[id]-e0e184fd592a5ad49dcb.js"],"names":["_N_E","window","push","MszO","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","jsx_runtime","Layout","FollowButton","user_ListDetail","_ref","user","item","isFollowed","Object","children","name","id","userId","initialFollowed","pageProps","title","concat","OViv","exports","__NEXT_P","PrA/","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","styled_components__WEBPACK_IMPORTED_MODULE_5__","_utils_url__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","_context_user__WEBPACK_IMPORTED_MODULE_8__","Btn","withConfig","displayName","componentId","props","currentUser","_useState","followState","setFollowState","a","post","followerId","then","res","data","onClick","mark","_callee","e","wrap","_context","prev","next","sent","success","t0","abrupt","console","log","stop","_x","apply","this","arguments","variant"],"mappings":"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"},"name":"static/chunks/pages/users/[id]-e0e184fd592a5ad49dcb.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[41],{\n\n/***/ \"MszO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ../node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"oYCi\");\n\n// EXTERNAL MODULE: ./components/main/Layout.tsx + 6 modules\nvar Layout = __webpack_require__(\"i3OP\");\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(\"mXGw\");\n\n// EXTERNAL MODULE: ./components/user/FollowButton.tsx\nvar FollowButton = __webpack_require__(\"PrA/\");\n\n// CONCATENATED MODULE: ./components/user/ListDetail.tsx\n\n\n\n\n\nvar ListDetail_ListDetail = function ListDetail(_ref) {\n  var user = _ref.item,\n      isFollowed = _ref.isFollowed;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\", {\n      children: [\"Detail for \", user.name]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\", {\n      children: [\"ID: \", user.id]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FollowButton[\"a\" /* default */], {\n      userId: user.id,\n      initialFollowed: isFollowed\n    })]\n  });\n};\n\n/* harmony default export */ var user_ListDetail = (ListDetail_ListDetail);\n// CONCATENATED MODULE: ./pages/users/[id].tsx\n\n\n\n\nvar _id_StaticPropsDetail = function StaticPropsDetail(_ref) {\n  var pageProps = _ref.pageProps;\n  // if (pageProps.errors) {\n  // \treturn (\n  // \t\t<Layout title='Error | PlanBeeðŸ'>\n  // \t\t\t<p>\n  // \t\t\t\t<span style={{ color: 'red' }}>Error:</span> {pageProps.errors}\n  // \t\t\t</p>\n  // \t\t</Layout>\n  // \t);\n  // }\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    title: \"\".concat(pageProps.item ? pageProps.item.name : 'User Detail', \" | localhost\"),\n    children: pageProps.item && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(user_ListDetail, {\n      item: pageProps.item,\n      isFollowed: pageProps.isFollowed\n    })\n  });\n};\n\nvar __N_SSP = true;\n/* harmony default export */ var _id_ = __webpack_exports__[\"default\"] = (_id_StaticPropsDetail); // export const getStaticPaths: GetStaticPaths = async () => {\n// \t// Get the paths we want to pre-render based on users\n// \tconst paths = await (\n// \t\tawait axios.get(`${SERVER}/api/user/list`)\n// \t).data.users.map((user) => ({\n// \t\tparams: { id: user.id.toString() },\n// \t}));\n// \t// We'll pre-render only these paths at build time.\n// \t// { fallback: false } means other routes should 404.\n// \treturn { paths, fallback: false };\n// };\n// This function gets called at build time on server-side.\n// It won't be called on client-side, so you can even do\n// direct database queries.\n\n/***/ }),\n\n/***/ \"OViv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/users/[id]\",\n        function () {\n          return __webpack_require__(\"MszO\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"PrA/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"oYCi\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/dBk\");\n/* harmony import */ var _Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"qd51\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"czhI\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"mXGw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"UutA\");\n/* harmony import */ var _utils_url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"jR5A\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"/NZN\");\n/* harmony import */ var _context_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"Fgb8\");\n\n\n\n\n\n\n\n\n\nvar Btn = Object(styled_components__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"b\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"]).withConfig({\n  displayName: \"FollowButton__Btn\",\n  componentId: \"sc-2sj4co-0\"\n})([\"font-size:0.75em !important;background-color:\", \" !important;color:\", \" !important;border:none;width:8em;box-shadow:none !important;&:active{background-color:\", \";box-shadow:0px 2px 3px -2px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 3px 12px 2px rgba(0,0,0,0.12) !important;}&:hover{background-color:\", \" !important;}\"], function (props) {\n  return props.isFollowed ? '#c5c7c9' : '#5197D5';\n}, function (props) {\n  return props.isFollowed ? 'rgba(0,0,0,0.87)' : 'white';\n}, function (props) {\n  return props.isFollowed ? '#a5a7a9' : '#4187C5';\n}, function (props) {\n  return props.isFollowed ? '#a5a7a9' : '#4187C5';\n});\n\nvar FollowButton = function FollowButton(props) {\n  var userId = props.userId,\n      initialFollowed = props.initialFollowed;\n  var currentUser = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useContext\"])(_context_user__WEBPACK_IMPORTED_MODULE_8__[/* UserStateContext */ \"c\"]);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(initialFollowed || false),\n      followState = _useState[0],\n      setFollowState = _useState[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_utils_url__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], \"/api/user/follow_check\"), {\n      userId: userId,\n      followerId: currentUser.id\n    }).then(function (res) {\n      return setFollowState(res.data.isFollowed);\n    });\n  }, [followState]);\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref = Object(_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(e) {\n      var res;\n      return _Users_zknock_Develop_localhost_web_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_utils_url__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], \"/api/user/follow\"), {\n                userId: userId,\n                followerId: currentUser.id\n              });\n\n            case 3:\n              res = _context.sent;\n              if (res.data.success) setFollowState(!followState);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", console.log(_context.t0));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function onClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(Btn, {\n    isFollowed: followState,\n    onClick: onClick,\n    variant: \"contained\",\n    children: followState ? 'Followed' : 'Follow'\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FollowButton);\n\n/***/ })\n\n},[[\"OViv\",0,2,1,3,5,4,6,7,8]]]);","inputSourceMap":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zknock/Develop/localhost_web/client/components/user/ListDetail.tsx","/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zknock/Develop/localhost_web/client/pages/users/[id].tsx","/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fusers%2F%5Bid%5D&absolutePagePath=private-next-pages%2Fusers%2F%5Bid%5D.tsx!","/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zknock/Develop/localhost_web/client/components/user/FollowButton.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAgD;AACE;AACnB;AACW;;AAE1C,IAAI,qBAAU;AACd;AACA;AACA,sBAAsB,2BAAK;AAC3B,4BAA4B,2BAAK;AACjC;AACA,KAAK,gBAAgB,2BAAK;AAC1B;AACA,KAAK,gBAAgB,0BAAI,CAAC,+BAAY;AACtC;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEe,yEAAU,E;;ACpBuB;AACE;AACQ;;AAE1D,IAAI,qBAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB,gBAAgB;AACvD;AACA;AACA;AACA;AACA,sBAAsB,0BAAI,CAAC,yBAAM;AACjC;AACA,6CAA6C,0BAAI,CAAC,eAAU;AAC5D;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,+FAAiB,EAAC;AACjC;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA,cAAc,yBAAyB;AACvC,KAAK;AACL;AACA,QAAQ,kBAAkB;AAC1B,YAAY;AACZ;AACA;AACA;AACA,2B;;;;;;;;ACrCA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAmC;AAC5D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACgF;AACe;AACrH;AACqC;AACxB;AACF;AACM;AACW;AACtD,UAAU,yEAAM,CAAC,iEAAM;AACvB;AACA;AACA,CAAC,gCAAgC,iCAAiC,sBAAsB,YAAY,UAAU,2BAA2B,SAAS,sBAAsB,2HAA2H,QAAQ,kCAAkC;AAC7U;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA,oBAAoB,wDAAU,CAAC,sEAAgB;;AAE/C,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,EAAE,uDAAS;AACX,IAAI,4CAAK,gBAAgB,0DAAM;AAC/B;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;;AAEH;AACA,eAAe,qKAAiB,eAAe,mIAAmB;AAClE;AACA,aAAa,mIAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB,4CAAK,gBAAgB,0DAAM;AAChD;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH,sBAAsB,6DAAI;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEe,qEAAY,E","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from 'react';\nimport FollowButton from './FollowButton';\n\nvar ListDetail = function ListDetail(_ref) {\n  var user = _ref.item,\n      isFollowed = _ref.isFollowed;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(\"h1\", {\n      children: [\"Detail for \", user.name]\n    }), /*#__PURE__*/_jsxs(\"p\", {\n      children: [\"ID: \", user.id]\n    }), /*#__PURE__*/_jsx(FollowButton, {\n      userId: user.id,\n      initialFollowed: isFollowed\n    })]\n  });\n};\n\nexport default ListDetail;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from '../../components/main/Layout';\nimport ListDetail from '../../components/user/ListDetail';\n\nvar StaticPropsDetail = function StaticPropsDetail(_ref) {\n  var pageProps = _ref.pageProps;\n  // if (pageProps.errors) {\n  // \treturn (\n  // \t\t<Layout title='Error | PlanBeeðŸ'>\n  // \t\t\t<p>\n  // \t\t\t\t<span style={{ color: 'red' }}>Error:</span> {pageProps.errors}\n  // \t\t\t</p>\n  // \t\t</Layout>\n  // \t);\n  // }\n  return /*#__PURE__*/_jsx(Layout, {\n    title: \"\".concat(pageProps.item ? pageProps.item.name : 'User Detail', \" | localhost\"),\n    children: pageProps.item && /*#__PURE__*/_jsx(ListDetail, {\n      item: pageProps.item,\n      isFollowed: pageProps.isFollowed\n    })\n  });\n};\n\nexport var __N_SSP = true;\nexport default StaticPropsDetail; // export const getStaticPaths: GetStaticPaths = async () => {\n// \t// Get the paths we want to pre-render based on users\n// \tconst paths = await (\n// \t\tawait axios.get(`${SERVER}/api/user/list`)\n// \t).data.users.map((user) => ({\n// \t\tparams: { id: user.id.toString() },\n// \t}));\n// \t// We'll pre-render only these paths at build time.\n// \t// { fallback: false } means other routes should 404.\n// \treturn { paths, fallback: false };\n// };\n// This function gets called at build time on server-side.\n// It won't be called on client-side, so you can even do\n// direct database queries.","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/users/[id]\",\n        function () {\n          return require(\"private-next-pages/users/[id].tsx\");\n        }\n      ]);\n    ","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport React, { useState, useContext, useEffect } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../utils/url';\nimport { Button } from '@material-ui/core';\nimport { UserStateContext } from '../../context/user';\nvar Btn = styled(Button).withConfig({\n  displayName: \"FollowButton__Btn\",\n  componentId: \"sc-2sj4co-0\"\n})([\"font-size:0.75em !important;background-color:\", \" !important;color:\", \" !important;border:none;width:8em;box-shadow:none !important;&:active{background-color:\", \";box-shadow:0px 2px 3px -2px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 3px 12px 2px rgba(0,0,0,0.12) !important;}&:hover{background-color:\", \" !important;}\"], function (props) {\n  return props.isFollowed ? '#c5c7c9' : '#5197D5';\n}, function (props) {\n  return props.isFollowed ? 'rgba(0,0,0,0.87)' : 'white';\n}, function (props) {\n  return props.isFollowed ? '#a5a7a9' : '#4187C5';\n}, function (props) {\n  return props.isFollowed ? '#a5a7a9' : '#4187C5';\n});\n\nvar FollowButton = function FollowButton(props) {\n  var userId = props.userId,\n      initialFollowed = props.initialFollowed;\n  var currentUser = useContext(UserStateContext);\n\n  var _useState = useState(initialFollowed || false),\n      followState = _useState[0],\n      setFollowState = _useState[1];\n\n  useEffect(function () {\n    axios.post(\"\".concat(SERVER, \"/api/user/follow_check\"), {\n      userId: userId,\n      followerId: currentUser.id\n    }).then(function (res) {\n      return setFollowState(res.data.isFollowed);\n    });\n  }, [followState]);\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(\"\".concat(SERVER, \"/api/user/follow\"), {\n                userId: userId,\n                followerId: currentUser.id\n              });\n\n            case 3:\n              res = _context.sent;\n              if (res.data.success) setFollowState(!followState);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", console.log(_context.t0));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function onClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(Btn, {\n    isFollowed: followState,\n    onClick: onClick,\n    variant: \"contained\",\n    children: followState ? 'Followed' : 'Follow'\n  });\n};\n\nexport default FollowButton;"]}}