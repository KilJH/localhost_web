{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{\"11/B\":function(n,t,e){\"use strict\";e.r(t);var i=e(\"oYCi\"),o=(e(\"mXGw\"),e(\"i3OP\")),a=e(\"q4b/\"),s=e(\"UutA\"),c=e(\"czhI\"),r=e.n(c),u=e(\"jR5A\"),l=e(\"dAGg\"),d=e.n(l),g=function(n,t){return function(e){return r.a.get(\"\".concat(u.a,\"/api/auth/check\"),{withCredentials:!0}).then((function(i){var o=i.data.user;if(i.data.success)switch(console.log(\"\\ub85c\\uadf8\\uc778\\ub418\\uc5b4\\uc788\\uc2b5\\ub2c8\\ub2e4.\"),2===n&&(alert(\"\\uc774\\ubbf8 \\ub85c\\uadf8\\uc778\\ub418\\uc5b4\\uc788\\uc2b5\\ub2c8\\ub2e4.\"),d.a.push(\"/\")),t){case 0:return e;case 1:if(o.isHost)return e;alert(\"\\uc811\\uadfc\\ud560 \\uc218 \\uc5c6\\ub294 \\ud398\\uc774\\uc9c0 \\uc785\\ub2c8\\ub2e4.\"),d.a.push(\"/\");case 2:if(o.isAdmin)return e;alert(\"\\uc811\\uadfc\\ud560 \\uc218 \\uc5c6\\ub294 \\ud398\\uc774\\uc9c0 \\uc785\\ub2c8\\ub2e4.\"),d.a.push(\"/\")}else{if(console.log(\"\\ub85c\\uadf8\\uc778\\uc744 \\ud574\\uc8fc\\uc138\\uc694.\"),console.log(i.data.message,\"\\uc774\\uac83\\uc740 \\uc5d0\\ub7ec\"),1!==n)return e;d.a.push(\"/login\")}})),function(){return Object(i.jsx)(i.Fragment,{})}}},h=s.b.div.withConfig({displayName:\"login__LoginContainer\",componentId:\"sc-1p0n174-0\"})([\"& > *{margin:0 auto;}\"]);t.default=g(2,0)((function(n){return Object(i.jsx)(o.a,{title:\"\\ub85c\\uadf8\\uc778 | localhost\",children:Object(i.jsx)(h,{children:Object(i.jsx)(a.a,{})})})}))},NRgu:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return e(\"11/B\")}])},dAGg:function(n,t,e){n.exports=e(\"bBV7\")}},[[\"NRgu\",0,2,1,3,5,4,6,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/login-06a22fd4134ddd136e45.js"],"names":["_N_E","window","push","11/B","module","__webpack_exports__","__webpack_require__","r","jsx_runtime","Layout","Login","styled_components_browser_esm","axios","axios_default","n","url","router","router_default","hoc_withAuth","isLogined","grade","Component","a","get","concat","withCredentials","then","res","user","data","success","console","log","alert","isHost","isAdmin","message","Object","LoginContainer","div","withConfig","displayName","componentId","props","title","children","NRgu","exports","__NEXT_P","dAGg"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAcF,EAAoB,QAMlCG,GAHQH,EAAoB,QAGnBA,EAAoB,SAG7BI,EAAQJ,EAAoB,QAG5BK,EAAgCL,EAAoB,QAGpDM,EAAQN,EAAoB,QAC5BO,EAA6BP,EAAoBQ,EAAEF,GAGnDG,EAAMT,EAAoB,QAG1BU,EAASV,EAAoB,QAC7BW,EAA8BX,EAAoBQ,EAAEE,GAgEvBE,EAlDT,SAAkBC,EAAWC,GACnD,OAAO,SAAUC,GA2Cf,OA1CAR,EAAcS,EAAEC,IAAI,GAAGC,OAAOT,EAAqB,EAAG,mBAAoB,CACxEU,iBAAiB,IAChBC,MAAK,SAAUC,GAChB,IAAIC,EAAOD,EAAIE,KAAKD,KAEpB,GAAID,EAAIE,KAAKC,QAQX,OAPAC,QAAQC,IAAI,2DAEM,IAAdb,IACFc,MAAM,wEACNhB,EAAeK,EAAEpB,KAAK,MAGhBkB,GAEN,KAAK,EACH,OAAOC,EAGT,KAAK,EACH,GAAIO,EAAKM,OAAQ,OAAOb,EACxBY,MAAM,iFACNhB,EAAeK,EAAEpB,KAAK,KAGxB,KAAK,EACH,GAAI0B,EAAKO,QAAS,OAAOd,EACzBY,MAAM,iFACNhB,EAAeK,EAAEpB,KAAK,SAErB,CAKL,GAHA6B,QAAQC,IAAI,sDACZD,QAAQC,IAAIL,EAAIE,KAAKO,QAAS,mCAEZ,IAAdjB,EAGF,OAAOE,EAFPJ,EAAeK,EAAEpB,KAAK,cAMrB,WACL,OAAoBmC,OAAO7B,EAAiB,IAAxB6B,CAA2B7B,EAAsB,SAAG,OAa1E8B,EAAiB3B,EAA+C,EAAE4B,IAAIC,WAAW,CACnFC,YAAa,wBACbC,YAAa,gBAFM/B,CAGlB,CAAC,0BAW2CN,EAA6B,QAAKa,EAAa,EAAG,EAAjB,EAT9D,SAAeyB,GAC/B,OAAoBN,OAAO7B,EAAiB,IAAxB6B,CAA2B5B,EAAwB,EAAG,CACxEmC,MAAO,iCACPC,SAAuBR,OAAO7B,EAAiB,IAAxB6B,CAA2BC,EAAgB,CAChEO,SAAuBR,OAAO7B,EAAiB,IAAxB6B,CAA2B3B,EAAuB,EAAG,YAS5EoC,KACA,SAAU1C,EAAQ2C,EAASzC,IAG1BL,OAAO+C,SAAW/C,OAAO+C,UAAY,IAAI9C,KAAK,CAC7C,SACA,WACE,OAAOI,EAAoB,YAO/B2C,KACA,SAAU7C,EAAQ2C,EAASzC,GAEjCF,EAAO2C,QAAUzC,EAAoB,UAKnC,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/login-06a22fd4134ddd136e45.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[34],{\n\n/***/ \"11/B\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ../node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"oYCi\");\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(\"mXGw\");\n\n// EXTERNAL MODULE: ./components/main/Layout.tsx + 6 modules\nvar Layout = __webpack_require__(\"i3OP\");\n\n// EXTERNAL MODULE: ./components/user/Login.tsx\nvar Login = __webpack_require__(\"q4b/\");\n\n// EXTERNAL MODULE: ../node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"UutA\");\n\n// EXTERNAL MODULE: ../node_modules/axios/index.js\nvar axios = __webpack_require__(\"czhI\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./utils/url.ts\nvar url = __webpack_require__(\"jR5A\");\n\n// EXTERNAL MODULE: ../node_modules/next/router.js\nvar router = __webpack_require__(\"dAGg\");\nvar router_default = /*#__PURE__*/__webpack_require__.n(router);\n\n// CONCATENATED MODULE: ./components/main/hoc/withAuth.tsx\n\n\n\n\n\n\n\n// isLogined\n// 0: 아무나 볼 수 있음, 1: 로그인한 회원만 볼 수 있음, 2: 게스트만 볼 수 있음\n// grade\n// 0: 아무나 볼 수 있음, 2: 호스트회원만 볼 수 있음, 3: 관리자회원만 볼 수 있음\nvar withAuth_withAuth = function withAuth(isLogined, grade) {\n  return function (Component) {\n    axios_default.a.get(\"\".concat(url[\"a\" /* default */], \"/api/auth/check\"), {\n      withCredentials: true\n    }).then(function (res) {\n      var user = res.data.user;\n\n      if (res.data.success) {\n        console.log('로그인되어있습니다.');\n\n        if (isLogined === 2) {\n          alert('이미 로그인되어있습니다.');\n          router_default.a.push('/');\n        }\n\n        switch (grade) {\n          // 아무나\n          case 0:\n            return Component;\n          // 호스트\n\n          case 1:\n            if (user.isHost) return Component;\n            alert('접근할 수 없는 페이지 입니다.');\n            router_default.a.push('/');\n          // 관리자\n\n          case 2:\n            if (user.isAdmin) return Component;\n            alert('접근할 수 없는 페이지 입니다.');\n            router_default.a.push('/');\n        }\n      } else {\n        // 로그인되지않음\n        console.log('로그인을 해주세요.');\n        console.log(res.data.message, '이것은 에러');\n\n        if (isLogined === 1) {\n          router_default.a.push('/login');\n        } else {\n          return Component;\n        }\n      }\n    });\n    return function () {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"], {});\n    };\n  };\n};\n\n/* harmony default export */ var hoc_withAuth = (withAuth_withAuth);\n// CONCATENATED MODULE: ./pages/login.tsx\n\n\n\n\n\n\nvar LoginContainer = styled_components_browser_esm[\"b\" /* default */].div.withConfig({\n  displayName: \"login__LoginContainer\",\n  componentId: \"sc-1p0n174-0\"\n})([\"& > *{margin:0 auto;}\"]);\n\nvar login_login = function login(props) {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    title: \"\\uB85C\\uADF8\\uC778 | localhost\",\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginContainer, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login[\"a\" /* default */], {})\n    })\n  });\n};\n\n/* harmony default export */ var pages_login = __webpack_exports__[\"default\"] = (hoc_withAuth(2, 0)(login_login));\n\n/***/ }),\n\n/***/ \"NRgu\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login\",\n        function () {\n          return __webpack_require__(\"11/B\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"dAGg\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"bBV7\")\n\n\n/***/ })\n\n},[[\"NRgu\",0,2,1,3,5,4,6,7,8]]]);","inputSourceMap":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zknock/Develop/localhost_web/client/components/main/hoc/withAuth.tsx","/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zknock/Develop/localhost_web/client/pages/login.tsx","/Users/zknock/Develop/localhost_web/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Flogin&absolutePagePath=private-next-pages%2Flogin.tsx!","/Users/zknock/Develop/localhost_web/node_modules/next/router.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAgD;AACU;AAChC;AACA;AACc;AACP;;AAEjC;AACA;AACA;AACA;AACA,IAAI,iBAAQ;AACZ;AACA,IAAI,eAAK,eAAe,sBAAM;AAC9B;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,UAAU,gBAAM;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,gBAAM;AAClB;;AAEA;AACA;AACA;AACA,YAAY,gBAAM;AAClB;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,UAAU,gBAAM;AAChB,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA,0BAA0B,0BAAI,CAAC,uBAAS,IAAI;AAC5C;AACA;AACA;;AAEe,kEAAQ,E;;AC7DyB;AACtB;AACqB;AACF;AACN;AACgB;AACvD,qBAAqB,gDAAM;AAC3B;AACA;AACA,CAAC,UAAU,eAAe;;AAE1B,IAAI,WAAK;AACT,sBAAsB,0BAAI,CAAC,yBAAM;AACjC;AACA,2BAA2B,0BAAI;AAC/B,6BAA6B,0BAAI,CAAC,wBAAK,IAAI;AAC3C,KAAK;AACL,GAAG;AACH;;AAEe,6FAAQ,OAAO,WAAK,CAAC,E;;;;;;;;ACnBpC;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA8B;AACvD;AACA;;;;;;;;ACNA,iBAAiB,mBAAO,CAAC,MAAsB","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport axios from 'axios';\nimport React from 'react';\nimport SERVER from '../../../utils/url';\nimport Router from 'next/router';\n\n// isLogined\n// 0: 아무나 볼 수 있음, 1: 로그인한 회원만 볼 수 있음, 2: 게스트만 볼 수 있음\n// grade\n// 0: 아무나 볼 수 있음, 2: 호스트회원만 볼 수 있음, 3: 관리자회원만 볼 수 있음\nvar withAuth = function withAuth(isLogined, grade) {\n  return function (Component) {\n    axios.get(\"\".concat(SERVER, \"/api/auth/check\"), {\n      withCredentials: true\n    }).then(function (res) {\n      var user = res.data.user;\n\n      if (res.data.success) {\n        console.log('로그인되어있습니다.');\n\n        if (isLogined === 2) {\n          alert('이미 로그인되어있습니다.');\n          Router.push('/');\n        }\n\n        switch (grade) {\n          // 아무나\n          case 0:\n            return Component;\n          // 호스트\n\n          case 1:\n            if (user.isHost) return Component;\n            alert('접근할 수 없는 페이지 입니다.');\n            Router.push('/');\n          // 관리자\n\n          case 2:\n            if (user.isAdmin) return Component;\n            alert('접근할 수 없는 페이지 입니다.');\n            Router.push('/');\n        }\n      } else {\n        // 로그인되지않음\n        console.log('로그인을 해주세요.');\n        console.log(res.data.message, '이것은 에러');\n\n        if (isLogined === 1) {\n          Router.push('/login');\n        } else {\n          return Component;\n        }\n      }\n    });\n    return function () {\n      return /*#__PURE__*/_jsx(_Fragment, {});\n    };\n  };\n};\n\nexport default withAuth;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Layout from '../components/main/Layout';\nimport Login from '../components/user/Login';\nimport styled from 'styled-components';\nimport withAuth from '../components/main/hoc/withAuth';\nvar LoginContainer = styled.div.withConfig({\n  displayName: \"login__LoginContainer\",\n  componentId: \"sc-1p0n174-0\"\n})([\"& > *{margin:0 auto;}\"]);\n\nvar login = function login(props) {\n  return /*#__PURE__*/_jsx(Layout, {\n    title: \"\\uB85C\\uADF8\\uC778 | localhost\",\n    children: /*#__PURE__*/_jsx(LoginContainer, {\n      children: /*#__PURE__*/_jsx(Login, {})\n    })\n  });\n};\n\nexport default withAuth(2, 0)(login);","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login\",\n        function () {\n          return require(\"private-next-pages/login.tsx\");\n        }\n      ]);\n    ","module.exports = require('./dist/client/router')\n"]}}