{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\board\\\\BoardList.tsx\";\nimport React, { useState } from 'react';\nimport Search from '../search/Search';\nimport BoardItem from './BoardItem';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport SERVER from '../../utils/url';\nimport Pagination from '../main/Pagination';\nconst BoardContainer = styled.div.withConfig({\n  displayName: \"BoardList__BoardContainer\",\n  componentId: \"im4a4e-0\"\n})([\"margin:1rem 0;& > *{margin:0.25rem 0;}\"]);\n\nconst BoardList = props => {\n  // const { boards } = props;\n  const {\n    0: boards,\n    1: setBoards\n  } = useState(props.boards);\n\n  const onSubmit = async (e, type, item) => {\n    e.preventDefault();\n    const res = await axios.post(`${SERVER}/api/board/search`, {\n      type: type,\n      item: item\n    });\n    setBoards(res.data.list);\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      options: ['title', 'description', 'nickname'],\n      label: ['제목', '내용', '작성자'],\n      onSubmit: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: boards.map(board => /*#__PURE__*/_jsxDEV(BoardItem, {\n        board: board\n      }, board.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/board/write\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      currentIdx: props.page,\n      lastIdx: props.lastIdx,\n      url: \"/board\",\n      api: `${SERVER}/api/board/list`,\n      setItems: setBoards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n};\n\nexport default BoardList;","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/board/BoardList.tsx"],"names":["React","useState","Search","BoardItem","styled","Link","axios","SERVER","Pagination","BoardContainer","div","BoardList","props","boards","setBoards","onSubmit","e","type","item","preventDefault","res","post","data","list","map","board","id","page","lastIdx"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AAQA,MAAMC,cAAc,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,8CAApB;;AAOA,MAAMC,SAAS,GAAIC,KAAD,IAAkB;AACnC;AACA,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBb,QAAQ,CAACW,KAAK,CAACC,MAAP,CAApC;;AAEA,QAAME,QAAQ,GAAG,OAAOC,CAAP,EAA2BC,IAA3B,EAAiCC,IAAjC,KAA0C;AAC1DF,IAAAA,CAAC,CAACG,cAAF;AACA,UAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAY,GAAEd,MAAO,mBAArB,EAAyC;AAC1DU,MAAAA,IAAI,EAAEA,IADoD;AAE1DC,MAAAA,IAAI,EAAEA;AAFoD,KAAzC,CAAlB;AAKAJ,IAAAA,SAAS,CAACM,GAAG,CAACE,IAAJ,CAASC,IAAV,CAAT;AACA,GARD;;AAUA,sBACC,QAAC,cAAD;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAGC,QAAC,MAAD;AACC,MAAA,OAAO,EAAE,CAAC,OAAD,EAAU,aAAV,EAAyB,UAAzB,CADV;AAEC,MAAA,KAAK,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,KAAb,CAFR;AAGC,MAAA,QAAQ,EAAER;AAHX;AAAA;AAAA;AAAA;AAAA,YAHD,eAQC;AAAA,gBACEF,MAAM,CAACW,GAAP,CAAWC,KAAK,iBAChB,QAAC,SAAD;AAAW,QAAA,KAAK,EAAEA;AAAlB,SAA8BA,KAAK,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,cADA;AADF;AAAA;AAAA;AAAA;AAAA,YARD,eAcC,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,cAAX;AAAA,6BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAdD,eAkBC,QAAC,UAAD;AACC,MAAA,UAAU,EAAEd,KAAK,CAACe,IADnB;AAEC,MAAA,OAAO,EAAEf,KAAK,CAACgB,OAFhB;AAGC,MAAA,GAAG,EAAC,QAHL;AAIC,MAAA,GAAG,EAAG,GAAErB,MAAO,iBAJhB;AAKC,MAAA,QAAQ,EAAEO;AALX;AAAA;AAAA;AAAA;AAAA,YAlBD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA4BA,CA1CD;;AA4CA,eAAeH,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Search from '../search/Search';\r\nimport BoardItem from './BoardItem';\r\nimport styled from 'styled-components';\r\nimport Link from 'next/link';\r\nimport { Board } from '../../interfaces';\r\nimport axios from 'axios';\r\nimport SERVER from '../../utils/url';\r\nimport Pagination from '../main/Pagination';\r\n\r\ninterface Props {\r\n\tboards: Board[];\r\n\tpage?: number;\r\n\tlastIdx: number;\r\n}\r\n\r\nconst BoardContainer = styled.div`\r\n\tmargin: 1rem 0;\r\n\t& > * {\r\n\t\tmargin: 0.25rem 0;\r\n\t}\r\n`;\r\n\r\nconst BoardList = (props: Props) => {\r\n\t// const { boards } = props;\r\n\tconst [boards, setBoards] = useState(props.boards);\r\n\r\n\tconst onSubmit = async (e: React.FormEvent, type, item) => {\r\n\t\te.preventDefault();\r\n\t\tconst res = await axios.post(`${SERVER}/api/board/search`, {\r\n\t\t\ttype: type,\r\n\t\t\titem: item,\r\n\t\t});\r\n\r\n\t\tsetBoards(res.data.list);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<BoardContainer>\r\n\t\t\t<h2>자유게시판</h2>\r\n\t\t\t{/* 검색 */}\r\n\t\t\t<Search\r\n\t\t\t\toptions={['title', 'description', 'nickname']}\r\n\t\t\t\tlabel={['제목', '내용', '작성자']}\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t/>\r\n\t\t\t<div>\r\n\t\t\t\t{boards.map(board => (\r\n\t\t\t\t\t<BoardItem board={board} key={board.id} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t{/* 작성버튼 */}\r\n\t\t\t<Link href='/board/write'>\r\n\t\t\t\t<button>작성</button>\r\n\t\t\t</Link>\r\n\t\t\t{/* 페이지네이션 */}\r\n\t\t\t<Pagination\r\n\t\t\t\tcurrentIdx={props.page}\r\n\t\t\t\tlastIdx={props.lastIdx}\r\n\t\t\t\turl='/board'\r\n\t\t\t\tapi={`${SERVER}/api/board/list`}\r\n\t\t\t\tsetItems={setBoards}\r\n\t\t\t/>\r\n\t\t</BoardContainer>\r\n\t);\r\n};\r\n\r\nexport default BoardList;\r\n"]},"metadata":{},"sourceType":"module"}