{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\host\\\\HostFilter.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Grow, Slider } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../utils/url';\nimport Button from '../reuse/Button';\nimport Input from '../reuse/Input';\nimport LanguageSelect from '../reuse/LanguageSelect';\nvar FilterContainer = styled.div.withConfig({\n  displayName: \"HostFilter__FilterContainer\",\n  componentId: \"qeeafx-0\"\n})([\"position:absolute;background:rgba(255,255,255,0.9);border-radius:0.25rem;padding:1rem;z-index:1;width:240px;box-sizing:border-box;box-shadow:0px 2px 4px rgba(0,0,0,0.2);& > div{display:flex;align-items:center;margin:0.5rem 0;& > *:first-child{width:33%;}& > *:last-child{width:66%;}}\"]);\n_c = FilterContainer;\nvar StyledSlider = styled(Slider).withConfig({\n  displayName: \"HostFilter__StyledSlider\",\n  componentId: \"qeeafx-1\"\n})([\"&.MuiSlider-root{color:#5179d5;}& .MuiSlider-markLabel{font-size:0.8em;}\"]);\n_c2 = StyledSlider;\n\nvar HostFilter = function HostFilter(props) {\n  _s();\n\n  var origin = props.origin,\n      setOrigin = props.setOrigin,\n      setNearbyHosts = props.setNearbyHosts,\n      _props$onShow = props.onShow,\n      onShow = _props$onShow === void 0 ? true : _props$onShow,\n      onClose = props.onClose,\n      coord = props.coord;\n\n  var _useState = useState(4),\n      distance = _useState[0],\n      setDistance = _useState[1];\n\n  useEffect(function () {\n    // 거리가 변할 때마다 axios 요청 후 setNearbyHosts 해주기\n    axios.post(\"\".concat(SERVER, \"/api/host/nearbyList\"), {\n      latitude: coord.lat,\n      longitude: coord.lng,\n      distance: distance\n    }).then(function (res) {\n      setOrigin(res.data.nearbyhosts);\n    });\n  }, [distance]);\n  var marks = [{\n    value: 1,\n    label: '1km'\n  }, {\n    value: 8.5,\n    label: '8.5km'\n  }, {\n    value: 16,\n    label: '16km'\n  }];\n\n  var onLangChange = function onLangChange(langs) {\n    // origin 호스트 목록에서 비교를 통해\n    if (langs.length > 0) {\n      var filteredList = origin.filter(function (host) {\n        return host.languages.filter(function (lang) {\n          return langs.includes(lang);\n        }).length;\n      }); // filtered 호스트 목록을 set 해준다.\n\n      setNearbyHosts(filteredList);\n    } else {\n      setNearbyHosts(origin);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grow, {\n    \"in\": onShow,\n    timeout: 200,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        top: '2.5rem',\n        left: '-240px'\n      },\n      children: /*#__PURE__*/_jsxDEV(FilterContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uC5EC\\uD589\\uC2A4\\uD0C0\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uC5B8\\uC5B4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(LanguageSelect, {\n            onChange: onLangChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uAC70\\uB9AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(StyledSlider, {\n            defaultValue: 4,\n            min: 1,\n            step: 0.5,\n            max: 16,\n            marks: marks,\n            valueLabelDisplay: \"auto\",\n            value: distance,\n            onChange: function onChange(e, value) {\n              setDistance(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: function onClick() {\n            onClose();\n          },\n          width: \"100%\",\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(HostFilter, \"H6ON2180ITJmW3f6RCirF4HIn1M=\");\n\n_c3 = HostFilter;\nexport default HostFilter;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FilterContainer\");\n$RefreshReg$(_c2, \"StyledSlider\");\n$RefreshReg$(_c3, \"HostFilter\");","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/host/HostFilter.tsx"],"names":["Grow","Slider","axios","React","useEffect","useState","styled","SERVER","Button","Input","LanguageSelect","FilterContainer","div","StyledSlider","HostFilter","props","origin","setOrigin","setNearbyHosts","onShow","onClose","coord","distance","setDistance","post","latitude","lat","longitude","lng","then","res","data","nearbyhosts","marks","value","label","onLangChange","langs","length","filteredList","filter","host","languages","lang","includes","position","top","left","e"],"mappings":"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","sourcesContent":["import { Grow, Slider } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React, {\r\n\tChangeEvent,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseEffect,\r\n\tuseState,\r\n} from 'react';\r\nimport styled from 'styled-components';\r\nimport { Host } from '../../interfaces';\r\nimport SERVER from '../../utils/url';\r\nimport Button from '../reuse/Button';\r\nimport Input from '../reuse/Input';\r\nimport LanguageSelect from '../reuse/LanguageSelect';\r\n\r\ninterface FilterProps {\r\n\torigin: Host[];\r\n\tsetOrigin: Dispatch<SetStateAction<Host[]>>;\r\n\tsetNearbyHosts: Dispatch<SetStateAction<Host[]>>;\r\n\tonShow?: boolean;\r\n\tonClose?: Function;\r\n\tcoord: { lat: number; lng: number };\r\n}\r\n\r\nconst FilterContainer = styled.div`\r\n\tposition: absolute;\r\n\tbackground: rgba(255, 255, 255, 0.9);\r\n\tborder-radius: 0.25rem;\r\n\tpadding: 1rem;\r\n\tz-index: 1;\r\n\twidth: 240px;\r\n\tbox-sizing: border-box;\r\n\tbox-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\r\n\t& > div {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin: 0.5rem 0;\r\n\t\t& > *:first-child {\r\n\t\t\twidth: 33%;\r\n\t\t}\r\n\t\t& > *:last-child {\r\n\t\t\twidth: 66%;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst StyledSlider = styled(Slider)`\r\n\t&.MuiSlider-root {\r\n\t\tcolor: #5179d5;\r\n\t}\r\n\t& .MuiSlider-markLabel {\r\n\t\tfont-size: 0.8em;\r\n\t}\r\n`;\r\n\r\nconst HostFilter = (props: FilterProps) => {\r\n\tconst {\r\n\t\torigin,\r\n\t\tsetOrigin,\r\n\t\tsetNearbyHosts,\r\n\t\tonShow = true,\r\n\t\tonClose,\r\n\t\tcoord,\r\n\t} = props;\r\n\tconst [distance, setDistance] = useState(4);\r\n\r\n\tuseEffect(() => {\r\n\t\t// 거리가 변할 때마다 axios 요청 후 setNearbyHosts 해주기\r\n\t\taxios\r\n\t\t\t.post(`${SERVER}/api/host/nearbyList`, {\r\n\t\t\t\tlatitude: coord.lat,\r\n\t\t\t\tlongitude: coord.lng,\r\n\t\t\t\tdistance: distance,\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetOrigin(res.data.nearbyhosts);\r\n\t\t\t});\r\n\t}, [distance]);\r\n\r\n\tconst marks = [\r\n\t\t{ value: 1, label: '1km' },\r\n\t\t{ value: 8.5, label: '8.5km' },\r\n\t\t{ value: 16, label: '16km' },\r\n\t];\r\n\r\n\tconst onLangChange = (langs: string[]) => {\r\n\t\t// origin 호스트 목록에서 비교를 통해\r\n\t\tif (langs.length > 0) {\r\n\t\t\tconst filteredList = origin.filter(host => {\r\n\t\t\t\treturn host.languages.filter(lang => langs.includes(lang)).length;\r\n\t\t\t});\r\n\t\t\t// filtered 호스트 목록을 set 해준다.\r\n\t\t\tsetNearbyHosts(filteredList);\r\n\t\t} else {\r\n\t\t\tsetNearbyHosts(origin);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Grow in={onShow} timeout={200}>\r\n\t\t\t<div style={{ position: 'relative', top: '2.5rem', left: '-240px' }}>\r\n\t\t\t\t<FilterContainer>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label>여행스타일</label>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label>언어</label>\r\n\t\t\t\t\t\t<LanguageSelect onChange={onLangChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label>거리</label>\r\n\t\t\t\t\t\t<StyledSlider\r\n\t\t\t\t\t\t\tdefaultValue={4}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tstep={0.5}\r\n\t\t\t\t\t\t\tmax={16}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tvalue={distance}\r\n\t\t\t\t\t\t\tonChange={(e: ChangeEvent<{}>, value: number) => {\r\n\t\t\t\t\t\t\t\tsetDistance(value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t확인\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</FilterContainer>\r\n\t\t\t</div>\r\n\t\t</Grow>\r\n\t);\r\n};\r\n\r\nexport default HostFilter;\r\n"]},"metadata":{},"sourceType":"module"}