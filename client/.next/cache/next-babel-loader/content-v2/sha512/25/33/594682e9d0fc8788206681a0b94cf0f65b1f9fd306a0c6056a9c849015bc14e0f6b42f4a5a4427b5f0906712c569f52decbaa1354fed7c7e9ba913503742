{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/hby84/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/210428/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/hby84/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/210428/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\board\\\\BoardList.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Search from '../search/Search';\nimport BoardItem from './BoardItem';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport SERVER from '../../utils/url';\nimport Pagination from '../main/Pagination';\nvar BoardContainer = styled.div.withConfig({\n  displayName: \"BoardList__BoardContainer\",\n  componentId: \"im4a4e-0\"\n})([\"margin:1rem 0;& > *{margin:0.25rem 0;}\"]);\n_c = BoardContainer;\n\nvar BoardList = function BoardList(props) {\n  _s();\n\n  // const { boards } = props;\n  var _useState = useState(props.boards),\n      boards = _useState[0],\n      setBoards = _useState[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, type, item) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return axios.post(\"\".concat(SERVER, \"/api/board/search\"), {\n                type: type,\n                item: item\n              });\n\n            case 3:\n              res = _context.sent;\n              setBoards(res.data.list);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(BoardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Search, {\n      options: ['title', 'description', 'nickname'],\n      label: ['제목', '내용', '작성자'],\n      onSubmit: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: boards.map(function (board) {\n        return /*#__PURE__*/_jsxDEV(BoardItem, {\n          board: board\n        }, board.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/board/write\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Pagination, {\n      currentIdx: props.page,\n      lastIdx: props.lastIdx,\n      url: \"/board\",\n      api: \"\".concat(SERVER, \"/api/board/list\"),\n      setItems: setBoards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(BoardList, \"HoNfl4em3PyBWlGjUhTBV5K7KJA=\");\n\n_c2 = BoardList;\nexport default BoardList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BoardContainer\");\n$RefreshReg$(_c2, \"BoardList\");","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/board/BoardList.tsx"],"names":["React","useState","Search","BoardItem","styled","Link","axios","SERVER","Pagination","BoardContainer","div","BoardList","props","boards","setBoards","onSubmit","e","type","item","preventDefault","post","res","data","list","map","board","id","page","lastIdx"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AAQA,IAAMC,cAAc,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,8CAApB;KAAMD,c;;AAON,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAkB;AAAA;;AACnC;AADmC,kBAEPX,QAAQ,CAACW,KAAK,CAACC,MAAP,CAFD;AAAA,MAE5BA,MAF4B;AAAA,MAEpBC,SAFoB;;AAInC,MAAMC,QAAQ;AAAA,wEAAG,iBAAOC,CAAP,EAA2BC,IAA3B,EAAiCC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBF,cAAAA,CAAC,CAACG,cAAF;AADgB;AAAA,qBAEEb,KAAK,CAACc,IAAN,WAAcb,MAAd,wBAAyC;AAC1DU,gBAAAA,IAAI,EAAEA,IADoD;AAE1DC,gBAAAA,IAAI,EAAEA;AAFoD,eAAzC,CAFF;;AAAA;AAEVG,cAAAA,GAFU;AAOhBP,cAAAA,SAAS,CAACO,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAT;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARR,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAUA,sBACC,QAAC,cAAD;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,eAGC,QAAC,MAAD;AACC,MAAA,OAAO,EAAE,CAAC,OAAD,EAAU,aAAV,EAAyB,UAAzB,CADV;AAEC,MAAA,KAAK,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,KAAb,CAFR;AAGC,MAAA,QAAQ,EAAEA;AAHX;AAAA;AAAA;AAAA;AAAA,aAHD,eAQC;AAAA,gBACEF,MAAM,CAACW,GAAP,CAAW,UAAAC,KAAK;AAAA,4BAChB,QAAC,SAAD;AAAW,UAAA,KAAK,EAAEA;AAAlB,WAA8BA,KAAK,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,iBADgB;AAAA,OAAhB;AADF;AAAA;AAAA;AAAA;AAAA,aARD,eAcC,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,cAAX;AAAA,6BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,aAdD,eAkBC,QAAC,UAAD;AACC,MAAA,UAAU,EAAEd,KAAK,CAACe,IADnB;AAEC,MAAA,OAAO,EAAEf,KAAK,CAACgB,OAFhB;AAGC,MAAA,GAAG,EAAC,QAHL;AAIC,MAAA,GAAG,YAAKrB,MAAL,oBAJJ;AAKC,MAAA,QAAQ,EAAEO;AALX;AAAA;AAAA;AAAA;AAAA,aAlBD;AAAA;AAAA;AAAA;AAAA;AAAA,WADD;AA4BA,CA1CD;;GAAMH,S;;MAAAA,S;AA4CN,eAAeA,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Search from '../search/Search';\r\nimport BoardItem from './BoardItem';\r\nimport styled from 'styled-components';\r\nimport Link from 'next/link';\r\nimport { Board } from '../../interfaces';\r\nimport axios from 'axios';\r\nimport SERVER from '../../utils/url';\r\nimport Pagination from '../main/Pagination';\r\n\r\ninterface Props {\r\n\tboards: Board[];\r\n\tpage?: number;\r\n\tlastIdx: number;\r\n}\r\n\r\nconst BoardContainer = styled.div`\r\n\tmargin: 1rem 0;\r\n\t& > * {\r\n\t\tmargin: 0.25rem 0;\r\n\t}\r\n`;\r\n\r\nconst BoardList = (props: Props) => {\r\n\t// const { boards } = props;\r\n\tconst [boards, setBoards] = useState(props.boards);\r\n\r\n\tconst onSubmit = async (e: React.FormEvent, type, item) => {\r\n\t\te.preventDefault();\r\n\t\tconst res = await axios.post(`${SERVER}/api/board/search`, {\r\n\t\t\ttype: type,\r\n\t\t\titem: item,\r\n\t\t});\r\n\r\n\t\tsetBoards(res.data.list);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<BoardContainer>\r\n\t\t\t<h2>자유게시판</h2>\r\n\t\t\t{/* 검색 */}\r\n\t\t\t<Search\r\n\t\t\t\toptions={['title', 'description', 'nickname']}\r\n\t\t\t\tlabel={['제목', '내용', '작성자']}\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t/>\r\n\t\t\t<div>\r\n\t\t\t\t{boards.map(board => (\r\n\t\t\t\t\t<BoardItem board={board} key={board.id} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t{/* 작성버튼 */}\r\n\t\t\t<Link href='/board/write'>\r\n\t\t\t\t<button>작성</button>\r\n\t\t\t</Link>\r\n\t\t\t{/* 페이지네이션 */}\r\n\t\t\t<Pagination\r\n\t\t\t\tcurrentIdx={props.page}\r\n\t\t\t\tlastIdx={props.lastIdx}\r\n\t\t\t\turl='/board'\r\n\t\t\t\tapi={`${SERVER}/api/board/list`}\r\n\t\t\t\tsetItems={setBoards}\r\n\t\t\t/>\r\n\t\t</BoardContainer>\r\n\t);\r\n};\r\n\r\nexport default BoardList;\r\n"]},"metadata":{},"sourceType":"module"}