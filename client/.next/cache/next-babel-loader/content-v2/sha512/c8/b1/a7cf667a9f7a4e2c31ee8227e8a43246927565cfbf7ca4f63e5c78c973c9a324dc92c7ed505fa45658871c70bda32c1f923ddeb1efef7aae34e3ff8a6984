{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/client/components/user/Mypage/Privacy.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Modal, Fade, Snackbar } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../../hooks/useInput';\nimport styled from 'styled-components';\nimport { UserSetterContext, UserStateContext } from '../../../context/user';\nimport axios from 'axios';\nimport SERVER from '../../../utils/url';\nimport UserPhoto from '../UserPhoto';\nimport Button from '../../reuse/Button';\nimport CpxBarometer from '../../reuse/CpxBarometer';\nimport Input from '../../reuse/Input';\nimport SearchPlace from '../../search/SearchPlace';\nimport Alert from '@material-ui/lab/Alert';\nconst PrivacyContainer = styled.div.withConfig({\n  displayName: \"Privacy__PrivacyContainer\",\n  componentId: \"sc-1k7ezk7-0\"\n})([\"margin:0 auto;& > div{margin:1rem auto;display:flex;align-items:center;& > div{margin:0 1rem;}& > div:first-child{flex:1;}& > div:last-child{flex:3;}& input{width:16em;}}\"]);\nconst StyledModal = styled(Modal).withConfig({\n  displayName: \"Privacy__StyledModal\",\n  componentId: \"sc-1k7ezk7-1\"\n})([\"display:flex;align-items:center;justify-content:center;& .searchForm{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\nconst inputProps = {\n  width: '100% !important',\n  borderRadius: '0.25rem',\n  border: '1px solid rgba(0,0,0,0.41)',\n  textAlign: 'left'\n};\nconst btnProps = {\n  padding: '0.75rem 1rem'\n};\n\nconst Privacy = props => {\n  const currentUser = useContext(UserStateContext);\n  const setCurrentUser = useContext(UserSetterContext); // 입력받는 데이터\n\n  const pwInput = useInput('');\n  const nnInput = useInput(currentUser.nickname);\n  const phInput = useInput(currentUser.phone);\n  const {\n    0: place,\n    1: setPlace\n  } = useState({\n    name: '',\n    formatted_address: currentUser.address,\n    geometry: {\n      location: {\n        lat: 0,\n        lng: 0\n      }\n    }\n  });\n  const {\n    0: img,\n    1: setImg\n  } = useState(null);\n  const {\n    0: photoUrl,\n    1: setPhotoUrl\n  } = useState(currentUser.photo); // 패스워드 수정 on/off\n\n  const {\n    0: enabledPw,\n    1: setEnabledPw\n  } = useState(false); // 정보변경 알림\n\n  const {\n    0: onToast,\n    1: setOnToase\n  } = useState(false);\n\n  const onOpenToast = () => {\n    setOnToase(true);\n  };\n\n  const onCloseToast = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOnToase(false);\n  }; // 패스워드 변경 알림\n\n\n  const {\n    0: onPwToast,\n    1: setOnPwToase\n  } = useState(false);\n\n  const onOpenPwToast = () => {\n    setOnPwToase(true);\n  };\n\n  const onClosePwToast = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOnPwToase(false);\n  }; // 취소버튼\n\n\n  const onReset = () => {\n    pwInput.setValue('');\n    nnInput.setValue(currentUser.nickname);\n    phInput.setValue(currentUser.phone);\n    setPlace({\n      name: '',\n      formatted_address: currentUser.address,\n      geometry: {\n        location: {\n          lat: 0,\n          lng: 0\n        }\n      }\n    });\n    setEnabledPw(false);\n  }; // 수정버튼\n\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const address = place.name === '' || !place.name ? place.formatted_address : `${place.formatted_address}(${place.name})`;\n    const user = {\n      email: currentUser.email,\n      nickname: nnInput.value,\n      phone: phInput.value,\n      address: address\n    }; // 유저정보 변경\n\n    const res = await axios.post(`${SERVER}/api/user/update`, _objectSpread({}, user));\n\n    if (res.data.success) {\n      setCurrentUser(_objectSpread(_objectSpread({}, currentUser), user));\n      onOpenToast(); // Router.push('/users/mypage');\n    }\n  }; // 비밀번호 변경버튼\n\n\n  const onClickPw = () => {\n    if (enabledPw) {\n      axios.post(`${SERVER}/api/user/updatePW`, {\n        email: currentUser.email,\n        pw: pwInput.value\n      }).then(res => {\n        res.data.success ? onOpenPwToast() : '';\n      });\n    }\n\n    pwInput.setValue('');\n    setEnabledPw(!enabledPw);\n  }; // 비밀번호 취소버튼\n\n\n  const onResetPw = () => {\n    pwInput.setValue('');\n    setEnabledPw(false);\n  };\n\n  const onClickPhoto = e => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.click();\n\n    input.onchange = function (e) {\n      setImg(e.target.files[0]);\n    };\n  };\n\n  const onClickReset = () => {\n    setPhotoUrl('');\n    axios.post(`${SERVER}/api/user/update/photo`, {\n      id: currentUser.id,\n      url: ''\n    }).then(res => {\n      console.log(res);\n    });\n  }; // 이미지가 바뀌었을 때\n\n\n  useEffect(() => {\n    if (img !== null) {\n      // formData generate\n      const formData = new FormData(); // formData에 key, value 추가\n\n      formData.append('file', img);\n      formData.append('name', `user_profile_${currentUser.id}`);\n      axios.post(`${SERVER}/api/s3/upload`, formData).then(res => {\n        // 뷰에 포토 수정\n        const time = new Date().getTime();\n        setPhotoUrl(`${res.data.url}?time=${time}`); // 디비에 포토 수정\n\n        axios.post(`${SERVER}/api/user/update/photo`, {\n          id: currentUser.id,\n          url: res.data.url\n        }).then(res => {\n          location.href = '/users/mypage';\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [img]); // 모달을 위한 State\n\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    setOpen(false);\n  }, [place]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: props.id,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uAE30\\uBCF8 \\uD68C\\uC6D0\\uC815\\uBCF4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(PrivacyContainer, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uC0AC\\uC9C4: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(UserPhoto, {\n                src: photoUrl,\n                width: 8,\n                margin: \"1rem 0\",\n                onClick: onClickPhoto,\n                hover: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, btnProps), {}, {\n                default: true,\n                type: \"button\",\n                onClick: onClickReset,\n                children: \"\\uAE30\\uBCF8\\uC774\\uBBF8\\uC9C0\\uB85C \\uBCC0\\uACBD\"\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uC774\\uBA54\\uC77C: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: currentUser.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD328\\uC2A4\\uC6CC\\uB4DC: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Input, _objectSpread(_objectSpread({\n                  type: \"password\"\n                }, inputProps), {}, {\n                  disabled: !enabledPw\n                }, pwInput), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    whiteSpace: 'nowrap'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, btnProps), {}, {\n                    type: \"button\",\n                    onClick: onClickPw,\n                    default: !enabledPw,\n                    children: \"\\uBCC0\\uACBD\"\n                  }), void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 11\n                  }, this), enabledPw ? /*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, btnProps), {}, {\n                    default: true,\n                    type: \"button\",\n                    onClick: onResetPw,\n                    children: \"\\uCDE8\\uC18C\"\n                  }), void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 12\n                  }, this) : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(CpxBarometer, {\n                value: pwInput.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uC774\\uB984:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: currentUser.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uB2C9\\uB124\\uC784:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Input, _objectSpread(_objectSpread({}, inputProps), nnInput), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD734\\uB300\\uD3F0: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Input, _objectSpread(_objectSpread({}, inputProps), phInput), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uC8FC\\uC18C: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Input, _objectSpread(_objectSpread({}, inputProps), {}, {\n                value: place.name ? `${place.formatted_address}(${place.name})` : currentUser.address,\n                onClick: handleOpen,\n                onChange: handleOpen\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(StyledModal, {\n                open: open,\n                onClose: handleClose,\n                children: /*#__PURE__*/_jsxDEV(Fade, {\n                  in: open,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"searchForm\",\n                    children: /*#__PURE__*/_jsxDEV(SearchPlace, {\n                      setPlace: setPlace\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'right',\n          marginTop: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"reset\",\n          default: true,\n          padding: \"0.75rem 2rem\",\n          style: {\n            marginRight: '0.25rem'\n          },\n          onClick: onReset,\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          onClick: onSubmit,\n          padding: \"0.75rem 2rem\",\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: onToast,\n      autoHideDuration: 4000,\n      onClose: onCloseToast,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: onCloseToast,\n        severity: \"success\",\n        elevation: 6,\n        variant: \"filled\",\n        children: \"\\uC815\\uBCF4 \\uC218\\uC815\\uC5D0 \\uC131\\uACF5\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: onPwToast,\n      autoHideDuration: 4000,\n      onClose: onClosePwToast,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: onClosePwToast,\n        severity: \"success\",\n        elevation: 6,\n        variant: \"filled\",\n        children: \"\\uD328\\uC2A4\\uC6CC\\uB4DC \\uBCC0\\uACBD\\uC5D0 \\uC131\\uACF5\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 3\n  }, this);\n};\n\nexport default Privacy;","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/client/components/user/Mypage/Privacy.tsx"],"names":["Modal","Fade","Snackbar","React","useContext","useEffect","useState","useInput","styled","UserSetterContext","UserStateContext","axios","SERVER","UserPhoto","Button","CpxBarometer","Input","SearchPlace","Alert","PrivacyContainer","div","StyledModal","inputProps","width","borderRadius","border","textAlign","btnProps","padding","Privacy","props","currentUser","setCurrentUser","pwInput","nnInput","nickname","phInput","phone","place","setPlace","name","formatted_address","address","geometry","location","lat","lng","img","setImg","photoUrl","setPhotoUrl","photo","enabledPw","setEnabledPw","onToast","setOnToase","onOpenToast","onCloseToast","event","reason","onPwToast","setOnPwToase","onOpenPwToast","onClosePwToast","onReset","setValue","onSubmit","e","preventDefault","user","email","value","res","post","data","success","onClickPw","pw","then","onResetPw","onClickPhoto","input","document","createElement","type","accept","click","onchange","target","files","onClickReset","id","url","console","log","formData","FormData","append","time","Date","getTime","href","catch","err","open","setOpen","handleOpen","handleClose","display","whiteSpace","marginTop","marginRight"],"mappings":"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","sourcesContent":["import { Modal, Fade, Snackbar } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../../hooks/useInput';\nimport { Place, User } from '../../../interfaces';\nimport styled from 'styled-components';\nimport { UserSetterContext, UserStateContext } from '../../../context/user';\nimport axios from 'axios';\nimport SERVER from '../../../utils/url';\nimport UserPhoto from '../UserPhoto';\nimport Button from '../../reuse/Button';\nimport CpxBarometer from '../../reuse/CpxBarometer';\nimport Input from '../../reuse/Input';\nimport SearchPlace from '../../search/SearchPlace';\nimport Router from 'next/router';\nimport Alert from '@material-ui/lab/Alert';\n\ninterface Props {\n\tid: string;\n\tfollowingUsers?: User[];\n\tfollowers?: User[];\n}\n\nconst PrivacyContainer = styled.div`\n\tmargin: 0 auto;\n\t& > div {\n\t\tmargin: 1rem auto;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t& > div {\n\t\t\tmargin: 0 1rem;\n\t\t}\n\t\t& > div:first-child {\n\t\t\tflex: 1;\n\t\t}\n\t\t& > div:last-child {\n\t\t\tflex: 3;\n\t\t}\n\t\t& input {\n\t\t\twidth: 16em;\n\t\t}\n\t}\n`;\nconst StyledModal = styled(Modal)`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& .searchForm {\n\t\twidth: 80vw;\n\t\tmax-width: 800px;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tpadding: 1rem;\n\t\tborder-radius: 0.25rem;\n\t\toutline: 0;\n\t\tbox-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -2px -2px 8px rgba(0, 0, 0, 0.3);\n\t}\n`;\n\nconst inputProps = {\n\twidth: '100% !important',\n\tborderRadius: '0.25rem',\n\tborder: '1px solid rgba(0,0,0,0.41)',\n\ttextAlign: 'left',\n};\n\nconst btnProps = {\n\tpadding: '0.75rem 1rem',\n};\n\nconst Privacy = (props: Props) => {\n\tconst currentUser = useContext(UserStateContext);\n\tconst setCurrentUser = useContext(UserSetterContext);\n\n\t// 입력받는 데이터\n\tconst pwInput = useInput('');\n\tconst nnInput = useInput(currentUser.nickname);\n\tconst phInput = useInput(currentUser.phone);\n\tconst [place, setPlace] = useState<Place>({\n\t\tname: '',\n\t\tformatted_address: currentUser.address,\n\t\tgeometry: { location: { lat: 0, lng: 0 } },\n\t});\n\n\tconst [img, setImg] = useState(null);\n\tconst [photoUrl, setPhotoUrl] = useState(currentUser.photo);\n\n\t// 패스워드 수정 on/off\n\tconst [enabledPw, setEnabledPw] = useState(false);\n\n\t// 정보변경 알림\n\tconst [onToast, setOnToase] = useState(false);\n\tconst onOpenToast = () => {\n\t\tsetOnToase(true);\n\t};\n\tconst onCloseToast = (event?: React.SyntheticEvent, reason?: string) => {\n\t\tif (reason === 'clickaway') {\n\t\t\treturn;\n\t\t}\n\t\tsetOnToase(false);\n\t};\n\t// 패스워드 변경 알림\n\tconst [onPwToast, setOnPwToase] = useState(false);\n\tconst onOpenPwToast = () => {\n\t\tsetOnPwToase(true);\n\t};\n\tconst onClosePwToast = (event?: React.SyntheticEvent, reason?: string) => {\n\t\tif (reason === 'clickaway') {\n\t\t\treturn;\n\t\t}\n\t\tsetOnPwToase(false);\n\t};\n\n\t// 취소버튼\n\tconst onReset = () => {\n\t\tpwInput.setValue('');\n\t\tnnInput.setValue(currentUser.nickname);\n\t\tphInput.setValue(currentUser.phone);\n\t\tsetPlace({\n\t\t\tname: '',\n\t\t\tformatted_address: currentUser.address,\n\t\t\tgeometry: { location: { lat: 0, lng: 0 } },\n\t\t});\n\t\tsetEnabledPw(false);\n\t};\n\t// 수정버튼\n\tconst onSubmit = async (e: React.MouseEvent) => {\n\t\te.preventDefault();\n\t\tconst address =\n\t\t\tplace.name === '' || !place.name\n\t\t\t\t? place.formatted_address\n\t\t\t\t: `${place.formatted_address}(${place.name})`;\n\t\tconst user = {\n\t\t\temail: currentUser.email,\n\t\t\tnickname: nnInput.value,\n\t\t\tphone: phInput.value,\n\t\t\taddress: address,\n\t\t};\n\t\t// 유저정보 변경\n\t\tconst res = await axios.post(`${SERVER}/api/user/update`, { ...user });\n\n\t\tif (res.data.success) {\n\t\t\tsetCurrentUser({ ...currentUser, ...user });\n\t\t\tonOpenToast();\n\t\t\t// Router.push('/users/mypage');\n\t\t}\n\t};\n\n\t// 비밀번호 변경버튼\n\tconst onClickPw = () => {\n\t\tif (enabledPw) {\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/api/user/updatePW`, {\n\t\t\t\t\temail: currentUser.email,\n\t\t\t\t\tpw: pwInput.value,\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tres.data.success ? onOpenPwToast() : '';\n\t\t\t\t});\n\t\t}\n\t\tpwInput.setValue('');\n\t\tsetEnabledPw(!enabledPw);\n\t};\n\t// 비밀번호 취소버튼\n\tconst onResetPw = () => {\n\t\tpwInput.setValue('');\n\t\tsetEnabledPw(false);\n\t};\n\n\tconst onClickPhoto = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\tconst input: any = document.createElement('input');\n\t\tinput.type = 'file';\n\t\tinput.accept = 'image/*';\n\t\tinput.click();\n\n\t\tinput.onchange = function (e: React.ChangeEvent<HTMLInputElement>) {\n\t\t\tsetImg(e.target.files[0]);\n\t\t};\n\t};\n\n\tconst onClickReset = () => {\n\t\tsetPhotoUrl('');\n\t\taxios\n\t\t\t.post(`${SERVER}/api/user/update/photo`, {\n\t\t\t\tid: currentUser.id,\n\t\t\t\turl: '',\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t});\n\t};\n\n\t// 이미지가 바뀌었을 때\n\tuseEffect(() => {\n\t\tif (img !== null) {\n\t\t\t// formData generate\n\t\t\tconst formData = new FormData();\n\t\t\t// formData에 key, value 추가\n\t\t\tformData.append('file', img);\n\t\t\tformData.append('name', `user_profile_${currentUser.id}`);\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/api/s3/upload`, formData)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 뷰에 포토 수정\n\t\t\t\t\tconst time = new Date().getTime();\n\t\t\t\t\tsetPhotoUrl(`${res.data.url}?time=${time}`);\n\t\t\t\t\t// 디비에 포토 수정\n\t\t\t\t\taxios\n\t\t\t\t\t\t.post(`${SERVER}/api/user/update/photo`, {\n\t\t\t\t\t\t\tid: currentUser.id,\n\t\t\t\t\t\t\turl: res.data.url,\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tlocation.href = '/users/mypage';\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t}\n\t}, [img]);\n\n\t// 모달을 위한 State\n\tconst [open, setOpen] = useState(false);\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\tuseEffect(() => {\n\t\tsetOpen(false);\n\t}, [place]);\n\n\treturn (\n\t\t<section id={props.id}>\n\t\t\t<div>\n\t\t\t\t<section>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<h3>기본 회원정보</h3>\n\t\t\t\t\t</header>\n\t\t\t\t\t<PrivacyContainer>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>사진: </div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<UserPhoto\n\t\t\t\t\t\t\t\t\tsrc={photoUrl}\n\t\t\t\t\t\t\t\t\twidth={8}\n\t\t\t\t\t\t\t\t\tmargin='1rem 0'\n\t\t\t\t\t\t\t\t\tonClick={onClickPhoto}\n\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\t\t\tdefault\n\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\tonClick={onClickReset}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t기본이미지로 변경\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>이메일: </div>\n\t\t\t\t\t\t\t<div>{currentUser.email}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>패스워드: </div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t\t\tdisabled={!enabledPw}\n\t\t\t\t\t\t\t\t\t\t{...pwInput}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span style={{ whiteSpace: 'nowrap' }}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\tonClick={onClickPw}\n\t\t\t\t\t\t\t\t\t\t\tdefault={!enabledPw}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t변경\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t{enabledPw ? (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\t\t\t\t\t\tdefault\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={onResetPw}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t취소\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<CpxBarometer value={pwInput.value} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>이름:</div>\n\t\t\t\t\t\t\t<div>{currentUser.name}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>닉네임:</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Input {...inputProps} {...nnInput} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>휴대폰: </div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Input {...inputProps} {...phInput} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>주소: </div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tplace.name\n\t\t\t\t\t\t\t\t\t\t\t? `${place.formatted_address}(${place.name})`\n\t\t\t\t\t\t\t\t\t\t\t: currentUser.address\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\t\t\t\t\tonChange={handleOpen}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<StyledModal open={open} onClose={handleClose}>\n\t\t\t\t\t\t\t\t\t<Fade in={open}>\n\t\t\t\t\t\t\t\t\t\t<div className='searchForm'>\n\t\t\t\t\t\t\t\t\t\t\t<SearchPlace setPlace={setPlace} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t\t\t</StyledModal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PrivacyContainer>\n\t\t\t\t</section>\n\t\t\t\t<div style={{ textAlign: 'right', marginTop: '2rem' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype='reset'\n\t\t\t\t\t\tdefault\n\t\t\t\t\t\tpadding='0.75rem 2rem'\n\t\t\t\t\t\tstyle={{ marginRight: '0.25rem' }}\n\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t>\n\t\t\t\t\t\t취소\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type='submit' onClick={onSubmit} padding='0.75rem 2rem'>\n\t\t\t\t\t\t수정\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Snackbar open={onToast} autoHideDuration={4000} onClose={onCloseToast}>\n\t\t\t\t<Alert\n\t\t\t\t\tonClose={onCloseToast}\n\t\t\t\t\tseverity='success'\n\t\t\t\t\televation={6}\n\t\t\t\t\tvariant='filled'\n\t\t\t\t>\n\t\t\t\t\t정보 수정에 성공했습니다.\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\n\t\t\t<Snackbar\n\t\t\t\topen={onPwToast}\n\t\t\t\tautoHideDuration={4000}\n\t\t\t\tonClose={onClosePwToast}\n\t\t\t>\n\t\t\t\t<Alert\n\t\t\t\t\tonClose={onClosePwToast}\n\t\t\t\t\tseverity='success'\n\t\t\t\t\televation={6}\n\t\t\t\t\tvariant='filled'\n\t\t\t\t>\n\t\t\t\t\t패스워드 변경에 성공했습니다.\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t</section>\n\t);\n};\n\nexport default Privacy;\n"]},"metadata":{},"sourceType":"module"}