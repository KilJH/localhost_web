{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\main\\\\Pagination.tsx\";\nimport axios from 'axios';\nimport Link from 'next/link';\nimport React from 'react';\nimport styled from 'styled-components';\nconst PageButton = styled.li.withConfig({\n  displayName: \"Pagination__PageButton\",\n  componentId: \"xxytlk-0\"\n})([\"margin:0 0.25rem;& button{border:none;padding:0;width:2.5em;height:2.5em;border-radius:50%;transition:all 0.2s ease;&.current{background-color:rgb(81,151,213);color:white;&:hover{background-color:rgb(81,151,213);cursor:default;}}&:hover{background-color:rgba(81,151,213,0.3);}}\"]);\nconst Container = styled.nav.withConfig({\n  displayName: \"Pagination__Container\",\n  componentId: \"xxytlk-1\"\n})([\"& ul{margin:0 auto;width:16em;padding:0;list-style:none;display:flex;justify-content:center;}\"]);\n\nconst Pagination = props => {\n  const {\n    currentIdx,\n    lastIdx,\n    url,\n    api,\n    setItems\n  } = props; // index = 1 ~ m\n\n  const onClick = async idx => {\n    const res = await axios.get(`${api}?page=${idx}`);\n    setItems(res.data.list);\n  };\n\n  let idxs = [];\n\n  if (lastIdx < 5) {\n    for (let i = 0; i < lastIdx; i++) {\n      idxs = [...idxs, i + 1];\n    }\n  } else if (currentIdx < 3) {\n    // 1. index 1,2면 5까지\n    idxs = [1, 2, 3, 4, 5];\n  } else if (currentIdx > lastIdx - 2) {\n    // 2. 그 중간이면 n-2 ~ n+2\n    idxs = [lastIdx - 4, lastIdx - 3, lastIdx - 2, lastIdx - 1, lastIdx];\n  } else {\n    // 3. m, m-1이면 m-4 ~ m\n    idxs = [currentIdx - 2, currentIdx - 1, currentIdx, Number(currentIdx) + 1, Number(currentIdx) + 2];\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `${url}?page=${1}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onClick(1);\n            },\n            children: \"<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this), idxs.map(idx => idx == currentIdx ? /*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"current\",\n          children: idx\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 8\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `${url}?page=${idx}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onClick(idx);\n            },\n            children: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 8\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this)), /*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `${url}?page=${lastIdx}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onClick(lastIdx);\n            },\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 3\n  }, this);\n};\n\nexport default Pagination;","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/main/Pagination.tsx"],"names":["axios","Link","React","styled","PageButton","li","Container","nav","Pagination","props","currentIdx","lastIdx","url","api","setItems","onClick","idx","res","get","data","list","idxs","i","Number","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport Link from 'next/link';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n\tcurrentIdx: number;\r\n\tlastIdx: number;\r\n\turl?: string; // 클라이언트의 주소\r\n\tapi?: string; // 데이터를 요청할 API 주소\r\n\tsetItems?: Function;\r\n}\r\n\r\nconst PageButton = styled.li`\r\n\tmargin: 0 0.25rem;\r\n\t& button {\r\n\t\tborder: none;\r\n\t\tpadding: 0;\r\n\t\twidth: 2.5em;\r\n\t\theight: 2.5em;\r\n\t\tborder-radius: 50%;\r\n\t\ttransition: all 0.2s ease;\r\n\t\t&.current {\r\n\t\t\tbackground-color: rgb(81, 151, 213);\r\n\t\t\tcolor: white;\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground-color: rgb(81, 151, 213);\r\n\t\t\t\tcursor: default;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(81, 151, 213, 0.3);\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Container = styled.nav`\r\n\t& ul {\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 16em;\r\n\t\tpadding: 0;\r\n\t\tlist-style: none;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n`;\r\n\r\nconst Pagination = (props: Props) => {\r\n\tconst { currentIdx, lastIdx, url, api, setItems } = props;\r\n\t// index = 1 ~ m\r\n\r\n\tconst onClick = async (idx: number) => {\r\n\t\tconst res = await axios.get(`${api}?page=${idx}`);\r\n\r\n\t\tsetItems(res.data.list);\r\n\t};\r\n\r\n\tlet idxs = [];\r\n\tif (lastIdx < 5) {\r\n\t\tfor (let i = 0; i < lastIdx; i++) {\r\n\t\t\tidxs = [...idxs, i + 1];\r\n\t\t}\r\n\t} else if (currentIdx < 3) {\r\n\t\t// 1. index 1,2면 5까지\r\n\t\tidxs = [1, 2, 3, 4, 5];\r\n\t} else if (currentIdx > lastIdx - 2) {\r\n\t\t// 2. 그 중간이면 n-2 ~ n+2\r\n\t\tidxs = [lastIdx - 4, lastIdx - 3, lastIdx - 2, lastIdx - 1, lastIdx];\r\n\t} else {\r\n\t\t// 3. m, m-1이면 m-4 ~ m\r\n\t\tidxs = [\r\n\t\t\tcurrentIdx - 2,\r\n\t\t\tcurrentIdx - 1,\r\n\t\t\tcurrentIdx,\r\n\t\t\tNumber(currentIdx) + 1,\r\n\t\t\tNumber(currentIdx) + 2,\r\n\t\t];\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<ul>\r\n\t\t\t\t<PageButton>\r\n\t\t\t\t\t<Link href={`${url}?page=${1}`}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonClick(1);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t&lt;\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</PageButton>\r\n\t\t\t\t{idxs.map(idx =>\r\n\t\t\t\t\tidx == currentIdx ? (\r\n\t\t\t\t\t\t<PageButton key={idx}>\r\n\t\t\t\t\t\t\t<button className='current'>{idx}</button>\r\n\t\t\t\t\t\t</PageButton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PageButton key={idx}>\r\n\t\t\t\t\t\t\t<Link href={`${url}?page=${idx}`}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClick(idx);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{idx}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</PageButton>\r\n\t\t\t\t\t),\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<PageButton>\r\n\t\t\t\t\t<Link href={`${url}?page=${lastIdx}`}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonClick(lastIdx);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t&gt;\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</PageButton>\r\n\t\t\t</ul>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}