{"ast":null,"code":"import _defineProperty from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/client/components/host/Request.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Checkbox, Fade, FormControlLabel, FormGroup, Modal, Radio, RadioGroup } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../hooks/useInput';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport { UserStateContext } from '../../context/user';\nimport styled from 'styled-components';\nimport Textarea from '../reuse/Textarea';\nimport Input from '../reuse/Input';\nimport Button from '../reuse/Button';\nimport SearchPlace from '../search/SearchPlace';\nimport { languages, travelStyles } from '../../utils/basicData';\nimport TravelStyleTag from '../reuse/TravelStyleTag';\nvar RequestContainer = styled.div.withConfig({\n  displayName: \"Request__RequestContainer\",\n  componentId: \"sc-1j743le-0\"\n})([\"margin:2rem auto;& > div > div{display:flex;margin:1.5rem 0;align-items:center;flex-wrap:wrap;& > label{font-weight:600;flex:1;padding:0 1em;line-break:word;}& > *:nth-child(2){flex:2;}}\"]);\n_c = RequestContainer;\nvar WarningMessage = styled.p.withConfig({\n  displayName: \"Request__WarningMessage\",\n  componentId: \"sc-1j743le-1\"\n})([\"font-size:0.7em;font-weight:600;text-align:center;margin:2rem 0 0.25rem 0;\"]);\n_c2 = WarningMessage;\nvar BtnRequest = styled(Button).withConfig({\n  displayName: \"Request__BtnRequest\",\n  componentId: \"sc-1j743le-2\"\n})([\"display:block;font-size:1em;font-weight:500;margin:0 auto;\"]);\n_c3 = BtnRequest;\nvar StyledModal = styled(Modal).withConfig({\n  displayName: \"Request__StyledModal\",\n  componentId: \"sc-1j743le-3\"\n})([\"display:flex;align-items:center;justify-content:center;& .searchForm{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\n_c4 = StyledModal;\n\nvar TravelStyleInput = function TravelStyleInput(_ref) {\n  var selectedStyle = _ref.value,\n      setSelectedStyle = _ref.setValue;\n\n  var onClick = function onClick(e) {\n    if (selectedStyle === e.currentTarget.innerText) {\n      setSelectedStyle('');\n      return;\n    }\n\n    setSelectedStyle(e.currentTarget.innerText);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: travelStyles.map(function (style) {\n      return /*#__PURE__*/_jsxDEV(TravelStyleTag, {\n        label: style,\n        checked: style === selectedStyle,\n        onClick: onClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, _this);\n    })\n  }, void 0, false);\n};\n\n_c5 = TravelStyleInput;\n\nvar Request = function Request(props) {\n  _s();\n\n  // const country = useInput('대한민국');\n  var _useState = useState({\n    name: '',\n    formatted_address: '',\n    geometry: {\n      location: {\n        lat: 0,\n        lng: 0\n      }\n    }\n  }),\n      place = _useState[0],\n      setPlace = _useState[1];\n\n  var _useState2 = useState([]),\n      langs = _useState2[0],\n      setLangs = _useState2[1];\n\n  var _useState3 = useState(''),\n      selectedStyle = _useState3[0],\n      setSelectedStyle = _useState3[1];\n\n  var description = useInput('');\n  var currentUser = useContext(UserStateContext);\n  var newChecked = [];\n\n  for (var i = 0; i < languages.length; i++) {\n    newChecked = newChecked.concat(false);\n  }\n\n  var _useState4 = useState(newChecked),\n      checked = _useState4[0],\n      setChecked = _useState4[1];\n\n  var travelerNation = useInput('0'); // 모달을 위한 State\n\n  var _useState5 = useState(false),\n      open = _useState5[0],\n      setOpen = _useState5[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  useEffect(function () {\n    setOpen(false);\n  }, [place]);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var hostInfo, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // e.preventDefault();\n              hostInfo = {\n                // country: country.value,\n                place: place,\n                languages: langs,\n                description: description.value,\n                travelStyle: selectedStyle\n              };\n              _context.next = 3;\n              return axios.post(\"\".concat(SERVER, \"/api/host/request\"), {\n                userId: currentUser.id,\n                hostInfo: hostInfo\n              });\n\n            case 3:\n              res = _context.sent;\n              alert(res.data.message);\n              if (res.data.success) Router.push('/');\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onChange = function onChange(e) {\n    if (langs.length < 4) {\n      if (e.target.checked && langs.length < 3) {\n        setLangs([].concat(_toConsumableArray(langs), [e.target.value]));\n        setChecked([].concat(_toConsumableArray(checked.slice(0, Number(e.target.id) - 1)), [true], _toConsumableArray(checked.slice(Number(e.target.id) - 1 + 1))));\n      } else {\n        setLangs(langs.filter(function (lang) {\n          return lang !== e.target.value;\n        }));\n        setChecked([].concat(_toConsumableArray(checked.slice(0, Number(e.target.id) - 1)), [false], _toConsumableArray(checked.slice(Number(e.target.id) - 1 + 1))));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RequestContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD638\\uC2A4\\uD2B8 \\uC2E0\\uCCAD\\uC744 \\uC704\\uD55C \\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD638\\uC2A4\\uD2B8 \\uD65C\\uB3D9 \\uC9C0\\uC5ED\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addressForm\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"address\",\n            width: \"100%\",\n            borderRadius: \"0.25rem\",\n            border: \"1px solid rgba(0,0,0,0.41)\",\n            textAlign: \"left\",\n            value: place.name ? \"\".concat(place.formatted_address, \"(\").concat(place.name, \")\") : '',\n            onClick: handleOpen,\n            onChange: handleOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(StyledModal, {\n            open: open,\n            onClose: handleClose,\n            children: /*#__PURE__*/_jsxDEV(Fade, {\n              \"in\": open,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"searchForm\",\n                children: /*#__PURE__*/_jsxDEV(SearchPlace, {\n                  setPlace: setPlace\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC0AC\\uC6A9\\uAC00\\uB2A5 \\uC5B8\\uC5B4\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694(\\uCD5C\\uB300 3\\uAC1C)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          row: true,\n          children: languages.map(function (lang) {\n            return /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                id: \"\".concat(lang.id),\n                color: \"primary\",\n                onChange: onChange,\n                value: lang.name,\n                checked: checked[lang.id - 1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 10\n              }, _this),\n              label: lang.name\n            }, lang.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 8\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC6D0\\uD558\\uB294 \\uC5EC\\uD589\\uAC1D\\uC758 \\uAD6D\\uC801\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(RadioGroup, _objectSpread(_objectSpread({\n          row: true\n        }, travelerNation), {}, {\n          children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"0\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, _this),\n            label: \"\\uC0C1\\uAD00\\uC5C6\\uC74C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"1\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, _this),\n            label: \"\\uC678\\uAD6D\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"2\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, _this),\n            label: \"\\uC790\\uAD6D\\uBBFC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 7\n          }, _this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC790\\uC2E0\\uC744 \\uB300\\uD45C\\uD560 \\uC5EC\\uD589\\uC2A4\\uD0C0\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TravelStyleInput, {\n            value: selectedStyle,\n            setValue: setSelectedStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uAC04\\uB7B5\\uD55C \\uC790\\uAE30\\uC18C\\uAC1C\\uB97C \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Textarea, _objectSpread({\n            height: \"8em\"\n          }, description), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(WarningMessage, {\n        children: \"\\uC2E0\\uCCAD \\uD6C4 \\uAD00\\uB9AC\\uC790\\uC758 \\uC2B9\\uC778\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(BtnRequest, {\n        onClick: onSubmit,\n        width: \"10em\",\n        padding: \"0.5rem 1rem\",\n        children: \"\\uC2E0\\uCCAD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(Request, \"tpMvxsOHv9C2SX0YsQDKxgEo+QA=\", false, function () {\n  return [useInput, useInput];\n});\n\n_c6 = Request;\nexport default Request;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"RequestContainer\");\n$RefreshReg$(_c2, \"WarningMessage\");\n$RefreshReg$(_c3, \"BtnRequest\");\n$RefreshReg$(_c4, \"StyledModal\");\n$RefreshReg$(_c5, \"TravelStyleInput\");\n$RefreshReg$(_c6, \"Request\");","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/client/components/host/Request.tsx"],"names":["Checkbox","Fade","FormControlLabel","FormGroup","Modal","Radio","RadioGroup","axios","React","useContext","useEffect","useState","useInput","SERVER","Router","UserStateContext","styled","Textarea","Input","Button","SearchPlace","languages","travelStyles","TravelStyleTag","RequestContainer","div","WarningMessage","p","BtnRequest","StyledModal","TravelStyleInput","selectedStyle","value","setSelectedStyle","setValue","onClick","e","currentTarget","innerText","map","style","Request","props","name","formatted_address","geometry","location","lat","lng","place","setPlace","langs","setLangs","description","currentUser","newChecked","i","length","concat","checked","setChecked","travelerNation","open","setOpen","handleOpen","handleClose","onSubmit","hostInfo","travelStyle","post","userId","id","res","alert","data","message","success","push","onChange","target","slice","Number","filter","lang"],"mappings":"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","sourcesContent":["import {\n\tCheckbox,\n\tFade,\n\tFormControlLabel,\n\tFormGroup,\n\tModal,\n\tRadio,\n\tRadioGroup,\n} from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../hooks/useInput';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport { UserStateContext } from '../../context/user';\nimport styled from 'styled-components';\nimport Textarea from '../reuse/Textarea';\nimport Input from '../reuse/Input';\nimport Button from '../reuse/Button';\nimport { Place } from '../../interfaces';\nimport SearchPlace from '../search/SearchPlace';\nimport { languages, travelStyles } from '../../utils/basicData';\nimport TravelStyleTag from '../reuse/TravelStyleTag';\n\ninterface Props {}\n\nconst RequestContainer = styled.div`\n\tmargin: 2rem auto;\n\t& > div > div {\n\t\tdisplay: flex;\n\t\tmargin: 1.5rem 0;\n\t\talign-items: center;\n\t\tflex-wrap: wrap;\n\t\t& > label {\n\t\t\tfont-weight: 600;\n\t\t\tflex: 1;\n\t\t\tpadding: 0 1em;\n\t\t\tline-break: word;\n\t\t}\n\t\t& > *:nth-child(2) {\n\t\t\tflex: 2;\n\t\t}\n\t}\n`;\n\nconst WarningMessage = styled.p`\n\tfont-size: 0.7em;\n\tfont-weight: 600;\n\ttext-align: center;\n\tmargin: 2rem 0 0.25rem 0;\n`;\n\nconst BtnRequest = styled(Button)`\n\tdisplay: block;\n\tfont-size: 1em;\n\tfont-weight: 500;\n\tmargin: 0 auto;\n`;\n\nconst StyledModal = styled(Modal)`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& .searchForm {\n\t\twidth: 80vw;\n\t\tmax-width: 800px;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tpadding: 1rem;\n\t\tborder-radius: 0.25rem;\n\t\toutline: 0;\n\t\tbox-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -2px -2px 8px rgba(0, 0, 0, 0.3);\n\t}\n`;\n\nconst TravelStyleInput = ({\n\tvalue: selectedStyle,\n\tsetValue: setSelectedStyle,\n}) => {\n\tconst onClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n\t\tif (selectedStyle === e.currentTarget.innerText) {\n\t\t\tsetSelectedStyle('');\n\t\t\treturn;\n\t\t}\n\t\tsetSelectedStyle(e.currentTarget.innerText);\n\t};\n\treturn (\n\t\t<>\n\t\t\t{travelStyles.map(style => (\n\t\t\t\t<TravelStyleTag\n\t\t\t\t\tlabel={style}\n\t\t\t\t\tchecked={style === selectedStyle}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t);\n};\n\nconst Request = (props: Props) => {\n\t// const country = useInput('대한민국');\n\tconst [place, setPlace] = useState<Place>({\n\t\tname: '',\n\t\tformatted_address: '',\n\t\tgeometry: { location: { lat: 0, lng: 0 } },\n\t});\n\tconst [langs, setLangs] = useState([]);\n\tconst [selectedStyle, setSelectedStyle] = useState('');\n\tconst description = useInput('');\n\tconst currentUser = useContext(UserStateContext);\n\n\tlet newChecked = [];\n\n\tfor (let i = 0; i < languages.length; i++) {\n\t\tnewChecked = newChecked.concat(false);\n\t}\n\n\tconst [checked, setChecked] = useState(newChecked);\n\tconst travelerNation = useInput('0');\n\n\t// 모달을 위한 State\n\tconst [open, setOpen] = useState(false);\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\tuseEffect(() => {\n\t\tsetOpen(false);\n\t}, [place]);\n\n\tconst onSubmit = async () => {\n\t\t// e.preventDefault();\n\n\t\tconst hostInfo = {\n\t\t\t// country: country.value,\n\t\t\tplace: place,\n\t\t\tlanguages: langs,\n\t\t\tdescription: description.value,\n\t\t\ttravelStyle: selectedStyle,\n\t\t};\n\n\t\tconst res = await axios.post(`${SERVER}/api/host/request`, {\n\t\t\tuserId: currentUser.id,\n\t\t\thostInfo,\n\t\t});\n\t\talert(res.data.message);\n\t\tif (res.data.success) Router.push('/');\n\t};\n\n\tconst onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (langs.length < 4) {\n\t\t\tif (e.target.checked && langs.length < 3) {\n\t\t\t\tsetLangs([...langs, e.target.value]);\n\t\t\t\tsetChecked([\n\t\t\t\t\t...checked.slice(0, Number(e.target.id) - 1),\n\t\t\t\t\ttrue,\n\t\t\t\t\t...checked.slice(Number(e.target.id) - 1 + 1),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tsetLangs(langs.filter(lang => lang !== e.target.value));\n\t\t\t\tsetChecked([\n\t\t\t\t\t...checked.slice(0, Number(e.target.id) - 1),\n\t\t\t\t\tfalse,\n\t\t\t\t\t...checked.slice(Number(e.target.id) - 1 + 1),\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<RequestContainer>\n\t\t\t<div>\n\t\t\t\t<h2>호스트 신청을 위한 정보를 입력해주세요</h2>\n\t\t\t\t<div>\n\t\t\t\t\t<label>호스트 활동 지역을 선택해주세요</label>\n\t\t\t\t\t<div className='addressForm'>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype='address'\n\t\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\t\tborderRadius='0.25rem'\n\t\t\t\t\t\t\tborder='1px solid rgba(0,0,0,0.41)'\n\t\t\t\t\t\t\ttextAlign='left'\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tplace.name ? `${place.formatted_address}(${place.name})` : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\t\t\tonChange={handleOpen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<StyledModal open={open} onClose={handleClose}>\n\t\t\t\t\t\t\t<Fade in={open}>\n\t\t\t\t\t\t\t\t<div className='searchForm'>\n\t\t\t\t\t\t\t\t\t<SearchPlace setPlace={setPlace} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t</StyledModal>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>사용가능 언어를 선택해주세요(최대 3개)</label>\n\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t{languages.map(lang => (\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tkey={lang.name}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tid={`${lang.id}`}\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={lang.name}\n\t\t\t\t\t\t\t\t\t\tchecked={checked[lang.id - 1]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={lang.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>원하는 여행객의 국적을 선택해주세요</label>\n\t\t\t\t\t<RadioGroup row {...travelerNation}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='0'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='상관없음'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='1'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='외국인'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='2'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='자국민'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>자신을 대표할 여행스타일을 선택해주세요</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TravelStyleInput\n\t\t\t\t\t\t\tvalue={selectedStyle}\n\t\t\t\t\t\t\tsetValue={setSelectedStyle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>간략한 자기소개를 적어주세요</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Textarea height='8em' {...description} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<WarningMessage>신청 후 관리자의 승인이 필요합니다.</WarningMessage>\n\t\t\t\t<BtnRequest onClick={onSubmit} width='10em' padding='0.5rem 1rem'>\n\t\t\t\t\t신청\n\t\t\t\t</BtnRequest>\n\t\t\t</div>\n\t\t</RequestContainer>\n\t);\n};\n\nexport default Request;\n"]},"metadata":{},"sourceType":"module"}