{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Modal } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../../utils/url';\nimport HostReviewWrite from '../../host/HostReviewWrite';\nimport Button from '../../reuse/Button';\nimport Rating from '../../reuse/Rating';\nimport MypageLayout from './MypageHeader';\nconst Container = styled.div.withConfig({\n  displayName: \"MyHostLog__Container\",\n  componentId: \"sc-1qoysuh-0\"\n})([\"& > section{margin-bottom:2rem;& > header{display:flex;justify-content:space-between;align-items:center;}}& .more{padding:0.25rem;font-size:0.9em;text-align:right;}\"]);\nconst Table = styled.table.withConfig({\n  displayName: \"MyHostLog__Table\",\n  componentId: \"sc-1qoysuh-1\"\n})([\"width:100%;border-collapse:collapse;text-align:center;& th,& td{border-bottom:1px solid #aaa;width:25%;overflow:hidden;}& td{padding:1em 0.5em;}\"]);\nconst StyledModal = styled(Modal).withConfig({\n  displayName: \"MyHostLog__StyledModal\",\n  componentId: \"sc-1qoysuh-2\"\n})([\"display:flex;align-items:center;justify-content:center;& .modalItem{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\nconst StatusSpan = styled.span.withConfig({\n  displayName: \"MyHostLog__StatusSpan\",\n  componentId: \"sc-1qoysuh-3\"\n})([\"display:inline-block;padding:0.25rem 0.5rem;color:\", \";border:1px solid \", \";font-size:0.8em;\"], props => props.color || 'black', props => props.color || 'black');\n\nconst Status = status => {\n  switch (status) {\n    case 0:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      });\n\n    case 1:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#5197d5\",\n        children: \"\\uC2B9\\uB099\"\n      });\n\n    case 2:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uAC70\\uC808\"\n      });\n\n    case 3:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uCDE8\\uC18C\"\n      });\n\n    case 4:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uC644\\uB8CC\"\n      });\n\n    default:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      });\n  }\n};\n\nconst ApplicationItem = ({\n  application\n}) => {\n  const onCancle = () => {\n    axios.post(`${SERVER}/api/host/application/cancle`, {\n      id: application.id\n    }).then(res => {\n      if (res.data.success) alert('취소가 완료되었습니다.');\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"tr\", {\n    children: [/*#__PURE__*/_jsx(\"td\", {\n      children: application.date\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: application.user.nickname\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: Status(application.status || 0)\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: application.status < 2 ? /*#__PURE__*/_jsx(Button, {\n        default: true,\n        onClick: onCancle,\n        children: \"\\uCDE8\\uC18C\"\n      }) : ''\n    })]\n  });\n};\n\nconst HistoryItem = ({\n  history\n}) => {\n  // 모달을 위한 State\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"tr\", {\n    children: [/*#__PURE__*/_jsx(\"td\", {\n      children: history.date\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.user.nickname\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.place.formatted_address\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.review.description ? /*#__PURE__*/_jsx(Rating, {\n        rating: history.review.rating\n      }) : /*#__PURE__*/_jsx(Button, {\n        onClick: handleOpen,\n        children: \"\\uB9AC\\uBDF0\\uC791\\uC131\"\n      })\n    }), /*#__PURE__*/_jsx(StyledModal, {\n      open: open,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"modalItem\",\n        children: /*#__PURE__*/_jsx(HostReviewWrite, {\n          applicationId: history.id,\n          onClose: handleClose\n        })\n      })\n    })]\n  });\n};\n\nconst NoItem = ({\n  children\n}) => /*#__PURE__*/_jsx(\"tr\", {\n  children: /*#__PURE__*/_jsx(\"td\", {\n    colSpan: 4,\n    style: {\n      textAlign: 'center'\n    },\n    children: children\n  })\n});\n\nconst MyHostLog = props => {\n  const {\n    applications,\n    preApplications\n  } = props;\n  return /*#__PURE__*/_jsx(MypageLayout, {\n    tabNum: 2,\n    children: /*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsxs(\"section\", {\n        children: [/*#__PURE__*/_jsx(\"header\", {\n          children: /*#__PURE__*/_jsx(\"h3\", {\n            children: \"\\uD604\\uC7AC \\uC9C4\\uD589\\uC911\\uC778 \\uD638\\uC2A4\\uD2B8\"\n          })\n        }), /*#__PURE__*/_jsxs(Table, {\n          children: [/*#__PURE__*/_jsx(\"thead\", {\n            children: /*#__PURE__*/_jsxs(\"tr\", {\n              children: [/*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uC0C1\\uD0DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uCDE8\\uC18C\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"tbody\", {\n            children: applications.length ? applications.map(app => /*#__PURE__*/_jsx(ApplicationItem, {\n              application: app\n            })) : /*#__PURE__*/_jsx(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"section\", {\n        children: [/*#__PURE__*/_jsx(\"header\", {\n          children: /*#__PURE__*/_jsx(\"h3\", {\n            children: \"\\uC9C0\\uB098\\uC628 \\uD638\\uC2A4\\uD2B8\"\n          })\n        }), /*#__PURE__*/_jsxs(Table, {\n          children: [/*#__PURE__*/_jsx(\"thead\", {\n            children: /*#__PURE__*/_jsxs(\"tr\", {\n              children: [/*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uC7A5\\uC18C\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD6C4\\uAE30\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"tbody\", {\n            children: preApplications.length ? preApplications.slice(0, 5).map(app => /*#__PURE__*/_jsx(HistoryItem, {\n              history: app\n            })) : /*#__PURE__*/_jsx(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"more\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"more\",\n            children: \"\\uB354\\uBCF4\\uAE30\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default MyHostLog;","map":null,"metadata":{},"sourceType":"module"}