{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/client/components/host/HostList.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport HostListItem from './HostListItem';\nimport styled from 'styled-components';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport HostFilter from './HostFilter';\nvar HostListContainer = styled.section.withConfig({\n  displayName: \"HostList__HostListContainer\",\n  componentId: \"sc-1cr70nc-0\"\n})([\"overflow-y:auto;overflow-x:hidden;font-size:0.9em;flex:1;& > div{border-bottom:1px solid #aaa;}& > div:last-child{border-bottom:none;}& > div:nth-child(even){background:#eee;}\"]);\n_c = HostListContainer;\nvar SortContainer = styled.div.withConfig({\n  displayName: \"HostList__SortContainer\",\n  componentId: \"sc-1cr70nc-1\"\n})([\"display:flex;margin:0.5rem 0 0 0;& > button{flex:1;font-size:0.9em;border:none;display:inline-flex;align-items:center;&:hover{text-shadow:1px 1px 1px rgba(0,0,0,0.2);}&:active{color:#5197d5;}&.on{color:#5197d5;text-shadow:1px 1px 1px rgba(0,0,0,0.1);}}\"]);\n_c2 = SortContainer;\n\nvar HostList = function HostList(props) {\n  _s();\n\n  var origin = props.origin,\n      setOrigin = props.setOrigin,\n      nearbyHosts = props.nearbyHosts,\n      setNearbyHosts = props.setNearbyHosts,\n      coord = props.coord;\n\n  var _useState = useState({\n    property: 'distance',\n    asc: true\n  }),\n      sortOpt = _useState[0],\n      setSortOpt = _useState[1];\n\n  var _useState2 = useState(false),\n      filterOn = _useState2[0],\n      setFilterOn = _useState2[1];\n\n  var onOpenFilter = function onOpenFilter() {\n    setFilterOn(!filterOn);\n  };\n\n  var onCloseFilter = function onCloseFilter() {\n    setFilterOn(false);\n  };\n\n  var compareValue = function compareValue(a, b) {\n    return sortOpt.asc ? a - b : b - a;\n  }; // 가벼운 Sort를 위한 매핑\n\n\n  var mapped = nearbyHosts.map(function (el, i) {\n    switch (sortOpt.property) {\n      case 'distance':\n        return {\n          index: i,\n          value: el.place.geometry.distance\n        };\n\n      case 'rating':\n        return {\n          index: i,\n          value: el.rating\n        };\n\n      case 'follower':\n        return {\n          index: i,\n          value: el.follower\n        };\n\n      default:\n        return {\n          index: i,\n          value: el.place.geometry.distance\n        };\n    }\n  }); // 매핑된 배열 Sort\n\n  mapped.sort(function (a, b) {\n    return compareValue(a.value, b.value);\n  }); // Sort 결과에 따라 hostList 재배열\n\n  var sortedHosts = mapped.map(function (el) {\n    return nearbyHosts[el.index];\n  });\n\n  var onClickSort = function onClickSort(e) {\n    if (e.currentTarget.value === sortOpt.property) {\n      setSortOpt(_objectSpread(_objectSpread({}, sortOpt), {}, {\n        asc: !sortOpt.asc\n      }));\n    } else {\n      setSortOpt(_objectSpread(_objectSpread({}, sortOpt), {}, {\n        property: e.currentTarget.value\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(HostListContainer, {\n    children: [/*#__PURE__*/_jsxDEV(SortContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"distance\",\n        className: sortOpt.property === 'distance' ? 'on' : '',\n        children: [\"\\uAC70\\uB9AC\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"rating\",\n        className: sortOpt.property === 'rating' ? 'on' : '',\n        children: [\"\\uD3C9\\uC810\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"follower\",\n        className: sortOpt.property === 'follower' ? 'on' : '',\n        children: [\"\\uD314\\uB85C\\uC6CC\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOpenFilter,\n        children: [/*#__PURE__*/_jsxDEV(TuneIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD544\\uD130\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(HostFilter, {\n        onShow: filterOn,\n        origin: origin,\n        setOrigin: setOrigin,\n        setNearbyHosts: setNearbyHosts,\n        onClose: onCloseFilter,\n        coord: coord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, _this), sortedHosts === null || sortedHosts === void 0 ? void 0 : sortedHosts.map(function (host) {\n      return /*#__PURE__*/_jsxDEV(HostListItem, {\n        host: host\n      }, host.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, _this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(HostList, \"KtQZUyYUkkFVado5cdia1UeJk+k=\");\n\n_c3 = HostList;\nexport default HostList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"HostListContainer\");\n$RefreshReg$(_c2, \"SortContainer\");\n$RefreshReg$(_c3, \"HostList\");","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/client/components/host/HostList.tsx"],"names":["React","useState","HostListItem","styled","TuneIcon","HostFilter","HostListContainer","section","SortContainer","div","HostList","props","origin","setOrigin","nearbyHosts","setNearbyHosts","coord","property","asc","sortOpt","setSortOpt","filterOn","setFilterOn","onOpenFilter","onCloseFilter","compareValue","a","b","mapped","map","el","i","index","value","place","geometry","distance","rating","follower","sort","sortedHosts","onClickSort","e","currentTarget","host","id"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAA0CC,QAA1C,QAA0D,OAA1D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AASA,IAAMC,iBAAiB,GAAGH,MAAM,CAACI,OAAV;AAAA;AAAA;AAAA,uLAAvB;KAAMD,iB;AAgBN,IAAME,aAAa,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,oQAAnB;MAAMD,a;;AAsBN,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAkB;AAAA;;AAAA,MAC1BC,MAD0B,GACgCD,KADhC,CAC1BC,MAD0B;AAAA,MAClBC,SADkB,GACgCF,KADhC,CAClBE,SADkB;AAAA,MACPC,WADO,GACgCH,KADhC,CACPG,WADO;AAAA,MACMC,cADN,GACgCJ,KADhC,CACMI,cADN;AAAA,MACsBC,KADtB,GACgCL,KADhC,CACsBK,KADtB;;AAAA,kBAEJf,QAAQ,CAAC;AAAEgB,IAAAA,QAAQ,EAAE,UAAZ;AAAwBC,IAAAA,GAAG,EAAE;AAA7B,GAAD,CAFJ;AAAA,MAE3BC,OAF2B;AAAA,MAElBC,UAFkB;;AAAA,mBAGFnB,QAAQ,CAAC,KAAD,CAHN;AAAA,MAG3BoB,QAH2B;AAAA,MAGjBC,WAHiB;;AAKlC,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BD,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACA,GAFD;;AAGA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC3BF,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA,GAFD;;AAIA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAIC,CAAJ,EAAU;AAC9B,WAAOR,OAAO,CAACD,GAAR,GAAcQ,CAAC,GAAGC,CAAlB,GAAsBA,CAAC,GAAGD,CAAjC;AACA,GAFD,CAZkC,CAgBlC;;;AACA,MAAME,MAAM,GAAGd,WAAW,CAACe,GAAZ,CAAgB,UAACC,EAAD,EAAKC,CAAL,EAAW;AACzC,YAAQZ,OAAO,CAACF,QAAhB;AACC,WAAK,UAAL;AACC,eAAO;AAAEe,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACI,KAAH,CAASC,QAAT,CAAkBC;AAArC,SAAP;;AACD,WAAK,QAAL;AACC,eAAO;AAAEJ,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACO;AAAtB,SAAP;;AACD,WAAK,UAAL;AACC,eAAO;AAAEL,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACQ;AAAtB,SAAP;;AACD;AACC,eAAO;AAAEN,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACI,KAAH,CAASC,QAAT,CAAkBC;AAArC,SAAP;AARF;AAUA,GAXc,CAAf,CAjBkC,CA8BlC;;AACAR,EAAAA,MAAM,CAACW,IAAP,CAAY,UAACb,CAAD,EAAIC,CAAJ,EAAU;AACrB,WAAOF,YAAY,CAACC,CAAC,CAACO,KAAH,EAAUN,CAAC,CAACM,KAAZ,CAAnB;AACA,GAFD,EA/BkC,CAkClC;;AACA,MAAMO,WAAW,GAAGZ,MAAM,CAACC,GAAP,CAAW,UAAAC,EAAE,EAAI;AACpC,WAAOhB,WAAW,CAACgB,EAAE,CAACE,KAAJ,CAAlB;AACA,GAFmB,CAApB;;AAIA,MAAMS,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAA4C;AAC/D,QAAIA,CAAC,CAACC,aAAF,CAAgBV,KAAhB,KAA0Bd,OAAO,CAACF,QAAtC,EAAgD;AAC/CG,MAAAA,UAAU,iCAAMD,OAAN;AAAeD,QAAAA,GAAG,EAAE,CAACC,OAAO,CAACD;AAA7B,SAAV;AACA,KAFD,MAEO;AACNE,MAAAA,UAAU,iCAAMD,OAAN;AAAeF,QAAAA,QAAQ,EAAEyB,CAAC,CAACC,aAAF,CAAgBV;AAAzC,SAAV;AACA;AACD,GAND;;AAQA,sBACC,QAAC,iBAAD;AAAA,4BACC,QAAC,aAAD;AAAA,8BACC;AACC,QAAA,OAAO,EAAEQ,WADV;AAEC,QAAA,KAAK,EAAC,UAFP;AAGC,QAAA,SAAS,EAAEtB,OAAO,CAACF,QAAR,KAAqB,UAArB,GAAkC,IAAlC,GAAyC,EAHrD;AAAA,yCAKKE,OAAO,CAACD,GAAR,GAAc,GAAd,GAAoB,GALzB;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,eAQC;AACC,QAAA,OAAO,EAAEuB,WADV;AAEC,QAAA,KAAK,EAAC,QAFP;AAGC,QAAA,SAAS,EAAEtB,OAAO,CAACF,QAAR,KAAqB,QAArB,GAAgC,IAAhC,GAAuC,EAHnD;AAAA,yCAKKE,OAAO,CAACD,GAAR,GAAc,GAAd,GAAoB,GALzB;AAAA;AAAA;AAAA;AAAA;AAAA,eARD,eAeC;AACC,QAAA,OAAO,EAAEuB,WADV;AAEC,QAAA,KAAK,EAAC,UAFP;AAGC,QAAA,SAAS,EAAEtB,OAAO,CAACF,QAAR,KAAqB,UAArB,GAAkC,IAAlC,GAAyC,EAHrD;AAAA,+CAKME,OAAO,CAACD,GAAR,GAAc,GAAd,GAAoB,GAL1B;AAAA;AAAA;AAAA;AAAA;AAAA,eAfD,eAsBC;AAAQ,QAAA,OAAO,EAAEK,YAAjB;AAAA,gCACC,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,eAtBD,eA0BC,QAAC,UAAD;AACC,QAAA,MAAM,EAAEF,QADT;AAEC,QAAA,MAAM,EAAET,MAFT;AAGC,QAAA,SAAS,EAAEC,SAHZ;AAIC,QAAA,cAAc,EAAEE,cAJjB;AAKC,QAAA,OAAO,EAAES,aALV;AAMC,QAAA,KAAK,EAAER;AANR;AAAA;AAAA;AAAA;AAAA,eA1BD;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,EAoCEwB,WApCF,aAoCEA,WApCF,uBAoCEA,WAAW,CAAEX,GAAb,CAAiB,UAAAe,IAAI;AAAA,0BACrB,QAAC,YAAD;AAAc,QAAA,IAAI,EAAEA;AAApB,SAA+BA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,eADqB;AAAA,KAArB,CApCF;AAAA;AAAA;AAAA;AAAA;AAAA,WADD;AA0CA,CAzFD;;GAAMnC,Q;;MAAAA,Q;AA2FN,eAAeA,QAAf","sourcesContent":["import React, { Dispatch, SetStateAction, useState } from 'react';\nimport HostListItem from './HostListItem';\nimport styled from 'styled-components';\nimport { Host } from '../../interfaces';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport HostFilter from './HostFilter';\n\ninterface Props {\n\torigin: Host[];\n\tsetOrigin: Dispatch<SetStateAction<Host[]>>;\n\tnearbyHosts: Host[];\n\tsetNearbyHosts: Dispatch<SetStateAction<Host[]>>;\n\tcoord: { lat: number; lng: number };\n}\nconst HostListContainer = styled.section`\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tfont-size: 0.9em;\n\tflex: 1;\n\t& > div {\n\t\tborder-bottom: 1px solid #aaa;\n\t}\n\t& > div:last-child {\n\t\tborder-bottom: none;\n\t}\n\t& > div:nth-child(even) {\n\t\tbackground: #eee;\n\t}\n`;\n\nconst SortContainer = styled.div`\n\tdisplay: flex;\n\tmargin: 0.5rem 0 0 0;\n\t& > button {\n\t\tflex: 1;\n\t\tfont-size: 0.9em;\n\t\tborder: none;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\t&:hover {\n\t\t\ttext-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\n\t\t}\n\t\t&:active {\n\t\t\tcolor: #5197d5;\n\t\t}\n\t\t&.on {\n\t\t\tcolor: #5197d5;\n\t\t\ttext-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);\n\t\t}\n\t}\n`;\n\nconst HostList = (props: Props) => {\n\tconst { origin, setOrigin, nearbyHosts, setNearbyHosts, coord } = props;\n\tconst [sortOpt, setSortOpt] = useState({ property: 'distance', asc: true });\n\tconst [filterOn, setFilterOn] = useState(false);\n\n\tconst onOpenFilter = () => {\n\t\tsetFilterOn(!filterOn);\n\t};\n\tconst onCloseFilter = () => {\n\t\tsetFilterOn(false);\n\t};\n\n\tconst compareValue = (a, b) => {\n\t\treturn sortOpt.asc ? a - b : b - a;\n\t};\n\n\t// 가벼운 Sort를 위한 매핑\n\tconst mapped = nearbyHosts.map((el, i) => {\n\t\tswitch (sortOpt.property) {\n\t\t\tcase 'distance':\n\t\t\t\treturn { index: i, value: el.place.geometry.distance };\n\t\t\tcase 'rating':\n\t\t\t\treturn { index: i, value: el.rating };\n\t\t\tcase 'follower':\n\t\t\t\treturn { index: i, value: el.follower };\n\t\t\tdefault:\n\t\t\t\treturn { index: i, value: el.place.geometry.distance };\n\t\t}\n\t});\n\n\t// 매핑된 배열 Sort\n\tmapped.sort((a, b) => {\n\t\treturn compareValue(a.value, b.value);\n\t});\n\t// Sort 결과에 따라 hostList 재배열\n\tconst sortedHosts = mapped.map(el => {\n\t\treturn nearbyHosts[el.index];\n\t});\n\n\tconst onClickSort = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\tif (e.currentTarget.value === sortOpt.property) {\n\t\t\tsetSortOpt({ ...sortOpt, asc: !sortOpt.asc });\n\t\t} else {\n\t\t\tsetSortOpt({ ...sortOpt, property: e.currentTarget.value });\n\t\t}\n\t};\n\n\treturn (\n\t\t<HostListContainer>\n\t\t\t<SortContainer>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='distance'\n\t\t\t\t\tclassName={sortOpt.property === 'distance' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t거리순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='rating'\n\t\t\t\t\tclassName={sortOpt.property === 'rating' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t평점순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='follower'\n\t\t\t\t\tclassName={sortOpt.property === 'follower' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t팔로워순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button onClick={onOpenFilter}>\n\t\t\t\t\t<TuneIcon />\n\t\t\t\t\t<span>필터</span>\n\t\t\t\t</button>\n\t\t\t\t<HostFilter\n\t\t\t\t\tonShow={filterOn}\n\t\t\t\t\torigin={origin}\n\t\t\t\t\tsetOrigin={setOrigin}\n\t\t\t\t\tsetNearbyHosts={setNearbyHosts}\n\t\t\t\t\tonClose={onCloseFilter}\n\t\t\t\t\tcoord={coord}\n\t\t\t\t/>\n\t\t\t</SortContainer>\n\t\t\t{sortedHosts?.map(host => (\n\t\t\t\t<HostListItem host={host} key={host.id} />\n\t\t\t))}\n\t\t</HostListContainer>\n\t);\n};\n\nexport default HostList;\n"]},"metadata":{},"sourceType":"module"}