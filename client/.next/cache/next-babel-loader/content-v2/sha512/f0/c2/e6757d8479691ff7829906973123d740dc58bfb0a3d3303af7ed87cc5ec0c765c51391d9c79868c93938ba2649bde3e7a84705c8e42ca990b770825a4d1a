{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"C:/Users/hby84/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/210428/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/Users/hby84/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/210428/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/hby84/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/210428/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\main\\\\Pagination.tsx\",\n    _this = this;\n\nimport axios from 'axios';\nimport Link from 'next/link';\nimport React from 'react';\nimport styled from 'styled-components';\nvar PageButton = styled.li.withConfig({\n  displayName: \"Pagination__PageButton\",\n  componentId: \"xxytlk-0\"\n})([\"margin:0 0.25rem;& button{border:none;padding:0;width:2.5em;height:2.5em;border-radius:50%;transition:all 0.2s ease;&.current{background-color:rgb(81,151,213);color:white;&:hover{background-color:rgb(81,151,213);cursor:default;}}&:hover{background-color:rgba(81,151,213,0.3);}}\"]);\n_c = PageButton;\nvar Container = styled.nav.withConfig({\n  displayName: \"Pagination__Container\",\n  componentId: \"xxytlk-1\"\n})([\"& ul{margin:0 auto;width:16em;padding:0;list-style:none;display:flex;justify-content:center;}\"]);\n_c2 = Container;\n\nvar Pagination = function Pagination(props) {\n  var currentIdx = props.currentIdx,\n      lastIdx = props.lastIdx,\n      url = props.url,\n      api = props.api,\n      setItems = props.setItems; // index = 1 ~ m\n\n  var _onClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(idx) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"\".concat(api, \"?page=\").concat(idx));\n\n            case 2:\n              res = _context.sent;\n              setItems(res.data.list);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var idxs = [];\n\n  if (lastIdx < 5) {\n    for (var i = 0; i < lastIdx; i++) {\n      idxs = [].concat(_toConsumableArray(idxs), [i + 1]);\n    }\n  } else if (currentIdx < 3) {\n    // 1. index 1,2면 5까지\n    idxs = [1, 2, 3, 4, 5];\n  } else if (currentIdx > lastIdx - 2) {\n    // 2. 그 중간이면 n-2 ~ n+2\n    idxs = [lastIdx - 4, lastIdx - 3, lastIdx - 2, lastIdx - 1, lastIdx];\n  } else {\n    // 3. m, m-1이면 m-4 ~ m\n    idxs = [currentIdx - 2, currentIdx - 1, currentIdx, Number(currentIdx) + 1, Number(currentIdx) + 2];\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"\".concat(url, \"?page=\", 1),\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: function onClick() {\n              _onClick(1);\n            },\n            children: \"<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, _this), idxs.map(function (idx) {\n        return idx == currentIdx ? /*#__PURE__*/_jsxDEV(PageButton, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"current\",\n            children: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 8\n          }, _this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }, _this) : /*#__PURE__*/_jsxDEV(PageButton, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"\".concat(url, \"?page=\").concat(idx),\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                _onClick(idx);\n              },\n              children: idx\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 8\n          }, _this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(PageButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"\".concat(url, \"?page=\").concat(lastIdx),\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: function onClick() {\n              _onClick(lastIdx);\n            },\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 3\n  }, _this);\n};\n\n_c3 = Pagination;\nexport default Pagination;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PageButton\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Pagination\");","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/main/Pagination.tsx"],"names":["axios","Link","React","styled","PageButton","li","Container","nav","Pagination","props","currentIdx","lastIdx","url","api","setItems","onClick","idx","get","res","data","list","idxs","i","Number","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport Link from 'next/link';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n\tcurrentIdx: number;\r\n\tlastIdx: number;\r\n\turl?: string; // 클라이언트의 주소\r\n\tapi?: string; // 데이터를 요청할 API 주소\r\n\tsetItems?: Function;\r\n}\r\n\r\nconst PageButton = styled.li`\r\n\tmargin: 0 0.25rem;\r\n\t& button {\r\n\t\tborder: none;\r\n\t\tpadding: 0;\r\n\t\twidth: 2.5em;\r\n\t\theight: 2.5em;\r\n\t\tborder-radius: 50%;\r\n\t\ttransition: all 0.2s ease;\r\n\t\t&.current {\r\n\t\t\tbackground-color: rgb(81, 151, 213);\r\n\t\t\tcolor: white;\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground-color: rgb(81, 151, 213);\r\n\t\t\t\tcursor: default;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(81, 151, 213, 0.3);\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Container = styled.nav`\r\n\t& ul {\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 16em;\r\n\t\tpadding: 0;\r\n\t\tlist-style: none;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n`;\r\n\r\nconst Pagination = (props: Props) => {\r\n\tconst { currentIdx, lastIdx, url, api, setItems } = props;\r\n\t// index = 1 ~ m\r\n\r\n\tconst onClick = async (idx: number) => {\r\n\t\tconst res = await axios.get(`${api}?page=${idx}`);\r\n\r\n\t\tsetItems(res.data.list);\r\n\t};\r\n\r\n\tlet idxs = [];\r\n\tif (lastIdx < 5) {\r\n\t\tfor (let i = 0; i < lastIdx; i++) {\r\n\t\t\tidxs = [...idxs, i + 1];\r\n\t\t}\r\n\t} else if (currentIdx < 3) {\r\n\t\t// 1. index 1,2면 5까지\r\n\t\tidxs = [1, 2, 3, 4, 5];\r\n\t} else if (currentIdx > lastIdx - 2) {\r\n\t\t// 2. 그 중간이면 n-2 ~ n+2\r\n\t\tidxs = [lastIdx - 4, lastIdx - 3, lastIdx - 2, lastIdx - 1, lastIdx];\r\n\t} else {\r\n\t\t// 3. m, m-1이면 m-4 ~ m\r\n\t\tidxs = [\r\n\t\t\tcurrentIdx - 2,\r\n\t\t\tcurrentIdx - 1,\r\n\t\t\tcurrentIdx,\r\n\t\t\tNumber(currentIdx) + 1,\r\n\t\t\tNumber(currentIdx) + 2,\r\n\t\t];\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<ul>\r\n\t\t\t\t<PageButton>\r\n\t\t\t\t\t<Link href={`${url}?page=${1}`}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonClick(1);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t&lt;\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</PageButton>\r\n\t\t\t\t{idxs.map(idx =>\r\n\t\t\t\t\tidx == currentIdx ? (\r\n\t\t\t\t\t\t<PageButton key={idx}>\r\n\t\t\t\t\t\t\t<button className='current'>{idx}</button>\r\n\t\t\t\t\t\t</PageButton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PageButton key={idx}>\r\n\t\t\t\t\t\t\t<Link href={`${url}?page=${idx}`}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClick(idx);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{idx}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</PageButton>\r\n\t\t\t\t\t),\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<PageButton>\r\n\t\t\t\t\t<Link href={`${url}?page=${lastIdx}`}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonClick(lastIdx);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t&gt;\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</PageButton>\r\n\t\t\t</ul>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}