{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\user\\\\Mypage\\\\MyHostLog.tsx\";\nimport { Modal } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../../utils/url';\nimport HostReviewWrite from '../../host/HostReviewWrite';\nimport Button from '../../reuse/Button';\nimport Rating from '../../reuse/Rating';\nimport MypageLayout from './MypageHeader';\nconst Container = styled.div.withConfig({\n  displayName: \"MyHostLog__Container\",\n  componentId: \"sc-1qoysuh-0\"\n})([\"& > section{margin-bottom:2rem;& > header{display:flex;justify-content:space-between;align-items:center;}}& .more{padding:0.25rem;font-size:0.9em;text-align:right;}\"]);\nconst Table = styled.table.withConfig({\n  displayName: \"MyHostLog__Table\",\n  componentId: \"sc-1qoysuh-1\"\n})([\"width:100%;border-collapse:collapse;text-align:center;& th,& td{border-bottom:1px solid #aaa;width:25%;overflow:hidden;}& td{padding:1em 0.5em;}\"]);\nconst StyledModal = styled(Modal).withConfig({\n  displayName: \"MyHostLog__StyledModal\",\n  componentId: \"sc-1qoysuh-2\"\n})([\"display:flex;align-items:center;justify-content:center;& .modalItem{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\nconst StatusSpan = styled.span.withConfig({\n  displayName: \"MyHostLog__StatusSpan\",\n  componentId: \"sc-1qoysuh-3\"\n})([\"display:inline-block;padding:0.25rem 0.5rem;color:\", \";border:1px solid \", \";font-size:0.8em;\"], props => props.color || 'black', props => props.color || 'black');\n\nconst Status = status => {\n  switch (status) {\n    case 0:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this);\n\n    case 1:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        color: \"#5197d5\",\n        children: \"\\uC2B9\\uB099\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this);\n\n    case 2:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uAC70\\uC808\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this);\n\n    case 3:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this);\n\n    case 4:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        children: \"\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this);\n  }\n};\n\nconst ApplicationItem = ({\n  application\n}) => {\n  const onCancle = () => {\n    axios.post(`${SERVER}/api/host/application/cancle`, {\n      id: application.id\n    }).then(res => {\n      if (res.data.success) alert('취소가 완료되었습니다.');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: application.date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: application.user.nickname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: Status(application.status || 0)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: application.status < 2 ? /*#__PURE__*/_jsxDEV(Button, {\n        default: true,\n        onClick: onCancle,\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }, this) : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 3\n  }, this);\n};\n\nconst HistoryItem = ({\n  history\n}) => {\n  // 모달을 위한 State\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: history.date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: history.user.nickname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: history.place.formatted_address\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: history.review.description ? /*#__PURE__*/_jsxDEV(Rating, {\n        rating: history.review.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOpen,\n        children: \"\\uB9AC\\uBDF0\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(StyledModal, {\n      open: open,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modalItem\",\n        children: /*#__PURE__*/_jsxDEV(HostReviewWrite, {\n          applicationId: history.id,\n          onClose: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 3\n  }, this);\n};\n\nconst NoItem = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"tr\", {\n  children: /*#__PURE__*/_jsxDEV(\"td\", {\n    colSpan: 4,\n    style: {\n      textAlign: 'center'\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 3\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 149,\n  columnNumber: 2\n}, this);\n\nconst MyHostLog = props => {\n  const {\n    applications,\n    preApplications\n  } = props;\n  return /*#__PURE__*/_jsxDEV(MypageLayout, {\n    tabNum: 2,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD604\\uC7AC \\uC9C4\\uD589\\uC911\\uC778 \\uD638\\uC2A4\\uD2B8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uC0C1\\uD0DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uCDE8\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: applications.length ? applications.map(app => /*#__PURE__*/_jsxDEV(ApplicationItem, {\n              application: app\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 33\n            }, this)) : /*#__PURE__*/_jsxDEV(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uC9C0\\uB098\\uC628 \\uD638\\uC2A4\\uD2B8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uC7A5\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\uD6C4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: preApplications.length ? preApplications.slice(0, 5).map(app => /*#__PURE__*/_jsxDEV(HistoryItem, {\n              history: app\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 22\n            }, this)) : /*#__PURE__*/_jsxDEV(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"more\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"more\",\n            children: \"\\uB354\\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 3\n  }, this);\n};\n\nexport default MyHostLog;","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/user/Mypage/MyHostLog.tsx"],"names":["Modal","axios","React","useState","styled","SERVER","HostReviewWrite","Button","Rating","MypageLayout","Container","div","Table","table","StyledModal","StatusSpan","span","props","color","Status","status","ApplicationItem","application","onCancle","post","id","then","res","data","success","alert","date","user","nickname","HistoryItem","history","open","setOpen","handleOpen","handleClose","place","formatted_address","review","description","rating","NoItem","children","textAlign","MyHostLog","applications","preApplications","length","map","app","slice"],"mappings":";;AAAA,SAASA,KAAT,QAAsB,mBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAOA,MAAMC,SAAS,GAAGN,MAAM,CAACO,GAAV;AAAA;AAAA;AAAA,4KAAf;AAkBA,MAAMC,KAAK,GAAGR,MAAM,CAACS,KAAV;AAAA;AAAA;AAAA,wJAAX;AAeA,MAAMC,WAAW,GAAGV,MAAM,CAACJ,KAAD,CAAT;AAAA;AAAA;AAAA,2PAAjB;AAgBA,MAAMe,UAAU,GAAGX,MAAM,CAACY,IAAV;AAAA;AAAA;AAAA,sGAGNC,KAAK,IAAIA,KAAK,CAACC,KAAN,IAAe,OAHlB,EAIKD,KAAK,IAAIA,KAAK,CAACC,KAAN,IAAe,OAJ7B,CAAhB;;AAQA,MAAMC,MAAM,GAAGC,MAAM,IAAI;AACxB,UAAQA,MAAR;AACC,SAAK,CAAL;AACC,0BAAO,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACD,SAAK,CAAL;AACC,0BAAO,QAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACD,SAAK,CAAL;AACC,0BAAO,QAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACD,SAAK,CAAL;AACC,0BAAO,QAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACD,SAAK,CAAL;AACC,0BAAO,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACD;AACC,0BAAO,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AAZF;AAcA,CAfD;;AAiBA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmD;AAC1E,QAAMC,QAAQ,GAAG,MAAM;AACtBtB,IAAAA,KAAK,CACHuB,IADF,CACQ,GAAEnB,MAAO,8BADjB,EACgD;AAAEoB,MAAAA,EAAE,EAAEH,WAAW,CAACG;AAAlB,KADhD,EAEEC,IAFF,CAEOC,GAAG,IAAI;AACZ,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsBC,KAAK,CAAC,cAAD,CAAL;AACtB,KAJF;AAKA,GAND;;AAOA,sBACC;AAAA,4BACC;AAAA,gBAAKR,WAAW,CAACS;AAAjB;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAA,gBAAKT,WAAW,CAACU,IAAZ,CAAiBC;AAAtB;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAA,gBAAKd,MAAM,CAACG,WAAW,CAACF,MAAZ,IAAsB,CAAvB;AAAX;AAAA;AAAA;AAAA;AAAA,YAHD,eAIC;AAAA,gBACEE,WAAW,CAACF,MAAZ,GAAqB,CAArB,gBACA,QAAC,MAAD;AAAQ,QAAA,OAAO,MAAf;AAAgB,QAAA,OAAO,EAAEG,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,GAKA;AANF;AAAA;AAAA;AAAA;AAAA,YAJD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAgBA,CAxBD;;AA0BA,MAAMW,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmD;AACtE;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBlC,QAAQ,CAAC,KAAD,CAAhC;;AACA,QAAMmC,UAAU,GAAG,MAAM;AACxBD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,GAFD;;AAGA,QAAME,WAAW,GAAG,MAAM;AACzBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,GAFD;;AAIA,sBACC;AAAA,4BACC;AAAA,gBAAKF,OAAO,CAACJ;AAAb;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAA,gBAAKI,OAAO,CAACH,IAAR,CAAaC;AAAlB;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAA,gBAAKE,OAAO,CAACK,KAAR,CAAcC;AAAnB;AAAA;AAAA;AAAA;AAAA,YAHD,eAIC;AAAA,gBACEN,OAAO,CAACO,MAAR,CAAeC,WAAf,gBACA,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAER,OAAO,CAACO,MAAR,CAAeE;AAA/B;AAAA;AAAA;AAAA;AAAA,cADA,gBAGA,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAEN,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,YAJD,eAWC,QAAC,WAAD;AAAa,MAAA,IAAI,EAAEF,IAAnB;AAAyB,MAAA,OAAO,EAAEG,WAAlC;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACC,QAAC,eAAD;AAAiB,UAAA,aAAa,EAAEJ,OAAO,CAACV,EAAxC;AAA4C,UAAA,OAAO,EAAEc;AAArD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAXD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAmBA,CA7BD;;AA+BA,MAAMM,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,kBACd;AAAA,yBACC;AAAI,IAAA,OAAO,EAAE,CAAb;AAAgB,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAvB;AAAA,cACED;AADF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,QADD;;AAQA,MAAME,SAAS,GAAI/B,KAAD,IAAkB;AACnC,QAAM;AAAEgC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAoCjC,KAA1C;AACA,sBACC,QAAC,YAAD;AAAc,IAAA,MAAM,EAAE,CAAtB;AAAA,2BACC,QAAC,SAAD;AAAA,8BACC;AAAA,gCACC;AAAA,iCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAKC,QAAC,KAAD;AAAA,kCACC;AAAA,mCACC;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eASC;AAAA,sBAEEgC,YAAY,CAACE,MAAb,GACAF,YAAY,CAACG,GAAb,CAAiBC,GAAG,iBAAI,QAAC,eAAD;AAAiB,cAAA,WAAW,EAAEA;AAA9B;AAAA;AAAA;AAAA;AAAA,oBAAxB,CADA,gBAGA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,kBATD;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAyBC;AAAA,gCACC;AAAA,iCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAMC,QAAC,KAAD;AAAA,kCACC;AAAA,mCACC;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eASC;AAAA,sBAEEH,eAAe,CAACC,MAAhB,GACAD,eAAe,CACbI,KADF,CACQ,CADR,EACW,CADX,EAEEF,GAFF,CAEMC,GAAG,iBAAI,QAAC,WAAD;AAAa,cAAA,OAAO,EAAEA;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAFb,CADA,gBAKA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,kBATD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND,eA0BC;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCACC;AAAG,YAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBA1BD;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AA4DA,CA9DD;;AAgEA,eAAeL,SAAf","sourcesContent":["import { Modal } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React, { ReactNode, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Application, PreviousApplication } from '../../../interfaces';\r\nimport SERVER from '../../../utils/url';\r\nimport HostReviewWrite from '../../host/HostReviewWrite';\r\nimport Button from '../../reuse/Button';\r\nimport Rating from '../../reuse/Rating';\r\nimport MypageLayout from './MypageHeader';\r\n\r\ninterface Props {\r\n\tapplications?: Application[];\r\n\tpreApplications?: PreviousApplication[];\r\n}\r\n\r\nconst Container = styled.div`\r\n\t& > section {\r\n\t\t/* border-bottom: 1px solid #aaa; */\r\n\t\tmargin-bottom: 2rem;\r\n\t\t& > header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n\r\n\t& .more {\r\n\t\tpadding: 0.25rem;\r\n\t\tfont-size: 0.9em;\r\n\t\ttext-align: right;\r\n\t}\r\n`;\r\n\r\nconst Table = styled.table`\r\n\twidth: 100%;\r\n\tborder-collapse: collapse;\r\n\ttext-align: center;\r\n\t& th,\r\n\t& td {\r\n\t\tborder-bottom: 1px solid #aaa;\r\n\t\twidth: 25%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t& td {\r\n\t\tpadding: 1em 0.5em;\r\n\t}\r\n`;\r\n\r\nconst StyledModal = styled(Modal)`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\r\n\t& .modalItem {\r\n\t\twidth: 80vw;\r\n\t\tmax-width: 800px;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tpadding: 1rem;\r\n\t\tborder-radius: 0.25rem;\r\n\t\toutline: 0;\r\n\t\tbox-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -2px -2px 8px rgba(0, 0, 0, 0.3);\r\n\t}\r\n`;\r\n\r\nconst StatusSpan = styled.span<{ color?: string }>`\r\n\tdisplay: inline-block;\r\n\tpadding: 0.25rem 0.5rem;\r\n\tcolor: ${props => props.color || 'black'};\r\n\tborder: 1px solid ${props => props.color || 'black'};\r\n\tfont-size: 0.8em;\r\n`;\r\n\r\nconst Status = status => {\r\n\tswitch (status) {\r\n\t\tcase 0:\r\n\t\t\treturn <StatusSpan>대기 중</StatusSpan>;\r\n\t\tcase 1:\r\n\t\t\treturn <StatusSpan color='#5197d5'>승낙</StatusSpan>;\r\n\t\tcase 2:\r\n\t\t\treturn <StatusSpan color='#e74c3c'>거절</StatusSpan>;\r\n\t\tcase 3:\r\n\t\t\treturn <StatusSpan color='#e74c3c'>취소</StatusSpan>;\r\n\t\tcase 4:\r\n\t\t\treturn <StatusSpan>완료</StatusSpan>;\r\n\t\tdefault:\r\n\t\t\treturn <StatusSpan>대기 중</StatusSpan>;\r\n\t}\r\n};\r\n\r\nconst ApplicationItem = ({ application }: { application: Application }) => {\r\n\tconst onCancle = () => {\r\n\t\taxios\r\n\t\t\t.post(`${SERVER}/api/host/application/cancle`, { id: application.id })\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.success) alert('취소가 완료되었습니다.');\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{application.date}</td>\r\n\t\t\t<td>{application.user.nickname}</td>\r\n\t\t\t<td>{Status(application.status || 0)}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{application.status < 2 ? (\r\n\t\t\t\t\t<Button default onClick={onCancle}>\r\n\t\t\t\t\t\t취소\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nconst HistoryItem = ({ history }: { history: PreviousApplication }) => {\r\n\t// 모달을 위한 State\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst handleOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{history.date}</td>\r\n\t\t\t<td>{history.user.nickname}</td>\r\n\t\t\t<td>{history.place.formatted_address}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{history.review.description ? (\r\n\t\t\t\t\t<Rating rating={history.review.rating} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button onClick={handleOpen}>리뷰작성</Button>\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t\t<StyledModal open={open} onClose={handleClose}>\r\n\t\t\t\t<div className='modalItem'>\r\n\t\t\t\t\t<HostReviewWrite applicationId={history.id} onClose={handleClose} />\r\n\t\t\t\t</div>\r\n\t\t\t</StyledModal>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nconst NoItem = ({ children }: { children: ReactNode }) => (\r\n\t<tr>\r\n\t\t<td colSpan={4} style={{ textAlign: 'center' }}>\r\n\t\t\t{children}\r\n\t\t</td>\r\n\t</tr>\r\n);\r\n\r\nconst MyHostLog = (props: Props) => {\r\n\tconst { applications, preApplications } = props;\r\n\treturn (\r\n\t\t<MypageLayout tabNum={2}>\r\n\t\t\t<Container>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<h3>현재 진행중인 호스트</h3>\r\n\t\t\t\t\t</header>\r\n\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>날짜</th>\r\n\t\t\t\t\t\t\t\t<th>호스트</th>\r\n\t\t\t\t\t\t\t\t<th>상태</th>\r\n\t\t\t\t\t\t\t\t<th>취소</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{/* 없으면 없습니다, */}\r\n\t\t\t\t\t\t\t{applications.length ? (\r\n\t\t\t\t\t\t\t\tapplications.map(app => <ApplicationItem application={app} />)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<NoItem>현재 신청내역이 없습니다.</NoItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<h3>지나온 호스트</h3>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t{/* 5개만큼 잘라서 mapping */}\r\n\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>날짜</th>\r\n\t\t\t\t\t\t\t\t<th>호스트</th>\r\n\t\t\t\t\t\t\t\t<th>장소</th>\r\n\t\t\t\t\t\t\t\t<th>후기</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{/* 없으면 없습니다, */}\r\n\t\t\t\t\t\t\t{preApplications.length ? (\r\n\t\t\t\t\t\t\t\tpreApplications\r\n\t\t\t\t\t\t\t\t\t.slice(0, 5)\r\n\t\t\t\t\t\t\t\t\t.map(app => <HistoryItem history={app} />)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<NoItem>현재 신청내역이 없습니다.</NoItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<div className='more'>\r\n\t\t\t\t\t\t<a className='more'>더보기</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</Container>\r\n\t\t</MypageLayout>\r\n\t);\r\n};\r\n\r\nexport default MyHostLog;\r\n"]},"metadata":{},"sourceType":"module"}