{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/client/components/host/Request.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Checkbox, Fade, FormControlLabel, FormGroup, Modal, Radio, RadioGroup } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../hooks/useInput';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport { UserStateContext } from '../../context/user';\nimport styled from 'styled-components';\nimport Textarea from '../reuse/Textarea';\nimport Input from '../reuse/Input';\nimport Button from '../reuse/Button';\nimport SearchPlace from '../search/SearchPlace';\nimport { languages, travelStyles } from '../../utils/basicData';\nimport TravelStyleTag from '../reuse/TravelStyleTag';\nconst RequestContainer = styled.div.withConfig({\n  displayName: \"Request__RequestContainer\",\n  componentId: \"sc-1j743le-0\"\n})([\"margin:2rem auto;& > div > div{display:flex;margin:1.5rem 0;align-items:center;flex-wrap:wrap;& > label{font-weight:600;flex:1;padding:0 1em;line-break:word;}& > *:nth-child(2){flex:2;}}\"]);\nconst WarningMessage = styled.p.withConfig({\n  displayName: \"Request__WarningMessage\",\n  componentId: \"sc-1j743le-1\"\n})([\"font-size:0.7em;font-weight:600;text-align:center;margin:2rem 0 0.25rem 0;\"]);\nconst BtnRequest = styled(Button).withConfig({\n  displayName: \"Request__BtnRequest\",\n  componentId: \"sc-1j743le-2\"\n})([\"display:block;font-size:1em;font-weight:500;margin:0 auto;\"]);\nconst StyledModal = styled(Modal).withConfig({\n  displayName: \"Request__StyledModal\",\n  componentId: \"sc-1j743le-3\"\n})([\"display:flex;align-items:center;justify-content:center;& .searchForm{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\n\nconst TravelStyleInput = ({\n  value: selectedStyle,\n  setValue: setSelectedStyle\n}) => {\n  const onClick = e => {\n    if (selectedStyle === e.currentTarget.innerText) {\n      setSelectedStyle('');\n      return;\n    }\n\n    setSelectedStyle(e.currentTarget.innerText);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: travelStyles.map(style => /*#__PURE__*/_jsxDEV(TravelStyleTag, {\n      label: style,\n      checked: style === selectedStyle,\n      onClick: onClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this))\n  }, void 0, false);\n};\n\nconst Request = props => {\n  // const country = useInput('대한민국');\n  const {\n    0: place,\n    1: setPlace\n  } = useState({\n    name: '',\n    formatted_address: '',\n    geometry: {\n      location: {\n        lat: 0,\n        lng: 0\n      }\n    }\n  });\n  const {\n    0: langs,\n    1: setLangs\n  } = useState([]);\n  const {\n    0: selectedStyle,\n    1: setSelectedStyle\n  } = useState('');\n  const description = useInput('');\n  const currentUser = useContext(UserStateContext);\n  let newChecked = [];\n\n  for (let i = 0; i < languages.length; i++) {\n    newChecked = newChecked.concat(false);\n  }\n\n  const {\n    0: checked,\n    1: setChecked\n  } = useState(newChecked);\n  const travelerNation = useInput('0'); // 모달을 위한 State\n\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    setOpen(false);\n  }, [place]);\n\n  const onSubmit = async () => {\n    // e.preventDefault();\n    const hostInfo = {\n      // country: country.value,\n      place: place,\n      languages: langs,\n      description: description.value,\n      travelStyle: selectedStyle\n    };\n    const res = await axios.post(`${SERVER}/api/host/request`, {\n      userId: currentUser.id,\n      hostInfo\n    });\n    alert(res.data.message);\n    if (res.data.success) Router.push('/');\n  };\n\n  const onChange = e => {\n    if (langs.length < 4) {\n      if (e.target.checked && langs.length < 3) {\n        setLangs([...langs, e.target.value]);\n        setChecked([...checked.slice(0, Number(e.target.id) - 1), true, ...checked.slice(Number(e.target.id) - 1 + 1)]);\n      } else {\n        setLangs(langs.filter(lang => lang !== e.target.value));\n        setChecked([...checked.slice(0, Number(e.target.id) - 1), false, ...checked.slice(Number(e.target.id) - 1 + 1)]);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RequestContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD638\\uC2A4\\uD2B8 \\uC2E0\\uCCAD\\uC744 \\uC704\\uD55C \\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD638\\uC2A4\\uD2B8 \\uD65C\\uB3D9 \\uC9C0\\uC5ED\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addressForm\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"address\",\n            width: \"100%\",\n            borderRadius: \"0.25rem\",\n            border: \"1px solid rgba(0,0,0,0.41)\",\n            textAlign: \"left\",\n            value: place.name ? `${place.formatted_address}(${place.name})` : '',\n            onClick: handleOpen,\n            onChange: handleOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(StyledModal, {\n            open: open,\n            onClose: handleClose,\n            children: /*#__PURE__*/_jsxDEV(Fade, {\n              in: open,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"searchForm\",\n                children: /*#__PURE__*/_jsxDEV(SearchPlace, {\n                  setPlace: setPlace\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC0AC\\uC6A9\\uAC00\\uB2A5 \\uC5B8\\uC5B4\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694(\\uCD5C\\uB300 3\\uAC1C)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          row: true,\n          children: languages.map(lang => /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            control: /*#__PURE__*/_jsxDEV(Checkbox, {\n              id: `${lang.id}`,\n              color: \"primary\",\n              onChange: onChange,\n              value: lang.name,\n              checked: checked[lang.id - 1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 10\n            }, this),\n            label: lang.name\n          }, lang.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC6D0\\uD558\\uB294 \\uC5EC\\uD589\\uAC1D\\uC758 \\uAD6D\\uC801\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(RadioGroup, _objectSpread(_objectSpread({\n          row: true\n        }, travelerNation), {}, {\n          children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"0\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this),\n            label: \"\\uC0C1\\uAD00\\uC5C6\\uC74C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"1\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this),\n            label: \"\\uC678\\uAD6D\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"2\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this),\n            label: \"\\uC790\\uAD6D\\uBBFC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 7\n          }, this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC790\\uC2E0\\uC744 \\uB300\\uD45C\\uD560 \\uC5EC\\uD589\\uC2A4\\uD0C0\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TravelStyleInput, {\n            value: selectedStyle,\n            setValue: setSelectedStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uAC04\\uB7B5\\uD55C \\uC790\\uAE30\\uC18C\\uAC1C\\uB97C \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Textarea, _objectSpread({\n            height: \"8em\"\n          }, description), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(WarningMessage, {\n        children: \"\\uC2E0\\uCCAD \\uD6C4 \\uAD00\\uB9AC\\uC790\\uC758 \\uC2B9\\uC778\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(BtnRequest, {\n        onClick: onSubmit,\n        width: \"10em\",\n        padding: \"0.5rem 1rem\",\n        children: \"\\uC2E0\\uCCAD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 3\n  }, this);\n};\n\nexport default Request;","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/client/components/host/Request.tsx"],"names":["Checkbox","Fade","FormControlLabel","FormGroup","Modal","Radio","RadioGroup","axios","React","useContext","useEffect","useState","useInput","SERVER","Router","UserStateContext","styled","Textarea","Input","Button","SearchPlace","languages","travelStyles","TravelStyleTag","RequestContainer","div","WarningMessage","p","BtnRequest","StyledModal","TravelStyleInput","value","selectedStyle","setValue","setSelectedStyle","onClick","e","currentTarget","innerText","map","style","Request","props","place","setPlace","name","formatted_address","geometry","location","lat","lng","langs","setLangs","description","currentUser","newChecked","i","length","concat","checked","setChecked","travelerNation","open","setOpen","handleOpen","handleClose","onSubmit","hostInfo","travelStyle","res","post","userId","id","alert","data","message","success","push","onChange","target","slice","Number","filter","lang"],"mappings":"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","sourcesContent":["import {\n\tCheckbox,\n\tFade,\n\tFormControlLabel,\n\tFormGroup,\n\tModal,\n\tRadio,\n\tRadioGroup,\n} from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useInput } from '../../hooks/useInput';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport { UserStateContext } from '../../context/user';\nimport styled from 'styled-components';\nimport Textarea from '../reuse/Textarea';\nimport Input from '../reuse/Input';\nimport Button from '../reuse/Button';\nimport { Place } from '../../interfaces';\nimport SearchPlace from '../search/SearchPlace';\nimport { languages, travelStyles } from '../../utils/basicData';\nimport TravelStyleTag from '../reuse/TravelStyleTag';\n\ninterface Props {}\n\nconst RequestContainer = styled.div`\n\tmargin: 2rem auto;\n\t& > div > div {\n\t\tdisplay: flex;\n\t\tmargin: 1.5rem 0;\n\t\talign-items: center;\n\t\tflex-wrap: wrap;\n\t\t& > label {\n\t\t\tfont-weight: 600;\n\t\t\tflex: 1;\n\t\t\tpadding: 0 1em;\n\t\t\tline-break: word;\n\t\t}\n\t\t& > *:nth-child(2) {\n\t\t\tflex: 2;\n\t\t}\n\t}\n`;\n\nconst WarningMessage = styled.p`\n\tfont-size: 0.7em;\n\tfont-weight: 600;\n\ttext-align: center;\n\tmargin: 2rem 0 0.25rem 0;\n`;\n\nconst BtnRequest = styled(Button)`\n\tdisplay: block;\n\tfont-size: 1em;\n\tfont-weight: 500;\n\tmargin: 0 auto;\n`;\n\nconst StyledModal = styled(Modal)`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& .searchForm {\n\t\twidth: 80vw;\n\t\tmax-width: 800px;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tpadding: 1rem;\n\t\tborder-radius: 0.25rem;\n\t\toutline: 0;\n\t\tbox-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -2px -2px 8px rgba(0, 0, 0, 0.3);\n\t}\n`;\n\nconst TravelStyleInput = ({\n\tvalue: selectedStyle,\n\tsetValue: setSelectedStyle,\n}) => {\n\tconst onClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n\t\tif (selectedStyle === e.currentTarget.innerText) {\n\t\t\tsetSelectedStyle('');\n\t\t\treturn;\n\t\t}\n\t\tsetSelectedStyle(e.currentTarget.innerText);\n\t};\n\treturn (\n\t\t<>\n\t\t\t{travelStyles.map(style => (\n\t\t\t\t<TravelStyleTag\n\t\t\t\t\tlabel={style}\n\t\t\t\t\tchecked={style === selectedStyle}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t);\n};\n\nconst Request = (props: Props) => {\n\t// const country = useInput('대한민국');\n\tconst [place, setPlace] = useState<Place>({\n\t\tname: '',\n\t\tformatted_address: '',\n\t\tgeometry: { location: { lat: 0, lng: 0 } },\n\t});\n\tconst [langs, setLangs] = useState([]);\n\tconst [selectedStyle, setSelectedStyle] = useState('');\n\tconst description = useInput('');\n\tconst currentUser = useContext(UserStateContext);\n\n\tlet newChecked = [];\n\n\tfor (let i = 0; i < languages.length; i++) {\n\t\tnewChecked = newChecked.concat(false);\n\t}\n\n\tconst [checked, setChecked] = useState(newChecked);\n\tconst travelerNation = useInput('0');\n\n\t// 모달을 위한 State\n\tconst [open, setOpen] = useState(false);\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\tuseEffect(() => {\n\t\tsetOpen(false);\n\t}, [place]);\n\n\tconst onSubmit = async () => {\n\t\t// e.preventDefault();\n\n\t\tconst hostInfo = {\n\t\t\t// country: country.value,\n\t\t\tplace: place,\n\t\t\tlanguages: langs,\n\t\t\tdescription: description.value,\n\t\t\ttravelStyle: selectedStyle,\n\t\t};\n\n\t\tconst res = await axios.post(`${SERVER}/api/host/request`, {\n\t\t\tuserId: currentUser.id,\n\t\t\thostInfo,\n\t\t});\n\t\talert(res.data.message);\n\t\tif (res.data.success) Router.push('/');\n\t};\n\n\tconst onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (langs.length < 4) {\n\t\t\tif (e.target.checked && langs.length < 3) {\n\t\t\t\tsetLangs([...langs, e.target.value]);\n\t\t\t\tsetChecked([\n\t\t\t\t\t...checked.slice(0, Number(e.target.id) - 1),\n\t\t\t\t\ttrue,\n\t\t\t\t\t...checked.slice(Number(e.target.id) - 1 + 1),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tsetLangs(langs.filter(lang => lang !== e.target.value));\n\t\t\t\tsetChecked([\n\t\t\t\t\t...checked.slice(0, Number(e.target.id) - 1),\n\t\t\t\t\tfalse,\n\t\t\t\t\t...checked.slice(Number(e.target.id) - 1 + 1),\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<RequestContainer>\n\t\t\t<div>\n\t\t\t\t<h2>호스트 신청을 위한 정보를 입력해주세요</h2>\n\t\t\t\t<div>\n\t\t\t\t\t<label>호스트 활동 지역을 선택해주세요</label>\n\t\t\t\t\t<div className='addressForm'>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype='address'\n\t\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\t\tborderRadius='0.25rem'\n\t\t\t\t\t\t\tborder='1px solid rgba(0,0,0,0.41)'\n\t\t\t\t\t\t\ttextAlign='left'\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tplace.name ? `${place.formatted_address}(${place.name})` : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\t\t\tonChange={handleOpen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<StyledModal open={open} onClose={handleClose}>\n\t\t\t\t\t\t\t<Fade in={open}>\n\t\t\t\t\t\t\t\t<div className='searchForm'>\n\t\t\t\t\t\t\t\t\t<SearchPlace setPlace={setPlace} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t</StyledModal>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>사용가능 언어를 선택해주세요(최대 3개)</label>\n\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t{languages.map(lang => (\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tkey={lang.name}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tid={`${lang.id}`}\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={lang.name}\n\t\t\t\t\t\t\t\t\t\tchecked={checked[lang.id - 1]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={lang.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>원하는 여행객의 국적을 선택해주세요</label>\n\t\t\t\t\t<RadioGroup row {...travelerNation}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='0'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='상관없음'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='1'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='외국인'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue='2'\n\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\tlabel='자국민'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>자신을 대표할 여행스타일을 선택해주세요</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TravelStyleInput\n\t\t\t\t\t\t\tvalue={selectedStyle}\n\t\t\t\t\t\t\tsetValue={setSelectedStyle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>간략한 자기소개를 적어주세요</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Textarea height='8em' {...description} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<WarningMessage>신청 후 관리자의 승인이 필요합니다.</WarningMessage>\n\t\t\t\t<BtnRequest onClick={onSubmit} width='10em' padding='0.5rem 1rem'>\n\t\t\t\t\t신청\n\t\t\t\t</BtnRequest>\n\t\t\t</div>\n\t\t</RequestContainer>\n\t);\n};\n\nexport default Request;\n"]},"metadata":{},"sourceType":"module"}