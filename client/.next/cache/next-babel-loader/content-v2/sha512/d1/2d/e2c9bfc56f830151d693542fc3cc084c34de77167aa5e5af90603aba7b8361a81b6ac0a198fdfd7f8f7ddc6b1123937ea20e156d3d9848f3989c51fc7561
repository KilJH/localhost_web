{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\hby84\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\210428\\\\localhost_web\\\\client\\\\components\\\\user\\\\Login.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Button, TextField } from '@material-ui/core';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useInput } from '../../hooks/useInput';\nimport axios from 'axios';\nimport SERVER from '../../utils/url';\nimport Link from 'next/link';\nconst LoginContainer = styled.div.withConfig({\n  displayName: \"Login__LoginContainer\",\n  componentId: \"sc-12hykyy-0\"\n})([\"width:16rem;padding:2rem;& > form{padding:1rem 0;& > div{margin:1rem 0;}}\"]);\n\nconst Login = props => {\n  const email = useInput('');\n  const pw = useInput('', value => !value.includes(';'));\n\n  const onSubmit = e => {\n    e.preventDefault();\n    axios.post(`${SERVER}/api/auth/login`, {\n      email: email.value,\n      pw: pw.value\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.data.success) {\n        location.href = '/';\n      } else {\n        alert(res.data.message);\n      }\n    }); // axios.get(`${SERVER}/api/auth/check`, { withCredentials: true });\n  };\n\n  return /*#__PURE__*/_jsxDEV(LoginContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, email), {}, {\n          label: \"Email\",\n          variant: \"outlined\",\n          type: \"email\",\n          fullWidth: true\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, pw), {}, {\n          label: \"Password\",\n          variant: \"outlined\",\n          type: \"password\",\n          fullWidth: true\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\" // onClick={onSubmit}\n          ,\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/users/register\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/hby84/OneDrive/바탕 화면/210428/localhost_web/client/components/user/Login.tsx"],"names":["Button","TextField","React","styled","useInput","axios","SERVER","Link","LoginContainer","div","Login","props","email","pw","value","includes","onSubmit","e","preventDefault","post","withCredentials","then","res","data","success","location","href","alert","message"],"mappings":";;;;;;;;;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,mBAAlC;AACA,OAAOC,KAAP,MAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAIA,MAAMC,cAAc,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,iFAApB;;AAWA,MAAMC,KAAK,GAAIC,KAAD,IAAkB;AAC/B,QAAMC,KAAK,GAAGR,QAAQ,CAAC,EAAD,CAAtB;AACA,QAAMS,EAAE,GAAGT,QAAQ,CAAC,EAAD,EAAMU,KAAD,IAAmB,CAACA,KAAK,CAACC,QAAN,CAAe,GAAf,CAAzB,CAAnB;;AAEA,QAAMC,QAAQ,GAAIC,CAAD,IAAY;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AAEAb,IAAAA,KAAK,CACHc,IADF,CAEG,GAAEb,MAAO,iBAFZ,EAGE;AACCM,MAAAA,KAAK,EAAEA,KAAK,CAACE,KADd;AAECD,MAAAA,EAAE,EAAEA,EAAE,CAACC;AAFR,KAHF,EAOE;AAAEM,MAAAA,eAAe,EAAE;AAAnB,KAPF,EASEC,IATF,CASOC,GAAG,IAAI;AACZ,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AACrBC,QAAAA,QAAQ,CAACC,IAAT,GAAgB,GAAhB;AACA,OAFD,MAEO;AACNC,QAAAA,KAAK,CAACL,GAAG,CAACC,IAAJ,CAASK,OAAV,CAAL;AACA;AACD,KAfF,EAH4B,CAoB5B;AACA,GArBD;;AAuBA,sBACC,QAAC,cAAD;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAM,MAAA,QAAQ,EAAEZ,QAAhB;AAAA,8BACC;AAAA,+BACC,QAAC,SAAD,kCACKJ,KADL;AAEC,UAAA,KAAK,EAAC,OAFP;AAGC,UAAA,OAAO,EAAC,UAHT;AAIC,UAAA,IAAI,EAAC,OAJN;AAKC,UAAA,SAAS;AALV;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAUC;AAAA,+BACC,QAAC,SAAD,kCACKC,EADL;AAEC,UAAA,KAAK,EAAC,UAFP;AAGC,UAAA,OAAO,EAAC,UAHT;AAIC,UAAA,IAAI,EAAC,UAJN;AAKC,UAAA,SAAS;AALV;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAVD,eAoBC;AAAA,+BACC,QAAC,MAAD;AACC,UAAA,IAAI,EAAC,QADN,CAEC;AAFD;AAGC,UAAA,OAAO,EAAC,WAHT;AAIC,UAAA,KAAK,EAAC,SAJP;AAKC,UAAA,SAAS,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cApBD;AAAA;AAAA;AAAA;AAAA;AAAA,YAFD,eAmCC;AAAA;AAAA;AAAA;AAAA,YAnCD,eAoCC,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,iBAAX;AAAA,6BACC,QAAC,MAAD;AAAQ,QAAA,SAAS,MAAjB;AAAkB,QAAA,OAAO,EAAC,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YApCD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA4CA,CAvED;;AAyEA,eAAeH,KAAf","sourcesContent":["import { Button, TextField } from '@material-ui/core';\r\nimport React, { ReactEventHandler, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useInput } from '../../hooks/useInput';\r\nimport axios from 'axios';\r\nimport SERVER from '../../utils/url';\r\nimport Link from 'next/link';\r\n\r\ninterface Props {}\r\n\r\nconst LoginContainer = styled.div`\r\n\twidth: 16rem;\r\n\tpadding: 2rem;\r\n\t& > form {\r\n\t\tpadding: 1rem 0;\r\n\t\t& > div {\r\n\t\t\tmargin: 1rem 0;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Login = (props: Props) => {\r\n\tconst email = useInput('');\r\n\tconst pw = useInput('', (value: string) => !value.includes(';'));\r\n\r\n\tconst onSubmit = (e: any) => {\r\n\t\te.preventDefault();\r\n\r\n\t\taxios\r\n\t\t\t.post(\r\n\t\t\t\t`${SERVER}/api/auth/login`,\r\n\t\t\t\t{\r\n\t\t\t\t\temail: email.value,\r\n\t\t\t\t\tpw: pw.value,\r\n\t\t\t\t},\r\n\t\t\t\t{ withCredentials: true },\r\n\t\t\t)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\tlocation.href = '/';\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(res.data.message);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t// axios.get(`${SERVER}/api/auth/check`, { withCredentials: true });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<LoginContainer>\r\n\t\t\t<h3>로그인</h3>\r\n\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t{...email}\r\n\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t{...pw}\r\n\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t// onClick={onSubmit}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t로그인\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t<hr />\r\n\t\t\t<Link href='/users/register'>\r\n\t\t\t\t<Button fullWidth variant='contained'>\r\n\t\t\t\t\t회원가입\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t</LoginContainer>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}