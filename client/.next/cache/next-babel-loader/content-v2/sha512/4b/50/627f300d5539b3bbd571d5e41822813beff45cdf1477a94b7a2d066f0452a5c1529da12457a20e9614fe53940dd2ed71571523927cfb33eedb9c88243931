{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport Link from 'next/link';\nimport React from 'react';\nimport styled from 'styled-components';\nvar PageButton = styled.li.withConfig({\n  displayName: \"Pagination__PageButton\",\n  componentId: \"xxytlk-0\"\n})([\"margin:0 0.25rem;& button{border:none;padding:0;width:2.5em;height:2.5em;border-radius:50%;transition:all 0.2s ease;&.current{background-color:rgb(81,151,213);color:white;&:hover{background-color:rgb(81,151,213);cursor:default;}}&:hover{background-color:rgba(81,151,213,0.3);}}\"]);\nvar Container = styled.nav.withConfig({\n  displayName: \"Pagination__Container\",\n  componentId: \"xxytlk-1\"\n})([\"& ul{margin:0 auto;width:16em;padding:0;list-style:none;display:flex;justify-content:center;}\"]);\n\nvar Pagination = function Pagination(props) {\n  var currentIdx = props.currentIdx,\n      lastIdx = props.lastIdx,\n      url = props.url,\n      api = props.api,\n      setItems = props.setItems; // index = 1 ~ m\n\n  var _onClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(idx) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"\".concat(api, \"?page=\").concat(idx));\n\n            case 2:\n              res = _context.sent;\n              setItems(res.data.list);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var idxs = [];\n\n  if (lastIdx < 5) {\n    for (var i = 0; i < lastIdx; i++) {\n      idxs = [].concat(_toConsumableArray(idxs), [i + 1]);\n    }\n  } else if (currentIdx < 3) {\n    // 1. index 1,2면 5까지\n    idxs = [1, 2, 3, 4, 5];\n  } else if (currentIdx > lastIdx - 2) {\n    // 2. 그 중간이면 n-2 ~ n+2\n    idxs = [lastIdx - 4, lastIdx - 3, lastIdx - 2, lastIdx - 1, lastIdx];\n  } else {\n    // 3. m, m-1이면 m-4 ~ m\n    idxs = [currentIdx - 2, currentIdx - 1, currentIdx, Number(currentIdx) + 1, Number(currentIdx) + 2];\n  }\n\n  return /*#__PURE__*/_jsx(Container, {\n    children: /*#__PURE__*/_jsxs(\"ul\", {\n      children: [/*#__PURE__*/_jsx(PageButton, {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"\".concat(url, \"?page=\", 1),\n          children: /*#__PURE__*/_jsx(\"button\", {\n            onClick: function onClick() {\n              _onClick(1);\n            },\n            children: \"<\"\n          })\n        })\n      }), idxs.map(function (idx) {\n        return idx == currentIdx ? /*#__PURE__*/_jsx(PageButton, {\n          children: /*#__PURE__*/_jsx(\"button\", {\n            className: \"current\",\n            children: idx\n          })\n        }, idx) : /*#__PURE__*/_jsx(PageButton, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"\".concat(url, \"?page=\").concat(idx),\n            children: /*#__PURE__*/_jsx(\"button\", {\n              onClick: function onClick() {\n                _onClick(idx);\n              },\n              children: idx\n            })\n          })\n        }, idx);\n      }), /*#__PURE__*/_jsx(PageButton, {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"\".concat(url, \"?page=\").concat(lastIdx),\n          children: /*#__PURE__*/_jsx(\"button\", {\n            onClick: function onClick() {\n              _onClick(lastIdx);\n            },\n            children: \">\"\n          })\n        })\n      })]\n    })\n  });\n};\n\nexport default Pagination;","map":null,"metadata":{},"sourceType":"module"}