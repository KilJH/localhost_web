{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/client/components/user/Register.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Container, Fade, Modal } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useInput } from '../../hooks/useInput';\nimport axios from 'axios';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport CpxBarometer from '../reuse/CpxBarometer';\nimport SearchPlace from '../search/SearchPlace';\nimport Button from '../reuse/Button';\nconst RegisterContainer = styled(Container).withConfig({\n  displayName: \"Register__RegisterContainer\",\n  componentId: \"sc-15uvdrj-0\"\n})([\"& > div{margin:1rem 0;}& > Button{margin:1rem 0;}\"]);\nconst GenderButton = styled.button.withConfig({\n  displayName: \"Register__GenderButton\",\n  componentId: \"sc-15uvdrj-1\"\n})([\"height:100%;padding:1rem 0;background-color:transparent;border-color:transparent;border-radius:0.25rem;width:100%;outline:0;font-weight:500;&:hover{box-shadow:none;background-color:rgba(81,151,213,0.3);}&:active{box-shadow:none;border-color:transparent;background-color:rgba(81,151,213,0.6);}&.selected{border-color:transparent;background-color:#5197d5;color:white;box-shadow:none;}&.MuiButtonGroup-groupedOutlinedPrimary:hover{border-color:transparent;}& > button{height:100%;margin:0;padding:1rem 0;}\"]);\nconst CssTextField = styled(TextField).withConfig({\n  displayName: \"Register__CssTextField\",\n  componentId: \"sc-15uvdrj-2\"\n})([\"width:100%;&.MuiFormControl-root{margin-top:0.7rem;margin-bottom:0;}& .MuiOutlinedInput-root{&.hover fieldset{border-color:rgb(81,151,213);}&.Mui-focused fieldset{border-color:rgb(81,151,213);}}\"]);\nconst CssButtonGroup = styled(ButtonGroup).withConfig({\n  displayName: \"Register__CssButtonGroup\",\n  componentId: \"sc-15uvdrj-3\"\n})([\"min-width:8em;display:flex;margin-left:0.5em;margin-top:1rem;margin-top:0.7rem;\"]);\nconst FlexDiv = styled.div.withConfig({\n  displayName: \"Register__FlexDiv\",\n  componentId: \"sc-15uvdrj-4\"\n})([\"display:flex;width:100%;align-items:center;\"]);\nconst Caption = styled.p.withConfig({\n  displayName: \"Register__Caption\",\n  componentId: \"sc-15uvdrj-5\"\n})([\"font-size:0.5em;font-weight:600;margin:0.5rem 0 0 0;\"]);\nconst StyledModal = styled(Modal).withConfig({\n  displayName: \"Register__StyledModal\",\n  componentId: \"sc-15uvdrj-6\"\n})([\"display:flex;align-items:center;justify-content:center;& .searchForm{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\nexport default function Register() {\n  const speCharReg = /[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-_+<>@\\#$%&\\\\\\=\\(\\'\\\"]/i;\n  const numReg = /[0-9]/;\n  const numExceptReg = /[^0-9]/;\n  const {\n    0: isMan,\n    1: setIsMan\n  } = useState(true);\n  const passwordInput = useInput('', value => value.length <= 16);\n  const nicknameInput = useInput('', value => !speCharReg.test(value));\n  const emailInput = useInput('');\n  const nameInput = useInput('', value => !(speCharReg.test(value) || numReg.test(value)));\n  const phoneNumInput = useInput('', value => !numExceptReg.test(value) && value.length <= 12);\n  const {\n    0: place,\n    1: setPlace\n  } = useState({\n    name: '',\n    formatted_address: '',\n    geometry: {\n      location: {\n        lat: 0,\n        lng: 0\n      }\n    }\n  }); // 모달을 위한 State\n\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    setOpen(false);\n  }, [place]);\n\n  const onClickHandler = value => {\n    setIsMan(value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const address = `${place.formatted_address}(${place.name})`;\n    axios.post(`${SERVER}/api/user/register`, {\n      email: emailInput.value,\n      pw: passwordInput.value,\n      name: nameInput.value,\n      sex: isMan ? 'male' : 'female',\n      nickname: nicknameInput.value,\n      phone: phoneNumInput.value,\n      address: address\n    }).then(res => {\n      console.log(res.data);\n      alert(res.data.message);\n\n      if (res.data.success) {\n        Router.push('/');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(RegisterContainer, {\n    maxWidth: \"sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '1rem 0 0 0'\n        },\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uC744 \\uC704\\uD574 \\uAC1C\\uC778\\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Caption, {\n        children: \"LocalHost\\uB294 \\uACE0\\uAC1D\\uB2D8\\uC758 \\uC18C\\uC911\\uD55C \\uC815\\uBCF4\\uB97C \\uC548\\uC804\\uD558\\uAC8C \\uAD00\\uB9AC\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CssTextField, _objectSpread(_objectSpread({}, emailInput), {}, {\n        label: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        variant: \"outlined\",\n        type: \"email\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CssTextField, _objectSpread(_objectSpread({}, passwordInput), {}, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        variant: \"outlined\",\n        type: \"password\",\n        \"margin-bottom\": \"15px\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CpxBarometer, {\n        value: passwordInput.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Caption, {\n        children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 8~16\\uC790\\uB9AC\\uC758 \\uC601\\uBB38 \\uB300/\\uC18C\\uBB38\\uC790, \\uC22B\\uC790, \\uD2B9\\uC218\\uBB38\\uC790 \\uC911 2\\uAC1C\\uC774\\uC0C1\\uC744 \\uC870\\uD569\\uD574\\uC11C \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC124\\uC815\\uD574 \\uC8FC\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(FlexDiv, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(CssTextField, _objectSpread({\n          label: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n          variant: \"outlined\",\n          type: \"text\"\n        }, nameInput), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CssButtonGroup, {\n        color: \"primary\",\n        \"aria-label\": \"outlined primary button group\",\n        disableRipple: true,\n        children: [/*#__PURE__*/_jsxDEV(GenderButton, {\n          type: \"button\",\n          color: \"primary\",\n          className: isMan ? 'selected' : '',\n          onClick: () => onClickHandler(true),\n          children: \"\\uB0A8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(GenderButton, {\n          type: \"button\",\n          color: \"primary\",\n          className: isMan ? '' : 'selected',\n          onClick: () => onClickHandler(false),\n          children: \"\\uC5EC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CssTextField, _objectSpread(_objectSpread({}, nicknameInput), {}, {\n        label: \"\\uC0AC\\uC6A9\\uD560 \\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        variant: \"outlined\",\n        type: \"text\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CssTextField, _objectSpread(_objectSpread({}, phoneNumInput), {}, {\n        label: \"\\uD734\\uB300\\uD3F0 \\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        variant: \"outlined\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CssTextField, {\n        label: \"\\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        variant: \"outlined\",\n        type: \"text\",\n        value: place.name ? `${place.formatted_address}(${place.name})` : '',\n        onClick: handleOpen,\n        onChange: handleOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(StyledModal, {\n        open: open,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          in: open,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchForm\",\n            children: /*#__PURE__*/_jsxDEV(SearchPlace, {\n              setPlace: setPlace\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      width: \"100%\",\n      onClick: onSubmit,\n      padding: \"1rem\",\n      children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 3\n  }, this);\n}","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/client/components/user/Register.tsx"],"names":["Container","Fade","Modal","TextField","ButtonGroup","React","useEffect","useState","styled","useInput","axios","SERVER","Router","CpxBarometer","SearchPlace","Button","RegisterContainer","GenderButton","button","CssTextField","CssButtonGroup","FlexDiv","div","Caption","p","StyledModal","Register","speCharReg","numReg","numExceptReg","isMan","setIsMan","passwordInput","value","length","nicknameInput","test","emailInput","nameInput","phoneNumInput","place","setPlace","name","formatted_address","geometry","location","lat","lng","open","setOpen","handleOpen","handleClose","onClickHandler","onSubmit","e","preventDefault","address","post","email","pw","sex","nickname","phone","then","res","console","log","data","alert","message","success","push","margin","flex"],"mappings":";;;;;;;;;AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,KAA1B,QAAuC,mBAAvC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,KAAP,MAAqC,OAArC;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AAEA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,MAAMC,iBAAiB,GAAGR,MAAM,CAACR,SAAD,CAAT;AAAA;AAAA;AAAA,yDAAvB;AASA,MAAMiB,YAAY,GAAGT,MAAM,CAACU,MAAV;AAAA;AAAA;AAAA,8fAAlB;AAkCA,MAAMC,YAAY,GAAGX,MAAM,CAACL,SAAD,CAAT;AAAA;AAAA;AAAA,0MAAlB;AAiBA,MAAMiB,cAAc,GAAGZ,MAAM,CAACJ,WAAD,CAAT;AAAA;AAAA;AAAA,uFAApB;AAQA,MAAMiB,OAAO,GAAGb,MAAM,CAACc,GAAV;AAAA;AAAA;AAAA,mDAAb;AAMA,MAAMC,OAAO,GAAGf,MAAM,CAACgB,CAAV;AAAA;AAAA;AAAA,4DAAb;AAMA,MAAMC,WAAW,GAAGjB,MAAM,CAACN,KAAD,CAAT;AAAA;AAAA;AAAA,4PAAjB;AAgBA,eAAe,SAASwB,QAAT,GAAoB;AAClC,QAAMC,UAAU,GAAG,kDAAnB;AACA,QAAMC,MAAM,GAAG,OAAf;AACA,QAAMC,YAAY,GAAG,QAArB;AAEA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBxB,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMyB,aAAa,GAAGvB,QAAQ,CAAC,EAAD,EAAMwB,KAAD,IAAmBA,KAAK,CAACC,MAAN,IAAgB,EAAxC,CAA9B;AACA,QAAMC,aAAa,GAAG1B,QAAQ,CAC7B,EAD6B,EAE5BwB,KAAD,IAAmB,CAACN,UAAU,CAACS,IAAX,CAAgBH,KAAhB,CAFS,CAA9B;AAIA,QAAMI,UAAU,GAAG5B,QAAQ,CAAC,EAAD,CAA3B;AACA,QAAM6B,SAAS,GAAG7B,QAAQ,CACzB,EADyB,EAExBwB,KAAD,IAAmB,EAAEN,UAAU,CAACS,IAAX,CAAgBH,KAAhB,KAA0BL,MAAM,CAACQ,IAAP,CAAYH,KAAZ,CAA5B,CAFM,CAA1B;AAIA,QAAMM,aAAa,GAAG9B,QAAQ,CAC7B,EAD6B,EAE5BwB,KAAD,IAAmB,CAACJ,YAAY,CAACO,IAAb,CAAkBH,KAAlB,CAAD,IAA6BA,KAAK,CAACC,MAAN,IAAgB,EAFnC,CAA9B;AAIA,QAAM;AAAA,OAACM,KAAD;AAAA,OAAQC;AAAR,MAAoBlC,QAAQ,CAAQ;AACzCmC,IAAAA,IAAI,EAAE,EADmC;AAEzCC,IAAAA,iBAAiB,EAAE,EAFsB;AAGzCC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,GAAG,EAAE,CAAP;AAAUC,QAAAA,GAAG,EAAE;AAAf;AAAZ;AAH+B,GAAR,CAAlC,CArBkC,CA2BlC;;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkB1C,QAAQ,CAAC,KAAD,CAAhC;;AACA,QAAM2C,UAAU,GAAG,MAAM;AACxBD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,GAFD;;AAGA,QAAME,WAAW,GAAG,MAAM;AACzBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,GAFD;;AAGA3C,EAAAA,SAAS,CAAC,MAAM;AACf2C,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,GAFQ,EAEN,CAACT,KAAD,CAFM,CAAT;;AAIA,QAAMY,cAAc,GAAInB,KAAD,IAAoB;AAC1CF,IAAAA,QAAQ,CAACE,KAAD,CAAR;AACA,GAFD;;AAIA,QAAMoB,QAAQ,GAAIC,CAAD,IAA4C;AAC5DA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,OAAO,GAAI,GAAEhB,KAAK,CAACG,iBAAkB,IAAGH,KAAK,CAACE,IAAK,GAAzD;AAEAhC,IAAAA,KAAK,CACH+C,IADF,CACQ,GAAE9C,MAAO,oBADjB,EACsC;AACpC+C,MAAAA,KAAK,EAAErB,UAAU,CAACJ,KADkB;AAEpC0B,MAAAA,EAAE,EAAE3B,aAAa,CAACC,KAFkB;AAGpCS,MAAAA,IAAI,EAAEJ,SAAS,CAACL,KAHoB;AAIpC2B,MAAAA,GAAG,EAAE9B,KAAK,GAAG,MAAH,GAAY,QAJc;AAKpC+B,MAAAA,QAAQ,EAAE1B,aAAa,CAACF,KALY;AAMpC6B,MAAAA,KAAK,EAAEvB,aAAa,CAACN,KANe;AAOpCuB,MAAAA,OAAO,EAAEA;AAP2B,KADtC,EAUEO,IAVF,CAUQC,GAAD,IAA6B;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,MAAAA,KAAK,CAACJ,GAAG,CAACG,IAAJ,CAASE,OAAV,CAAL;;AACA,UAAIL,GAAG,CAACG,IAAJ,CAASG,OAAb,EAAsB;AACrB1D,QAAAA,MAAM,CAAC2D,IAAP,CAAY,GAAZ;AACA;AACD,KAhBF;AAiBA,GAtBD;;AAwBA,sBACC,QAAC,iBAAD;AAAmB,IAAA,QAAQ,EAAC,IAA5B;AAAA,4BACC;AAAA,8BACC;AAAI,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAIC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eASC;AAAA,6BACC,QAAC,YAAD,kCACKnC,UADL;AAEC,QAAA,KAAK,EAAC,0DAFP;AAGC,QAAA,OAAO,EAAC,UAHT;AAIC,QAAA,IAAI,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YATD,eAiBC;AAAA,8BACC,QAAC,YAAD,kCACKL,aADL;AAEC,QAAA,KAAK,EAAC,gEAFP;AAGC,QAAA,OAAO,EAAC,UAHT;AAIC,QAAA,IAAI,EAAC,UAJN;AAKC,yBAAc;AALf;AAAA;AAAA;AAAA;AAAA,cADD,eAQC,QAAC,YAAD;AAAc,QAAA,KAAK,EAAEA,aAAa,CAACC;AAAnC;AAAA;AAAA;AAAA;AAAA,cARD,eASC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATD;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBD,eA+BC,QAAC,OAAD;AAAA,8BACC;AAAK,QAAA,KAAK,EAAE;AAAEwC,UAAAA,IAAI,EAAE;AAAR,SAAZ;AAAA,+BACC,QAAC,YAAD;AACC,UAAA,KAAK,EAAC,oDADP;AAEC,UAAA,OAAO,EAAC,UAFT;AAGC,UAAA,IAAI,EAAC;AAHN,WAIKnC,SAJL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eASC,QAAC,cAAD;AACC,QAAA,KAAK,EAAC,SADP;AAEC,sBAAW,+BAFZ;AAGC,QAAA,aAAa,MAHd;AAAA,gCAKC,QAAC,YAAD;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAC,SAFP;AAGC,UAAA,SAAS,EAAER,KAAK,GAAG,UAAH,GAAgB,EAHjC;AAIC,UAAA,OAAO,EAAE,MAAMsB,cAAc,CAAC,IAAD,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,eAaC,QAAC,YAAD;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAC,SAFP;AAGC,UAAA,SAAS,EAAEtB,KAAK,GAAG,EAAH,GAAQ,UAHzB;AAIC,UAAA,OAAO,EAAE,MAAMsB,cAAc,CAAC,KAAD,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbD;AAAA;AAAA;AAAA;AAAA;AAAA,cATD;AAAA;AAAA;AAAA;AAAA;AAAA,YA/BD,eA+DC;AAAA,6BACC,QAAC,YAAD,kCACKjB,aADL;AAEC,QAAA,KAAK,EAAC,6EAFP;AAGC,QAAA,OAAO,EAAC,UAHT;AAIC,QAAA,IAAI,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YA/DD,eAuEC;AAAA,6BACC,QAAC,YAAD,kCACKI,aADL;AAEC,QAAA,KAAK,EAAC,uEAFP;AAGC,QAAA,OAAO,EAAC;AAHT;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAvED,eA8EC;AAAA,8BACC,QAAC,YAAD;AACC,QAAA,KAAK,EAAC,oDADP;AAEC,QAAA,OAAO,EAAC,UAFT;AAGC,QAAA,IAAI,EAAC,MAHN;AAIC,QAAA,KAAK,EAAEC,KAAK,CAACE,IAAN,GAAc,GAAEF,KAAK,CAACG,iBAAkB,IAAGH,KAAK,CAACE,IAAK,GAAtD,GAA2D,EAJnE;AAKC,QAAA,OAAO,EAAEQ,UALV;AAMC,QAAA,QAAQ,EAAEA;AANX;AAAA;AAAA;AAAA;AAAA,cADD,eASC,QAAC,WAAD;AAAa,QAAA,IAAI,EAAEF,IAAnB;AAAyB,QAAA,OAAO,EAAEG,WAAlC;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,EAAE,EAAEH,IAAV;AAAA,iCACC;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,mCACC,QAAC,WAAD;AAAa,cAAA,QAAQ,EAAEP;AAAvB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cATD;AAAA;AAAA;AAAA;AAAA;AAAA,YA9ED,eA+FC,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,OAAO,EAAEY,QAA9B;AAAwC,MAAA,OAAO,EAAC,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA/FD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAqGA","sourcesContent":["import { Container, Fade, Modal } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useInput } from '../../hooks/useInput';\nimport axios, { AxiosResponse } from 'axios';\nimport SERVER from '../../utils/url';\nimport Router from 'next/router';\nimport CpxBarometer from '../reuse/CpxBarometer';\nimport { Place } from '../../interfaces';\nimport SearchPlace from '../search/SearchPlace';\nimport Button from '../reuse/Button';\n\nconst RegisterContainer = styled(Container)`\n\t& > div {\n\t\tmargin: 1rem 0;\n\t}\n\t& > Button {\n\t\tmargin: 1rem 0;\n\t}\n`;\n\nconst GenderButton = styled.button`\n\theight: 100%;\n\tpadding: 1rem 0;\n\tbackground-color: transparent;\n\tborder-color: transparent;\n\tborder-radius: 0.25rem;\n\twidth: 100%;\n\toutline: 0;\n\tfont-weight: 500;\n\t&:hover {\n\t\tbox-shadow: none;\n\t\tbackground-color: rgba(81, 151, 213, 0.3);\n\t}\n\t&:active {\n\t\tbox-shadow: none;\n\t\tborder-color: transparent;\n\t\tbackground-color: rgba(81, 151, 213, 0.6);\n\t}\n\t&.selected {\n\t\tborder-color: transparent;\n\t\tbackground-color: #5197d5;\n\t\tcolor: white;\n\t\tbox-shadow: none;\n\t}\n\t&.MuiButtonGroup-groupedOutlinedPrimary:hover {\n\t\tborder-color: transparent;\n\t}\n\t& > button {\n\t\theight: 100%;\n\t\tmargin: 0;\n\t\tpadding: 1rem 0;\n\t}\n`;\n\nconst CssTextField = styled(TextField)`\n\twidth: 100%;\n\n\t&.MuiFormControl-root {\n\t\tmargin-top: 0.7rem;\n\t\tmargin-bottom: 0;\n\t}\n\t& .MuiOutlinedInput-root {\n\t\t&.hover fieldset {\n\t\t\tborder-color: rgb(81, 151, 213);\n\t\t}\n\t\t&.Mui-focused fieldset {\n\t\t\tborder-color: rgb(81, 151, 213);\n\t\t}\n\t}\n`;\n\nconst CssButtonGroup = styled(ButtonGroup)`\n\tmin-width: 8em;\n\tdisplay: flex;\n\tmargin-left: 0.5em;\n\tmargin-top: 1rem;\n\tmargin-top: 0.7rem;\n`;\n\nconst FlexDiv = styled.div`\n\tdisplay: flex;\n\twidth: 100%;\n\talign-items: center;\n`;\n\nconst Caption = styled.p`\n\tfont-size: 0.5em;\n\tfont-weight: 600;\n\tmargin: 0.5rem 0 0 0;\n`;\n\nconst StyledModal = styled(Modal)`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& .searchForm {\n\t\twidth: 80vw;\n\t\tmax-width: 800px;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tpadding: 1rem;\n\t\tborder-radius: 0.25rem;\n\t\toutline: 0;\n\t\tbox-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -2px -2px 8px rgba(0, 0, 0, 0.3);\n\t}\n`;\n\nexport default function Register() {\n\tconst speCharReg = /[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-_+<>@\\#$%&\\\\\\=\\(\\'\\\"]/i;\n\tconst numReg = /[0-9]/;\n\tconst numExceptReg = /[^0-9]/;\n\n\tconst [isMan, setIsMan] = useState(true);\n\n\tconst passwordInput = useInput('', (value: string) => value.length <= 16);\n\tconst nicknameInput = useInput(\n\t\t'',\n\t\t(value: string) => !speCharReg.test(value),\n\t);\n\tconst emailInput = useInput('');\n\tconst nameInput = useInput(\n\t\t'',\n\t\t(value: string) => !(speCharReg.test(value) || numReg.test(value)),\n\t);\n\tconst phoneNumInput = useInput(\n\t\t'',\n\t\t(value: string) => !numExceptReg.test(value) && value.length <= 12,\n\t);\n\tconst [place, setPlace] = useState<Place>({\n\t\tname: '',\n\t\tformatted_address: '',\n\t\tgeometry: { location: { lat: 0, lng: 0 } },\n\t});\n\n\t// 모달을 위한 State\n\tconst [open, setOpen] = useState(false);\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\tuseEffect(() => {\n\t\tsetOpen(false);\n\t}, [place]);\n\n\tconst onClickHandler = (value: boolean) => {\n\t\tsetIsMan(value);\n\t};\n\n\tconst onSubmit = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\n\t\tconst address = `${place.formatted_address}(${place.name})`;\n\n\t\taxios\n\t\t\t.post(`${SERVER}/api/user/register`, {\n\t\t\t\temail: emailInput.value,\n\t\t\t\tpw: passwordInput.value,\n\t\t\t\tname: nameInput.value,\n\t\t\t\tsex: isMan ? 'male' : 'female',\n\t\t\t\tnickname: nicknameInput.value,\n\t\t\t\tphone: phoneNumInput.value,\n\t\t\t\taddress: address,\n\t\t\t})\n\t\t\t.then((res: AxiosResponse<any>) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\talert(res.data.message);\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\tRouter.push('/');\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<RegisterContainer maxWidth='sm'>\n\t\t\t<div>\n\t\t\t\t<h3 style={{ margin: '1rem 0 0 0' }}>\n\t\t\t\t\t회원가입을 위해 개인정보를 입력해주세요.\n\t\t\t\t</h3>\n\t\t\t\t<Caption>\n\t\t\t\t\tLocalHost는 고객님의 소중한 정보를 안전하게 관리합니다.\n\t\t\t\t</Caption>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<CssTextField\n\t\t\t\t\t{...emailInput}\n\t\t\t\t\tlabel='이메일을 입력하세요.'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='email'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<CssTextField\n\t\t\t\t\t{...passwordInput}\n\t\t\t\t\tlabel='비밀번호를 입력하세요.'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tmargin-bottom='15px'\n\t\t\t\t/>\n\t\t\t\t<CpxBarometer value={passwordInput.value} />\n\t\t\t\t<Caption>\n\t\t\t\t\t비밀번호는 8~16자리의 영문 대/소문자, 숫자, 특수문자 중 2개이상을\n\t\t\t\t\t조합해서 비밀번호를 설정해 주세요.\n\t\t\t\t</Caption>\n\t\t\t</div>\n\t\t\t<FlexDiv>\n\t\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t\t<CssTextField\n\t\t\t\t\t\tlabel='이름을 입력하세요.'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t{...nameInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<CssButtonGroup\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\taria-label='outlined primary button group'\n\t\t\t\t\tdisableRipple\n\t\t\t\t>\n\t\t\t\t\t<GenderButton\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={isMan ? 'selected' : ''}\n\t\t\t\t\t\tonClick={() => onClickHandler(true)}\n\t\t\t\t\t>\n\t\t\t\t\t\t남\n\t\t\t\t\t</GenderButton>\n\t\t\t\t\t<GenderButton\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={isMan ? '' : 'selected'}\n\t\t\t\t\t\tonClick={() => onClickHandler(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\t여\n\t\t\t\t\t</GenderButton>\n\t\t\t\t</CssButtonGroup>\n\t\t\t</FlexDiv>\n\t\t\t<div>\n\t\t\t\t<CssTextField\n\t\t\t\t\t{...nicknameInput}\n\t\t\t\t\tlabel='사용할 닉네임을 입력하세요.'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='text'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<CssTextField\n\t\t\t\t\t{...phoneNumInput}\n\t\t\t\t\tlabel='휴대폰 번호를 입력하세요.'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<CssTextField\n\t\t\t\t\tlabel='주소를 입력하세요.'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvalue={place.name ? `${place.formatted_address}(${place.name})` : ''}\n\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\tonChange={handleOpen}\n\t\t\t\t/>\n\t\t\t\t<StyledModal open={open} onClose={handleClose}>\n\t\t\t\t\t<Fade in={open}>\n\t\t\t\t\t\t<div className='searchForm'>\n\t\t\t\t\t\t\t<SearchPlace setPlace={setPlace} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fade>\n\t\t\t\t</StyledModal>\n\t\t\t</div>\n\t\t\t<Button width='100%' onClick={onSubmit} padding='1rem'>\n\t\t\t\t회원가입\n\t\t\t</Button>\n\t\t</RegisterContainer>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}