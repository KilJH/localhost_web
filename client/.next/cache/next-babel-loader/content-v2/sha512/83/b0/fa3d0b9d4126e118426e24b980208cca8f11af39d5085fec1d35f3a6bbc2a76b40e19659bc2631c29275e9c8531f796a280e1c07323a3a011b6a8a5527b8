{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport Router from 'next/router';\nimport React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { UserStateContext } from '../../context/user';\nimport { useInput } from '../../hooks/useInput';\nimport SERVER from '../../utils/url';\nvar WriteContainer = styled.div.withConfig({\n  displayName: \"BoardWrite__WriteContainer\",\n  componentId: \"cqg11q-0\"\n})([\"margin:2rem auto;width:80%;& > * > *{margin:0.25rem 0;}& .btnGroup{display:flex;flex-direction:row-reverse;& > button{margin:0 0.25rem;width:4rem;&:first-child{margin-right:0;}}}\"]);\nvar TitleInput = styled.input.withConfig({\n  displayName: \"BoardWrite__TitleInput\",\n  componentId: \"cqg11q-1\"\n})([\"width:100%;&:focus{box-shadow:0 0 0 1px #5197d5;border:1px solid #5197d5;}\"]);\nvar ContentInput = styled.textarea.withConfig({\n  displayName: \"BoardWrite__ContentInput\",\n  componentId: \"cqg11q-2\"\n})([\"width:100%;box-sizing:border-box;resize:none;border-radius:0.25rem;border:1px solid #aaa;padding:0.5rem;&:focus{box-shadow:0 0 0 1px #5197d5;border:1px solid #5197d5;outline:none;}\"]);\nvar Button = styled.button.withConfig({\n  displayName: \"BoardWrite__Button\",\n  componentId: \"cqg11q-3\"\n})([\"background-color:#5197d5;color:white;border:none;\"]);\n\nvar BoardWrite = function BoardWrite(props) {\n  var title = useInput('');\n  var content = useInput('');\n  var currentUser = useContext(UserStateContext);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); // const parseContent = content.value.toString().replaceAll('\\n', '\\r\\n');\n\n              _context.next = 3;\n              return axios.post(\"\".concat(SERVER, \"/api/board/write\"), {\n                userId: currentUser.id,\n                title: title.value,\n                description: content.value\n              });\n\n            case 3:\n              res = _context.sent;\n              res.data.success ? Router.push('/board') : alert(res.data.message);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(WriteContainer, {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsx(\"h6\", {\n        children: \"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"\n      }), /*#__PURE__*/_jsx(\"h2\", {\n        children: \"\\uAE00 \\uC791\\uC131\"\n      }), /*#__PURE__*/_jsx(TitleInput, _objectSpread({\n        placeholder: \"\\uC81C\\uBAA9\"\n      }, title)), /*#__PURE__*/_jsx(ContentInput, _objectSpread({\n        rows: 32,\n        placeholder: \"\\uB0B4\\uC6A9\"\n      }, content)), /*#__PURE__*/_jsx(TitleInput, {\n        type: \"file\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"btnGroup\",\n        children: [/*#__PURE__*/_jsx(Button, {\n          type: \"submit\",\n          children: \"\\uC791\\uC131\"\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          children: \"\\uCDE8\\uC18C\"\n        })]\n      })]\n    })\n  });\n};\n\nexport default BoardWrite;","map":null,"metadata":{},"sourceType":"module"}