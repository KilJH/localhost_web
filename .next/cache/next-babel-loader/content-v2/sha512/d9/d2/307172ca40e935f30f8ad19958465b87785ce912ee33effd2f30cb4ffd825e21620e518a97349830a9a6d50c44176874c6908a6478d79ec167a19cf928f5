{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/components/board/comment/CommentWrite.tsx\";\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { UserStateContext } from '../../../context/user';\nimport SERVER from '../../../client/utils/url';\nconst WriterContainer = styled.div.withConfig({\n  displayName: \"CommentWrite__WriterContainer\",\n  componentId: \"rtvgpp-0\"\n})([\"margin:1rem 0 0.5rem 0;position:relative;& textarea{width:100%;display:block;resize:none;height:8em;border-radius:0.25rem;transition:all 0.2s ease;&:focus{outline:none;border:1px solid rgba(0,0,0,0);box-shadow:0px 0px 0px 2px #5197d5;}}& button[type='submit']{background-color:#5197d5;color:white;border:none;position:absolute;right:0.25rem;bottom:0.5rem;width:4em;transition:all 0.2s ease;&:hover{background-color:rgb(67,82,175);}}\"]);\n\nconst CommentWrite = props => {\n  const {\n    0: comment,\n    1: setComment\n  } = useState('');\n  const currentUser = useContext(UserStateContext);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const res = await axios.post(`${SERVER}/api/board/comment`, {\n      id: props.boardId,\n      userId: currentUser.id,\n      description: comment\n    });\n\n    if (res.data.success) {\n      props.setComments([...props.comments, {\n        user: currentUser,\n        description: comment,\n        createTime: '방금 전'\n      }]);\n      setComment('');\n    } else alert(res.data.message);\n  };\n\n  return /*#__PURE__*/_jsxDEV(WriterContainer, {\n    onSubmit: onSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: comment,\n        onChange: e => {\n          setComment(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, this);\n};\n\nexport default CommentWrite;","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/components/board/comment/CommentWrite.tsx"],"names":["axios","React","useContext","useState","styled","UserStateContext","SERVER","WriterContainer","div","CommentWrite","props","comment","setComment","currentUser","onSubmit","e","preventDefault","res","post","id","boardId","userId","description","data","success","setComments","comments","user","createTime","alert","message","target","value"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;AAQA,MAAMC,eAAe,GAAGH,MAAM,CAACI,GAAV;AAAA;AAAA;AAAA,wbAArB;;AAgCA,MAAMC,YAAY,GAAIC,KAAD,IAAkB;AACtC,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMU,WAAW,GAAGX,UAAU,CAACG,gBAAD,CAA9B;;AAEA,QAAMS,QAAQ,GAAG,MAAOC,CAAP,IAA8B;AAC9CA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAN,CAAY,GAAEZ,MAAO,oBAArB,EAA0C;AAC3Da,MAAAA,EAAE,EAAET,KAAK,CAACU,OADiD;AAE3DC,MAAAA,MAAM,EAAER,WAAW,CAACM,EAFuC;AAG3DG,MAAAA,WAAW,EAAEX;AAH8C,KAA1C,CAAlB;;AAKA,QAAIM,GAAG,CAACM,IAAJ,CAASC,OAAb,EAAsB;AACrBd,MAAAA,KAAK,CAACe,WAAN,CAAkB,CACjB,GAAGf,KAAK,CAACgB,QADQ,EAEjB;AACCC,QAAAA,IAAI,EAAEd,WADP;AAECS,QAAAA,WAAW,EAAEX,OAFd;AAGCiB,QAAAA,UAAU,EAAE;AAHb,OAFiB,CAAlB;AASAhB,MAAAA,UAAU,CAAC,EAAD,CAAV;AACA,KAXD,MAWOiB,KAAK,CAACZ,GAAG,CAACM,IAAJ,CAASO,OAAV,CAAL;AACP,GApBD;;AAqBA,sBACC,QAAC,eAAD;AAAiB,IAAA,QAAQ,EAAEhB,QAA3B;AAAA,2BACC;AAAA,8BACC;AACC,QAAA,KAAK,EAAEH,OADR;AAEC,QAAA,QAAQ,EAAEI,CAAC,IAAI;AACdH,UAAAA,UAAU,CAACG,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAV;AACA;AAJF;AAAA;AAAA;AAAA;AAAA,cADD,eAQC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAcA,CAvCD;;AAyCA,eAAevB,YAAf","sourcesContent":["import axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { UserStateContext } from '../../../context/user';\nimport { Comment } from '../../../interfaces';\nimport SERVER from '../../../client/utils/url';\n\ninterface Props {\n\tboardId: number;\n\tcomments: Comment[];\n\tsetComments: Function;\n}\n\nconst WriterContainer = styled.div`\n\tmargin: 1rem 0 0.5rem 0;\n\tposition: relative;\n\t& textarea {\n\t\twidth: 100%;\n\t\tdisplay: block;\n\t\tresize: none;\n\t\theight: 8em;\n\t\tborder-radius: 0.25rem;\n\n\t\ttransition: all 0.2s ease;\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t\tborder: 1px solid rgba(0, 0, 0, 0);\n\t\t\tbox-shadow: 0px 0px 0px 2px #5197d5;\n\t\t}\n\t}\n\t& button[type='submit'] {\n\t\tbackground-color: #5197d5;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tposition: absolute;\n\t\tright: 0.25rem;\n\t\tbottom: 0.5rem;\n\t\twidth: 4em;\n\t\ttransition: all 0.2s ease;\n\t\t&:hover {\n\t\t\tbackground-color: rgb(67, 82, 175);\n\t\t}\n\t}\n`;\n\nconst CommentWrite = (props: Props) => {\n\tconst [comment, setComment] = useState('');\n\tconst currentUser = useContext(UserStateContext);\n\n\tconst onSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\n\t\tconst res = await axios.post(`${SERVER}/api/board/comment`, {\n\t\t\tid: props.boardId,\n\t\t\tuserId: currentUser.id,\n\t\t\tdescription: comment,\n\t\t});\n\t\tif (res.data.success) {\n\t\t\tprops.setComments([\n\t\t\t\t...props.comments,\n\t\t\t\t{\n\t\t\t\t\tuser: currentUser,\n\t\t\t\t\tdescription: comment,\n\t\t\t\t\tcreateTime: '방금 전',\n\t\t\t\t},\n\t\t\t]);\n\n\t\t\tsetComment('');\n\t\t} else alert(res.data.message);\n\t};\n\treturn (\n\t\t<WriterContainer onSubmit={onSubmit}>\n\t\t\t<form>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={comment}\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tsetComment(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<button type='submit'>작성</button>\n\t\t\t</form>\n\t\t</WriterContainer>\n\t);\n};\n\nexport default CommentWrite;\n"]},"metadata":{},"sourceType":"module"}