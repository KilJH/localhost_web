{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport Button from '@material-ui/core/Button';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport { IconButton } from '@material-ui/core';\nimport axios from 'axios';\nimport SERVER from '../../../client/utils/url';\nimport Router from 'next/router';\nimport NoticeItem from './NoticeItem';\nvar UserTable = styled.table.withConfig({\n  displayName: \"NoticeList__UserTable\",\n  componentId: \"sc-1ahe981-0\"\n})([\"width:100%;min-width:32em;margin:0 auto;text-align:center;border-collapse:collapse;& th{font-size:1em;}& thead{border-bottom:3px solid #5197d5;}& td{border-bottom:1px solid black;}\"]);\nvar ButtonDiv = styled.div.withConfig({\n  displayName: \"NoticeList__ButtonDiv\",\n  componentId: \"sc-1ahe981-1\"\n})([\"width:fit-content;display:inline;\"]);\nvar DeleteButton = styled(Button).withConfig({\n  displayName: \"NoticeList__DeleteButton\",\n  componentId: \"sc-1ahe981-2\"\n})([\"&.MuiButton-root{float:right;width:8em;margin:4em 1em 2em 0;}&.MuiButton-containedSecondary{background-color:#ff6b81;}\"]);\nvar WriteButton = styled(Button).withConfig({\n  displayName: \"NoticeList__WriteButton\",\n  componentId: \"sc-1ahe981-3\"\n})([\"&.MuiButton-root{float:right;width:8em;margin:4em 0 2em 1em;}&.MuiButton-containedPrimary{background-color:#5197d5;}\"]);\nvar CheckTh = styled.th.withConfig({\n  displayName: \"NoticeList__CheckTh\",\n  componentId: \"sc-1ahe981-4\"\n})([\"padding-bottom:0.25em;\"]);\nvar CssTh = styled.th.withConfig({\n  displayName: \"NoticeList__CssTh\",\n  componentId: \"sc-1ahe981-5\"\n})([\"padding-left:1em;\"]);\nvar CssIconButton = styled(IconButton).withConfig({\n  displayName: \"NoticeList__CssIconButton\",\n  componentId: \"sc-1ahe981-6\"\n})([\"&.MuiIconButton-root{padding:0;}\"]);\n\nvar DeleteCheckedItems = function DeleteCheckedItems(state) {\n  var keys = Object.keys(state);\n  var values = Object.values(state);\n\n  for (var i = 0; i < values.length; i++) {\n    if (values[i] === true) {\n      axios.post(\"\".concat(SERVER, \"/api/notice/delete\"), {\n        id: keys[i]\n      }).then(function (res) {\n        console.log(res.data);\n        alert(res.data.message);\n\n        if (res.data.success) {\n          Router.push('/admin/notice/list');\n        }\n      });\n    }\n  }\n};\n\nvar WriteItem = function WriteItem() {\n  Router.push('/admin/notice/write'); // 에러\n};\n\nexport default function NoticeList(props) {\n  var items = props.items;\n\n  var _useState = useState({}),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useState2 = useState(false),\n      numberState = _useState2[0],\n      setNumberState = _useState2[1];\n\n  var _useState3 = useState(false),\n      titleState = _useState3[0],\n      setTitleState = _useState3[1];\n\n  var _useState4 = useState(false),\n      dateState = _useState4[0],\n      setDateState = _useState4[1];\n\n  var handleChange = function handleChange(event) {\n    var _event$target = event.target,\n        id = _event$target.id,\n        checked = _event$target.checked;\n    setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, id, checked)));\n  };\n\n  var writeButtonHandler = function writeButtonHandler(e) {\n    e.preventDefault();\n    WriteItem();\n  };\n\n  var deleteButtonHandler = function deleteButtonHandler(e) {\n    e.preventDefault();\n    DeleteCheckedItems(state);\n  };\n\n  var numberSortHandler = function numberSortHandler() {\n    setDateState(false);\n    setTitleState(false);\n    setNumberState(!numberState);\n\n    if (numberState) {\n      items.sort(function (a, b) {\n        return b.id - a.id;\n      });\n    } else {\n      items.sort(function (a, b) {\n        return a.id - b.id;\n      });\n    }\n  };\n\n  var titleSortHandler = function titleSortHandler() {\n    setNumberState(false);\n    setDateState(false);\n    setTitleState(!titleState);\n\n    if (titleState) {\n      items.sort(function (a, b) {\n        return a.title > b.title ? -1 : a.title < b.title ? 1 : 0;\n      });\n    } else {\n      items.sort(function (a, b) {\n        return a.title < b.title ? -1 : a.title > b.title ? 1 : 0;\n      });\n    }\n  };\n\n  var dateSortHandler = function dateSortHandler() {\n    setNumberState(false);\n    setTitleState(false);\n    setDateState(!dateState);\n\n    if (dateState) {\n      items.sort(function (a, b) {\n        return a.createTime > b.createTime ? -1 : a.createTime < b.createTime ? 1 : 0;\n      });\n    } else {\n      items.sort(function (a, b) {\n        return a.createTime < b.createTime ? -1 : a.createTime > b.createTime ? 1 : 0;\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(UserTable, {\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(CheckTh, {\n            children: \"\\uC120\\uD0DD\"\n          }), /*#__PURE__*/_jsxs(CssTh, {\n            children: [\"\\uBC88\\uD638\", /*#__PURE__*/_jsx(CssIconButton, {\n              onClick: numberSortHandler,\n              children: numberState ? /*#__PURE__*/_jsx(ArrowDropUpIcon, {}) : /*#__PURE__*/_jsx(ArrowDropDownIcon, {})\n            })]\n          }), /*#__PURE__*/_jsxs(CssTh, {\n            children: [\"\\uACF5\\uC9C0\\uC81C\\uBAA9\", /*#__PURE__*/_jsx(CssIconButton, {\n              onClick: titleSortHandler,\n              children: titleState ? /*#__PURE__*/_jsx(ArrowDropUpIcon, {}) : /*#__PURE__*/_jsx(ArrowDropDownIcon, {})\n            })]\n          }), /*#__PURE__*/_jsxs(CssTh, {\n            children: [\"\\uC791\\uC131\\uB0A0\\uC9DC\", /*#__PURE__*/_jsx(CssIconButton, {\n              onClick: dateSortHandler,\n              children: dateState ? /*#__PURE__*/_jsx(ArrowDropUpIcon, {}) : /*#__PURE__*/_jsx(ArrowDropDownIcon, {})\n            })]\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"tbody\", {\n        children: items.map(function (item, i) {\n          return /*#__PURE__*/_jsx(NoticeItem, {\n            item: item,\n            state: state[i],\n            handleChange: handleChange\n          }, item.id);\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(ButtonDiv, {\n      children: [/*#__PURE__*/_jsx(WriteButton, {\n        type: \"submit\",\n        onClick: writeButtonHandler,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\uACF5\\uC9C0 \\uC791\\uC131\"\n      }), /*#__PURE__*/_jsx(DeleteButton, {\n        type: \"submit\",\n        onClick: deleteButtonHandler,\n        variant: \"contained\",\n        color: \"secondary\",\n        children: \"\\uACF5\\uC9C0 \\uC0AD\\uC81C\"\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}