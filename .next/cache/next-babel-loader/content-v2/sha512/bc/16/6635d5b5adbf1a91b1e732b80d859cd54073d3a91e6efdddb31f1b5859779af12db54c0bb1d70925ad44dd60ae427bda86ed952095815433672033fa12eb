{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/components/host/HostList.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport HostListItem from './HostListItem';\nimport styled from 'styled-components';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport HostFilter from './HostFilter';\nconst HostListContainer = styled.section.withConfig({\n  displayName: \"HostList__HostListContainer\",\n  componentId: \"sc-186rold-0\"\n})([\"overflow-y:auto;overflow-x:hidden;font-size:0.9em;flex:1;& > div{border-bottom:1px solid #aaa;}& > div:last-child{border-bottom:none;}& > div:nth-child(even){background:#eee;}\"]);\nconst SortContainer = styled.div.withConfig({\n  displayName: \"HostList__SortContainer\",\n  componentId: \"sc-186rold-1\"\n})([\"display:flex;margin:0.5rem 0 0 0;& > button{flex:1;font-size:0.9em;border:none;display:inline-flex;align-items:center;&:hover{text-shadow:1px 1px 1px rgba(0,0,0,0.2);}&:active{color:#5197d5;}&.on{color:#5197d5;text-shadow:1px 1px 1px rgba(0,0,0,0.1);}}\"]);\n\nconst HostList = props => {\n  const {\n    origin,\n    setOrigin,\n    nearbyHosts,\n    setNearbyHosts,\n    coord\n  } = props;\n  const {\n    0: sortOpt,\n    1: setSortOpt\n  } = useState({\n    property: 'distance',\n    asc: true\n  });\n  const {\n    0: filterOn,\n    1: setFilterOn\n  } = useState(false);\n\n  const onOpenFilter = () => {\n    setFilterOn(!filterOn);\n  };\n\n  const onCloseFilter = () => {\n    setFilterOn(false);\n  };\n\n  const compareValue = (a, b) => {\n    return sortOpt.asc ? a - b : b - a;\n  }; // 가벼운 Sort를 위한 매핑\n\n\n  const mapped = nearbyHosts.map((el, i) => {\n    switch (sortOpt.property) {\n      case 'distance':\n        return {\n          index: i,\n          value: el.place.geometry.distance\n        };\n\n      case 'rating':\n        return {\n          index: i,\n          value: el.rating\n        };\n\n      case 'follower':\n        return {\n          index: i,\n          value: el.follower\n        };\n\n      default:\n        return {\n          index: i,\n          value: el.place.geometry.distance\n        };\n    }\n  }); // 매핑된 배열 Sort\n\n  mapped.sort((a, b) => {\n    return compareValue(a.value, b.value);\n  }); // Sort 결과에 따라 hostList 재배열\n\n  const sortedHosts = mapped.map(el => {\n    return nearbyHosts[el.index];\n  });\n\n  const onClickSort = e => {\n    if (e.currentTarget.value === sortOpt.property) {\n      setSortOpt(_objectSpread(_objectSpread({}, sortOpt), {}, {\n        asc: !sortOpt.asc\n      }));\n    } else {\n      setSortOpt(_objectSpread(_objectSpread({}, sortOpt), {}, {\n        property: e.currentTarget.value\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(HostListContainer, {\n    children: [/*#__PURE__*/_jsxDEV(SortContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"distance\",\n        className: sortOpt.property === 'distance' ? 'on' : '',\n        children: [\"\\uAC70\\uB9AC\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"rating\",\n        className: sortOpt.property === 'rating' ? 'on' : '',\n        children: [\"\\uD3C9\\uC810\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickSort,\n        value: \"follower\",\n        className: sortOpt.property === 'follower' ? 'on' : '',\n        children: [\"\\uD314\\uB85C\\uC6CC\\uC21C\", sortOpt.asc ? '▲' : '▼']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOpenFilter,\n        children: [/*#__PURE__*/_jsxDEV(TuneIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD544\\uD130\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(HostFilter, {\n        onShow: filterOn,\n        origin: origin,\n        setOrigin: setOrigin,\n        setNearbyHosts: setNearbyHosts,\n        onClose: onCloseFilter,\n        coord: coord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this), sortedHosts === null || sortedHosts === void 0 ? void 0 : sortedHosts.map(host => /*#__PURE__*/_jsxDEV(HostListItem, {\n      host: host\n    }, host.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 3\n  }, this);\n};\n\nexport default HostList;","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/components/host/HostList.tsx"],"names":["React","useState","HostListItem","styled","TuneIcon","HostFilter","HostListContainer","section","SortContainer","div","HostList","props","origin","setOrigin","nearbyHosts","setNearbyHosts","coord","sortOpt","setSortOpt","property","asc","filterOn","setFilterOn","onOpenFilter","onCloseFilter","compareValue","a","b","mapped","map","el","i","index","value","place","geometry","distance","rating","follower","sort","sortedHosts","onClickSort","e","currentTarget","host","id"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAA0CC,QAA1C,QAA0D,OAA1D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AASA,MAAMC,iBAAiB,GAAGH,MAAM,CAACI,OAAV;AAAA;AAAA;AAAA,uLAAvB;AAgBA,MAAMC,aAAa,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,oQAAnB;;AAsBA,MAAMC,QAAQ,GAAIC,KAAD,IAAkB;AAClC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,SAAV;AAAqBC,IAAAA,WAArB;AAAkCC,IAAAA,cAAlC;AAAkDC,IAAAA;AAAlD,MAA4DL,KAAlE;AACA,QAAM;AAAA,OAACM,OAAD;AAAA,OAAUC;AAAV,MAAwBjB,QAAQ,CAAC;AAAEkB,IAAAA,QAAQ,EAAE,UAAZ;AAAwBC,IAAAA,GAAG,EAAE;AAA7B,GAAD,CAAtC;AACA,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BrB,QAAQ,CAAC,KAAD,CAAxC;;AAEA,QAAMsB,YAAY,GAAG,MAAM;AAC1BD,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACA,GAFD;;AAGA,QAAMG,aAAa,GAAG,MAAM;AAC3BF,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA,GAFD;;AAIA,QAAMG,YAAY,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC9B,WAAOV,OAAO,CAACG,GAAR,GAAcM,CAAC,GAAGC,CAAlB,GAAsBA,CAAC,GAAGD,CAAjC;AACA,GAFD,CAZkC,CAgBlC;;;AACA,QAAME,MAAM,GAAGd,WAAW,CAACe,GAAZ,CAAgB,CAACC,EAAD,EAAKC,CAAL,KAAW;AACzC,YAAQd,OAAO,CAACE,QAAhB;AACC,WAAK,UAAL;AACC,eAAO;AAAEa,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAAEI,KAAJ,CAAWC,QAAX,CAAqBC;AAAxC,SAAP;;AACD,WAAK,QAAL;AACC,eAAO;AAAEJ,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACO;AAAtB,SAAP;;AACD,WAAK,UAAL;AACC,eAAO;AAAEL,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAACQ;AAAtB,SAAP;;AACD;AACC,eAAO;AAAEN,UAAAA,KAAK,EAAED,CAAT;AAAYE,UAAAA,KAAK,EAAEH,EAAE,CAAEI,KAAJ,CAAWC,QAAX,CAAqBC;AAAxC,SAAP;AARF;AAUA,GAXc,CAAf,CAjBkC,CA8BlC;;AACAR,EAAAA,MAAM,CAACW,IAAP,CAAY,CAACb,CAAD,EAAIC,CAAJ,KAAU;AACrB,WAAOF,YAAY,CAACC,CAAC,CAACO,KAAH,EAAUN,CAAC,CAACM,KAAZ,CAAnB;AACA,GAFD,EA/BkC,CAkClC;;AACA,QAAMO,WAAW,GAAGZ,MAAM,CAACC,GAAP,CAAWC,EAAE,IAAI;AACpC,WAAOhB,WAAW,CAACgB,EAAE,CAACE,KAAJ,CAAlB;AACA,GAFmB,CAApB;;AAIA,QAAMS,WAAW,GAAIC,CAAD,IAA4C;AAC/D,QAAIA,CAAC,CAACC,aAAF,CAAgBV,KAAhB,KAA0BhB,OAAO,CAACE,QAAtC,EAAgD;AAC/CD,MAAAA,UAAU,iCAAMD,OAAN;AAAeG,QAAAA,GAAG,EAAE,CAACH,OAAO,CAACG;AAA7B,SAAV;AACA,KAFD,MAEO;AACNF,MAAAA,UAAU,iCAAMD,OAAN;AAAeE,QAAAA,QAAQ,EAAEuB,CAAC,CAACC,aAAF,CAAgBV;AAAzC,SAAV;AACA;AACD,GAND;;AAQA,sBACC,QAAC,iBAAD;AAAA,4BACC,QAAC,aAAD;AAAA,8BACC;AACC,QAAA,OAAO,EAAEQ,WADV;AAEC,QAAA,KAAK,EAAC,UAFP;AAGC,QAAA,SAAS,EAAExB,OAAO,CAACE,QAAR,KAAqB,UAArB,GAAkC,IAAlC,GAAyC,EAHrD;AAAA,yCAKKF,OAAO,CAACG,GAAR,GAAc,GAAd,GAAoB,GALzB;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAQC;AACC,QAAA,OAAO,EAAEqB,WADV;AAEC,QAAA,KAAK,EAAC,QAFP;AAGC,QAAA,SAAS,EAAExB,OAAO,CAACE,QAAR,KAAqB,QAArB,GAAgC,IAAhC,GAAuC,EAHnD;AAAA,yCAKKF,OAAO,CAACG,GAAR,GAAc,GAAd,GAAoB,GALzB;AAAA;AAAA;AAAA;AAAA;AAAA,cARD,eAeC;AACC,QAAA,OAAO,EAAEqB,WADV;AAEC,QAAA,KAAK,EAAC,UAFP;AAGC,QAAA,SAAS,EAAExB,OAAO,CAACE,QAAR,KAAqB,UAArB,GAAkC,IAAlC,GAAyC,EAHrD;AAAA,+CAKMF,OAAO,CAACG,GAAR,GAAc,GAAd,GAAoB,GAL1B;AAAA;AAAA;AAAA;AAAA;AAAA,cAfD,eAsBC;AAAQ,QAAA,OAAO,EAAEG,YAAjB;AAAA,gCACC,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBD,eA0BC,QAAC,UAAD;AACC,QAAA,MAAM,EAAEF,QADT;AAEC,QAAA,MAAM,EAAET,MAFT;AAGC,QAAA,SAAS,EAAEC,SAHZ;AAIC,QAAA,cAAc,EAAEE,cAJjB;AAKC,QAAA,OAAO,EAAES,aALV;AAMC,QAAA,KAAK,EAAER;AANR;AAAA;AAAA;AAAA;AAAA,cA1BD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAoCEwB,WApCF,aAoCEA,WApCF,uBAoCEA,WAAW,CAAEX,GAAb,CAAiBe,IAAI,iBACrB,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEA;AAApB,OAA+BA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,YADA,CApCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA0CA,CAzFD;;AA2FA,eAAenC,QAAf","sourcesContent":["import React, { Dispatch, SetStateAction, useState } from 'react';\nimport HostListItem from './HostListItem';\nimport styled from 'styled-components';\nimport { Host } from '../../interfaces';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport HostFilter from './HostFilter';\n\ninterface Props {\n\torigin: Host[];\n\tsetOrigin: Dispatch<SetStateAction<Host[]>>;\n\tnearbyHosts: Host[];\n\tsetNearbyHosts: Dispatch<SetStateAction<Host[]>>;\n\tcoord: { lat: number; lng: number };\n}\nconst HostListContainer = styled.section`\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tfont-size: 0.9em;\n\tflex: 1;\n\t& > div {\n\t\tborder-bottom: 1px solid #aaa;\n\t}\n\t& > div:last-child {\n\t\tborder-bottom: none;\n\t}\n\t& > div:nth-child(even) {\n\t\tbackground: #eee;\n\t}\n`;\n\nconst SortContainer = styled.div`\n\tdisplay: flex;\n\tmargin: 0.5rem 0 0 0;\n\t& > button {\n\t\tflex: 1;\n\t\tfont-size: 0.9em;\n\t\tborder: none;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\t&:hover {\n\t\t\ttext-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\n\t\t}\n\t\t&:active {\n\t\t\tcolor: #5197d5;\n\t\t}\n\t\t&.on {\n\t\t\tcolor: #5197d5;\n\t\t\ttext-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);\n\t\t}\n\t}\n`;\n\nconst HostList = (props: Props) => {\n\tconst { origin, setOrigin, nearbyHosts, setNearbyHosts, coord } = props;\n\tconst [sortOpt, setSortOpt] = useState({ property: 'distance', asc: true });\n\tconst [filterOn, setFilterOn] = useState(false);\n\n\tconst onOpenFilter = () => {\n\t\tsetFilterOn(!filterOn);\n\t};\n\tconst onCloseFilter = () => {\n\t\tsetFilterOn(false);\n\t};\n\n\tconst compareValue = (a, b) => {\n\t\treturn sortOpt.asc ? a - b : b - a;\n\t};\n\n\t// 가벼운 Sort를 위한 매핑\n\tconst mapped = nearbyHosts.map((el, i) => {\n\t\tswitch (sortOpt.property) {\n\t\t\tcase 'distance':\n\t\t\t\treturn { index: i, value: el!.place!.geometry!.distance };\n\t\t\tcase 'rating':\n\t\t\t\treturn { index: i, value: el.rating };\n\t\t\tcase 'follower':\n\t\t\t\treturn { index: i, value: el.follower };\n\t\t\tdefault:\n\t\t\t\treturn { index: i, value: el!.place!.geometry!.distance };\n\t\t}\n\t});\n\n\t// 매핑된 배열 Sort\n\tmapped.sort((a, b) => {\n\t\treturn compareValue(a.value, b.value);\n\t});\n\t// Sort 결과에 따라 hostList 재배열\n\tconst sortedHosts = mapped.map(el => {\n\t\treturn nearbyHosts[el.index];\n\t});\n\n\tconst onClickSort = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\tif (e.currentTarget.value === sortOpt.property) {\n\t\t\tsetSortOpt({ ...sortOpt, asc: !sortOpt.asc });\n\t\t} else {\n\t\t\tsetSortOpt({ ...sortOpt, property: e.currentTarget.value });\n\t\t}\n\t};\n\n\treturn (\n\t\t<HostListContainer>\n\t\t\t<SortContainer>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='distance'\n\t\t\t\t\tclassName={sortOpt.property === 'distance' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t거리순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='rating'\n\t\t\t\t\tclassName={sortOpt.property === 'rating' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t평점순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onClickSort}\n\t\t\t\t\tvalue='follower'\n\t\t\t\t\tclassName={sortOpt.property === 'follower' ? 'on' : ''}\n\t\t\t\t>\n\t\t\t\t\t팔로워순{sortOpt.asc ? '▲' : '▼'}\n\t\t\t\t</button>\n\t\t\t\t<button onClick={onOpenFilter}>\n\t\t\t\t\t<TuneIcon />\n\t\t\t\t\t<span>필터</span>\n\t\t\t\t</button>\n\t\t\t\t<HostFilter\n\t\t\t\t\tonShow={filterOn}\n\t\t\t\t\torigin={origin}\n\t\t\t\t\tsetOrigin={setOrigin}\n\t\t\t\t\tsetNearbyHosts={setNearbyHosts}\n\t\t\t\t\tonClose={onCloseFilter}\n\t\t\t\t\tcoord={coord}\n\t\t\t\t/>\n\t\t\t</SortContainer>\n\t\t\t{sortedHosts?.map(host => (\n\t\t\t\t<HostListItem host={host} key={host.id} />\n\t\t\t))}\n\t\t</HostListContainer>\n\t);\n};\n\nexport default HostList;\n"]},"metadata":{},"sourceType":"module"}