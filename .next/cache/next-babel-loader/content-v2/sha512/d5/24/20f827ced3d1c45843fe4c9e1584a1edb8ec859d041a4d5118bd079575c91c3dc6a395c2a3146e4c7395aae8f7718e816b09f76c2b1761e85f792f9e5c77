{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Modal } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../../client/utils/url';\nimport HostReviewWrite from '../../host/HostReviewWrite';\nimport Button from '../../reuse/Button';\nimport Rating from '../../reuse/Rating';\nimport MypageLayout from './MypageHeader';\nvar Container = styled.div.withConfig({\n  displayName: \"MyHostLog__Container\",\n  componentId: \"hb6hoa-0\"\n})([\"& > section{margin-bottom:2rem;& > header{display:flex;justify-content:space-between;align-items:center;}}& .more{padding:0.25rem;font-size:0.9em;text-align:right;}\"]);\nvar Table = styled.table.withConfig({\n  displayName: \"MyHostLog__Table\",\n  componentId: \"hb6hoa-1\"\n})([\"width:100%;border-collapse:collapse;text-align:center;& th,& td{border-bottom:1px solid #aaa;width:25%;overflow:hidden;}& td{padding:1em 0.5em;}\"]);\nvar StyledModal = styled(Modal).withConfig({\n  displayName: \"MyHostLog__StyledModal\",\n  componentId: \"hb6hoa-2\"\n})([\"display:flex;align-items:center;justify-content:center;& .modalItem{width:80vw;max-width:800px;background:rgba(255,255,255,0.9);padding:1rem;border-radius:0.25rem;outline:0;box-shadow:2px 2px 8px rgba(0,0,0,0.3),-2px -2px 8px rgba(0,0,0,0.3);}\"]);\nvar StatusSpan = styled.span.withConfig({\n  displayName: \"MyHostLog__StatusSpan\",\n  componentId: \"hb6hoa-3\"\n})([\"display:inline-block;padding:0.25rem 0.5rem;color:\", \";border:2px solid \", \";font-weight:600;font-size:0.8em;\"], function (props) {\n  return props.color || 'black';\n}, function (props) {\n  return props.color || 'black';\n});\n\nvar Status = function Status(status) {\n  switch (status) {\n    case 0:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      });\n\n    case 1:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#5197d5\",\n        children: \"\\uC2B9\\uB099\"\n      });\n\n    case 2:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uAC70\\uC808\"\n      });\n\n    case 3:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        color: \"#e74c3c\",\n        children: \"\\uCDE8\\uC18C\"\n      });\n\n    case 4:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uC644\\uB8CC\"\n      });\n\n    default:\n      return /*#__PURE__*/_jsx(StatusSpan, {\n        children: \"\\uB300\\uAE30 \\uC911\"\n      });\n  }\n};\n\nvar ApplicationItem = function ApplicationItem(_ref) {\n  var application = _ref.application;\n\n  var onCancle = function onCancle() {\n    axios.post(\"\".concat(SERVER, \"/api/host/application/cancle\"), {\n      id: application.id\n    }).then(function (res) {\n      if (res.data.success) alert('취소가 완료되었습니다.');\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"tr\", {\n    children: [/*#__PURE__*/_jsx(\"td\", {\n      children: application.date\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: application.user.nickname\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: Status(application.status || 0)\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: application.status < 2 ? /*#__PURE__*/_jsx(Button, {\n        \"default\": true,\n        onClick: onCancle,\n        children: \"\\uCDE8\\uC18C\"\n      }) : ''\n    })]\n  });\n};\n\nvar HistoryItem = function HistoryItem(_ref2) {\n  var history = _ref2.history;\n\n  // 모달을 위한 State\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"tr\", {\n    children: [/*#__PURE__*/_jsx(\"td\", {\n      children: history.date\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.user.nickname\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.place.formatted_address\n    }), /*#__PURE__*/_jsx(\"td\", {\n      children: history.review.description ? /*#__PURE__*/_jsx(Rating, {\n        rating: history.review.rating,\n        isFilled: true\n      }) : /*#__PURE__*/_jsx(Button, {\n        onClick: handleOpen,\n        children: \"\\uB9AC\\uBDF0\\uC791\\uC131\"\n      })\n    }), /*#__PURE__*/_jsx(StyledModal, {\n      open: open,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"modalItem\",\n        children: /*#__PURE__*/_jsx(HostReviewWrite, {\n          applicationId: history.id,\n          onClose: handleClose\n        })\n      })\n    })]\n  });\n};\n\nvar NoItem = function NoItem(_ref3) {\n  var children = _ref3.children;\n  return /*#__PURE__*/_jsx(\"tr\", {\n    children: /*#__PURE__*/_jsx(\"td\", {\n      colSpan: 4,\n      style: {\n        textAlign: 'center'\n      },\n      children: children\n    })\n  });\n};\n\nvar MyHostLog = function MyHostLog(props) {\n  var applications = props.applications,\n      preApplications = props.preApplications;\n  return /*#__PURE__*/_jsx(MypageLayout, {\n    tabNum: 2,\n    children: /*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsxs(\"section\", {\n        children: [/*#__PURE__*/_jsx(\"header\", {\n          children: /*#__PURE__*/_jsx(\"h3\", {\n            children: \"\\uD604\\uC7AC \\uC9C4\\uD589\\uC911\\uC778 \\uD638\\uC2A4\\uD2B8\"\n          })\n        }), /*#__PURE__*/_jsxs(Table, {\n          children: [/*#__PURE__*/_jsx(\"thead\", {\n            children: /*#__PURE__*/_jsxs(\"tr\", {\n              children: [/*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uC0C1\\uD0DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uCDE8\\uC18C\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"tbody\", {\n            children: applications.length ? applications.map(function (app) {\n              return /*#__PURE__*/_jsx(ApplicationItem, {\n                application: app\n              }, app.id);\n            }) : /*#__PURE__*/_jsx(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"section\", {\n        children: [/*#__PURE__*/_jsx(\"header\", {\n          children: /*#__PURE__*/_jsx(\"h3\", {\n            children: \"\\uC9C0\\uB098\\uC628 \\uD638\\uC2A4\\uD2B8\"\n          })\n        }), /*#__PURE__*/_jsxs(Table, {\n          children: [/*#__PURE__*/_jsx(\"thead\", {\n            children: /*#__PURE__*/_jsxs(\"tr\", {\n              children: [/*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uB0A0\\uC9DC\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD638\\uC2A4\\uD2B8\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uC7A5\\uC18C\"\n              }), /*#__PURE__*/_jsx(\"th\", {\n                children: \"\\uD6C4\\uAE30\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"tbody\", {\n            children: preApplications.length ? preApplications.slice(0, 5).map(function (app) {\n              return /*#__PURE__*/_jsx(HistoryItem, {\n                history: app\n              });\n            }) : /*#__PURE__*/_jsx(NoItem, {\n              children: \"\\uD604\\uC7AC \\uC2E0\\uCCAD\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"more\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"more\",\n            children: \"\\uB354\\uBCF4\\uAE30\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default MyHostLog;","map":null,"metadata":{},"sourceType":"module"}