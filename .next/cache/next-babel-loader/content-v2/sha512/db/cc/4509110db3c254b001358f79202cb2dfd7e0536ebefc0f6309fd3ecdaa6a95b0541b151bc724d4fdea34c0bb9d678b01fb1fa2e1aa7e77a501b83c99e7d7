{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/components/reuse/LanguageSelect.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Checkbox } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { languages } from '../../client/utils/basicData';\nimport LanguageTag from './LanguageTag';\n\nvar topToBtm = function topToBtm(x, y) {\n  return keyframes([\"from{height:\", \"rem;padding-top:\", \";padding-bottom:\", \";}to{height:\", \"rem;padding-top:\", \";padding-bottom:\", \";}\"], x, x === 0 ? 0 : '1rem', x === 0 ? 0 : '1rem', y, y === 0 ? 0 : '1rem', y === 0 ? 0 : '1rem');\n};\n\nvar Selected = styled.div.withConfig({\n  displayName: \"LanguageSelect__Selected\",\n  componentId: \"a7etk-0\"\n})([\"border-bottom:1px solid rgba(0,0,0,0.42);height:2.5rem;padding:0.25rem 0.5rem;box-sizing:border-box;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;&:hover{border-width:2px;border-color:rgba(0,0,0,0.87);}&:focus{border-width:2px;border-color:rgb(58,75,170);}&::after{content:'\\u25BC';width:1rem;height:1rem;text-align:center;&:hover{border-radius:50%;background:rgba(0,0,0,0.6);}}& .selectedLanguages{flex:1;white-space:nowrap;overflow-x:hidden;}\"]);\n_c = Selected;\nvar LanguageSelectList = styled.div.withConfig({\n  displayName: \"LanguageSelect__LanguageSelectList\",\n  componentId: \"a7etk-1\"\n})([\"position:absolute;background:white;padding:1rem;padding-left:0.5rem;box-shadow:0px 2px 4px rgba(0,0,0,0.2);z-index:2;width:9rem;box-sizing:border-box;overflow-y:auto;animation:\", \" 0.5s ease forwards;& label{display:flex;align-items:center;cursor:pointer;}\"], function (props) {\n  return props.open ? topToBtm(0, 20) : topToBtm(20, 0);\n});\n_c2 = LanguageSelectList;\nvar StyledCheckbox = styled(Checkbox).withConfig({\n  displayName: \"LanguageSelect__StyledCheckbox\",\n  componentId: \"a7etk-2\"\n})([\"color:#5197d5;\"]);\n_c3 = StyledCheckbox;\n\nvar LanguageSelect = function LanguageSelect(props) {\n  _s();\n\n  var onChange = props.onChange; // check 상태 초기화를 위한 맵핑\n\n  var mappedChecks = {};\n  languages.forEach(function (lang) {\n    mappedChecks = _objectSpread(_objectSpread({}, mappedChecks), {}, _defineProperty({}, lang.id, false));\n  });\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(mappedChecks),\n      checkState = _useState2[0],\n      setCheckState = _useState2[1];\n\n  var _useState3 = useState([]),\n      checkedLangs = _useState3[0],\n      setCheckedLangs = _useState3[1];\n\n  useEffect(function () {\n    var langs = languages.filter(function (lang) {\n      return checkState[lang.id];\n    }).map(function (lang) {\n      return lang.name;\n    });\n    setCheckedLangs(langs);\n  }, [checkState]);\n  useEffect(function () {\n    onChange(checkedLangs);\n  }, [checkedLangs]);\n\n  var onOpen = function onOpen() {\n    setOpen(!open);\n  }; // const onClose = () => {\n  // \tsetOpen(false);\n  // };\n\n\n  var onCheck = function onCheck(id) {\n    setCheckState(_objectSpread(_objectSpread({}, checkState), {}, _defineProperty({}, id, !checkState[id])));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        top: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(LanguageSelectList, {\n        open: open,\n        children: languages.map(function (lang) {\n          return /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(StyledCheckbox, {\n              color: \"primary\",\n              checked: checkState[lang.id],\n              onChange: function onChange() {\n                return onCheck(lang.id);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, _this), lang.name]\n          }, lang.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Selected, {\n      onClick: onOpen,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selectedLanguages\",\n        children: checkedLangs.length ? checkedLangs.map(function (lang) {\n          return /*#__PURE__*/_jsxDEV(LanguageTag, {\n            language: lang\n          }, lang, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 32\n          }, _this);\n        }) : /*#__PURE__*/_jsxDEV(LanguageTag, {\n          language: \"\\uC804\\uCCB4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(LanguageSelect, \"v0wF7+cvWlO1qf3SgVZbdfZj+5w=\");\n\n_c4 = LanguageSelect;\nexport default LanguageSelect;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Selected\");\n$RefreshReg$(_c2, \"LanguageSelectList\");\n$RefreshReg$(_c3, \"StyledCheckbox\");\n$RefreshReg$(_c4, \"LanguageSelect\");","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/components/reuse/LanguageSelect.tsx"],"names":["Checkbox","React","useEffect","useState","styled","keyframes","languages","LanguageTag","topToBtm","x","y","Selected","div","LanguageSelectList","props","open","StyledCheckbox","LanguageSelect","onChange","mappedChecks","forEach","lang","id","setOpen","checkState","setCheckState","checkedLangs","setCheckedLangs","langs","filter","map","name","onOpen","onCheck","position","top","length"],"mappings":"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","sourcesContent":["import { Checkbox } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { languages } from '../../client/utils/basicData';\nimport LanguageTag from './LanguageTag';\n\ninterface Props {\n\tonChange: Function;\n}\n\nconst topToBtm = (x: number, y: number) => keyframes`\n  from{\n    height: ${x}rem;\n    padding-top: ${x === 0 ? 0 : '1rem'};\n    padding-bottom: ${x === 0 ? 0 : '1rem'};\n  }\n  to{\n    height: ${y}rem;\n    padding-top: ${y === 0 ? 0 : '1rem'};\n    padding-bottom: ${y === 0 ? 0 : '1rem'};\n  }\n`;\n\nconst Selected = styled.div`\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.42);\n\theight: 2.5rem;\n\tpadding: 0.25rem 0.5rem;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\tdisplay: flex;\n\talign-items: center;\n\t&:hover {\n\t\tborder-width: 2px;\n\t\tborder-color: rgba(0, 0, 0, 0.87);\n\t}\n\t&:focus {\n\t\tborder-width: 2px;\n\t\tborder-color: rgb(58, 75, 170);\n\t}\n\t&::after {\n\t\tcontent: '▼';\n\t\twidth: 1rem;\n\t\theight: 1rem;\n\t\ttext-align: center;\n\t\t&:hover {\n\t\t\tborder-radius: 50%;\n\t\t\tbackground: rgba(0, 0, 0, 0.6);\n\t\t}\n\t}\n\n\t& .selectedLanguages {\n\t\tflex: 1;\n\t\twhite-space: nowrap;\n\t\toverflow-x: hidden;\n\t}\n`;\n\nconst LanguageSelectList = styled.div<{ open: boolean }>`\n\tposition: absolute;\n\tbackground: white;\n\tpadding: 1rem;\n\tpadding-left: 0.5rem;\n\tbox-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n\tz-index: 2;\n\twidth: 9rem;\n\t/* height: 20rem; */\n\tbox-sizing: border-box;\n\toverflow-y: auto;\n\n\tanimation: ${props => (props.open ? topToBtm(0, 20) : topToBtm(20, 0))} 0.5s\n\t\tease forwards;\n\n\t& label {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t}\n`;\n\nconst StyledCheckbox = styled(Checkbox)`\n\tcolor: #5197d5;\n`;\n\nconst LanguageSelect = (props: Props) => {\n\tconst { onChange } = props;\n\n\t// check 상태 초기화를 위한 맵핑\n\tlet mappedChecks = {};\n\tlanguages.forEach(lang => {\n\t\tmappedChecks = { ...mappedChecks, [lang.id]: false };\n\t});\n\n\tconst [open, setOpen] = useState(false);\n\tconst [checkState, setCheckState] = useState(mappedChecks);\n\tconst [checkedLangs, setCheckedLangs] = useState<string[]>([]);\n\n\tuseEffect(() => {\n\t\tconst langs = languages\n\t\t\t.filter(lang => {\n\t\t\t\treturn checkState[lang.id];\n\t\t\t})\n\t\t\t.map(lang => lang.name);\n\t\tsetCheckedLangs(langs);\n\t}, [checkState]);\n\n\tuseEffect(() => {\n\t\tonChange(checkedLangs);\n\t}, [checkedLangs]);\n\n\tconst onOpen = () => {\n\t\tsetOpen(!open);\n\t};\n\t// const onClose = () => {\n\t// \tsetOpen(false);\n\t// };\n\tconst onCheck = (id: number) => {\n\t\tsetCheckState({ ...checkState, [id]: !checkState[id] });\n\t};\n\treturn (\n\t\t<>\n\t\t\t<div style={{ position: 'relative', top: '1rem' }}>\n\t\t\t\t<LanguageSelectList open={open}>\n\t\t\t\t\t{languages.map(lang => (\n\t\t\t\t\t\t<label key={lang.id}>\n\t\t\t\t\t\t\t<StyledCheckbox\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tchecked={checkState[lang.id]}\n\t\t\t\t\t\t\t\tonChange={() => onCheck(lang.id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{lang.name}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t))}\n\t\t\t\t</LanguageSelectList>\n\t\t\t</div>\n\t\t\t<Selected onClick={onOpen}>\n\t\t\t\t<div className='selectedLanguages'>\n\t\t\t\t\t{checkedLangs.length ? (\n\t\t\t\t\t\tcheckedLangs.map(lang => <LanguageTag language={lang} key={lang} />)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<LanguageTag language='전체' />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Selected>\n\t\t</>\n\t);\n};\n\nexport default LanguageSelect;\n"]},"metadata":{},"sourceType":"module"}