{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/zknock/Develop/localhost_web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/components/board/comment/CommentWrite.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { UserStateContext } from '../../../context/user';\nimport SERVER from '../../../client/utils/url';\nvar WriterContainer = styled.div.withConfig({\n  displayName: \"CommentWrite__WriterContainer\",\n  componentId: \"rtvgpp-0\"\n})([\"margin:1rem 0 0.5rem 0;position:relative;& textarea{width:100%;display:block;resize:none;height:8em;border-radius:0.25rem;transition:all 0.2s ease;&:focus{outline:none;border:1px solid rgba(0,0,0,0);box-shadow:0px 0px 0px 2px #5197d5;}}& button[type='submit']{background-color:#5197d5;color:white;border:none;position:absolute;right:0.25rem;bottom:0.5rem;width:4em;transition:all 0.2s ease;&:hover{background-color:rgb(67,82,175);}}\"]);\n_c = WriterContainer;\n\nvar CommentWrite = function CommentWrite(props) {\n  _s();\n\n  var _useState = useState(''),\n      comment = _useState[0],\n      setComment = _useState[1];\n\n  var currentUser = useContext(UserStateContext);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return axios.post(\"\".concat(SERVER, \"/api/board/comment\"), {\n                id: props.boardId,\n                userId: currentUser.id,\n                description: comment\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (res.data.success) {\n                props.setComments([].concat(_toConsumableArray(props.comments), [{\n                  user: currentUser,\n                  description: comment,\n                  createTime: '방금 전'\n                }]));\n                setComment('');\n              } else alert(res.data.message);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(WriterContainer, {\n    onSubmit: onSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: comment,\n        onChange: function onChange(e) {\n          setComment(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(CommentWrite, \"akE8GLwrwJ0kflBKk7IX1rtcWqE=\");\n\n_c2 = CommentWrite;\nexport default CommentWrite;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"WriterContainer\");\n$RefreshReg$(_c2, \"CommentWrite\");","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/components/board/comment/CommentWrite.tsx"],"names":["axios","React","useContext","useState","styled","UserStateContext","SERVER","WriterContainer","div","CommentWrite","props","comment","setComment","currentUser","onSubmit","e","preventDefault","post","id","boardId","userId","description","res","data","success","setComments","comments","user","createTime","alert","message","target","value"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;AAQA,IAAMC,eAAe,GAAGH,MAAM,CAACI,GAAV;AAAA;AAAA;AAAA,wbAArB;KAAMD,e;;AAgCN,IAAME,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAkB;AAAA;;AAAA,kBACRP,QAAQ,CAAC,EAAD,CADA;AAAA,MAC/BQ,OAD+B;AAAA,MACtBC,UADsB;;AAEtC,MAAMC,WAAW,GAAGX,UAAU,CAACG,gBAAD,CAA9B;;AAEA,MAAMS,QAAQ;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBA,cAAAA,CAAC,CAACC,cAAF;AADgB;AAAA,qBAGEhB,KAAK,CAACiB,IAAN,WAAcX,MAAd,yBAA0C;AAC3DY,gBAAAA,EAAE,EAAER,KAAK,CAACS,OADiD;AAE3DC,gBAAAA,MAAM,EAAEP,WAAW,CAACK,EAFuC;AAG3DG,gBAAAA,WAAW,EAAEV;AAH8C,eAA1C,CAHF;;AAAA;AAGVW,cAAAA,GAHU;;AAQhB,kBAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AACrBd,gBAAAA,KAAK,CAACe,WAAN,8BACIf,KAAK,CAACgB,QADV,IAEC;AACCC,kBAAAA,IAAI,EAAEd,WADP;AAECQ,kBAAAA,WAAW,EAAEV,OAFd;AAGCiB,kBAAAA,UAAU,EAAE;AAHb,iBAFD;AASAhB,gBAAAA,UAAU,CAAC,EAAD,CAAV;AACA,eAXD,MAWOiB,KAAK,CAACP,GAAG,CAACC,IAAJ,CAASO,OAAV,CAAL;;AAnBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARhB,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAqBA,sBACC,QAAC,eAAD;AAAiB,IAAA,QAAQ,EAAEA,QAA3B;AAAA,2BACC;AAAA,8BACC;AACC,QAAA,KAAK,EAAEH,OADR;AAEC,QAAA,QAAQ,EAAE,kBAAAI,CAAC,EAAI;AACdH,UAAAA,UAAU,CAACG,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAV;AACA;AAJF;AAAA;AAAA;AAAA;AAAA,eADD,eAQC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,WADD;AAcA,CAvCD;;GAAMvB,Y;;MAAAA,Y;AAyCN,eAAeA,YAAf","sourcesContent":["import axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { UserStateContext } from '../../../context/user';\nimport { Comment } from '../../../interfaces';\nimport SERVER from '../../../client/utils/url';\n\ninterface Props {\n\tboardId: number;\n\tcomments: Comment[];\n\tsetComments: Function;\n}\n\nconst WriterContainer = styled.div`\n\tmargin: 1rem 0 0.5rem 0;\n\tposition: relative;\n\t& textarea {\n\t\twidth: 100%;\n\t\tdisplay: block;\n\t\tresize: none;\n\t\theight: 8em;\n\t\tborder-radius: 0.25rem;\n\n\t\ttransition: all 0.2s ease;\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t\tborder: 1px solid rgba(0, 0, 0, 0);\n\t\t\tbox-shadow: 0px 0px 0px 2px #5197d5;\n\t\t}\n\t}\n\t& button[type='submit'] {\n\t\tbackground-color: #5197d5;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tposition: absolute;\n\t\tright: 0.25rem;\n\t\tbottom: 0.5rem;\n\t\twidth: 4em;\n\t\ttransition: all 0.2s ease;\n\t\t&:hover {\n\t\t\tbackground-color: rgb(67, 82, 175);\n\t\t}\n\t}\n`;\n\nconst CommentWrite = (props: Props) => {\n\tconst [comment, setComment] = useState('');\n\tconst currentUser = useContext(UserStateContext);\n\n\tconst onSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\n\t\tconst res = await axios.post(`${SERVER}/api/board/comment`, {\n\t\t\tid: props.boardId,\n\t\t\tuserId: currentUser.id,\n\t\t\tdescription: comment,\n\t\t});\n\t\tif (res.data.success) {\n\t\t\tprops.setComments([\n\t\t\t\t...props.comments,\n\t\t\t\t{\n\t\t\t\t\tuser: currentUser,\n\t\t\t\t\tdescription: comment,\n\t\t\t\t\tcreateTime: '방금 전',\n\t\t\t\t},\n\t\t\t]);\n\n\t\t\tsetComment('');\n\t\t} else alert(res.data.message);\n\t};\n\treturn (\n\t\t<WriterContainer onSubmit={onSubmit}>\n\t\t\t<form>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={comment}\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tsetComment(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<button type='submit'>작성</button>\n\t\t\t</form>\n\t\t</WriterContainer>\n\t);\n};\n\nexport default CommentWrite;\n"]},"metadata":{},"sourceType":"module"}