{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/zknock/Develop/localhost_web/components/host/HostFilter.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Grow, Slider } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport SERVER from '../../client/utils/url';\nimport Button from '../reuse/Button';\nimport Input from '../reuse/Input';\nimport LanguageSelect from '../reuse/LanguageSelect';\nvar FilterContainer = styled.div.withConfig({\n  displayName: \"HostFilter__FilterContainer\",\n  componentId: \"lafysf-0\"\n})([\"position:absolute;background:rgba(255,255,255,0.9);border-radius:0.25rem;padding:1rem;z-index:1;width:240px;box-sizing:border-box;box-shadow:0px 2px 4px rgba(0,0,0,0.2);& > div{display:flex;align-items:center;margin:0.5rem 0;& > *:first-child{width:33%;}& > *:last-child{width:66%;}}\"]);\n_c = FilterContainer;\nvar StyledSlider = styled(Slider).withConfig({\n  displayName: \"HostFilter__StyledSlider\",\n  componentId: \"lafysf-1\"\n})([\"&.MuiSlider-root{color:#5179d5;}& .MuiSlider-markLabel{font-size:0.8em;}\"]);\n_c2 = StyledSlider;\n\nvar HostFilter = function HostFilter(props) {\n  _s();\n\n  var origin = props.origin,\n      setOrigin = props.setOrigin,\n      setNearbyHosts = props.setNearbyHosts,\n      _props$onShow = props.onShow,\n      onShow = _props$onShow === void 0 ? true : _props$onShow,\n      onClose = props.onClose,\n      coord = props.coord;\n\n  var _useState = useState(4),\n      distance = _useState[0],\n      setDistance = _useState[1];\n\n  useEffect(function () {\n    // 거리가 변할 때마다 axios 요청 후 setNearbyHosts 해주기\n    axios.post(\"\".concat(SERVER, \"/api/host/nearbyList\"), {\n      latitude: coord.lat,\n      longitude: coord.lng,\n      distance: distance\n    }).then(function (res) {\n      setOrigin(res.data.nearbyhosts);\n    });\n  }, [distance]);\n  var marks = [{\n    value: 1,\n    label: '1km'\n  }, {\n    value: 8.5,\n    label: '8.5km'\n  }, {\n    value: 16,\n    label: '16km'\n  }];\n\n  var onLangChange = function onLangChange(langs) {\n    // origin 호스트 목록에서 비교를 통해\n    if (langs.length > 0) {\n      var filteredList = origin.filter(function (host) {\n        return host.languages.filter(function (lang) {\n          return langs.includes(lang);\n        }).length;\n      }); // filtered 호스트 목록을 set 해준다.\n\n      setNearbyHosts(filteredList);\n    } else {\n      setNearbyHosts(origin);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grow, {\n    \"in\": onShow,\n    timeout: 200,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        top: '2.5rem',\n        left: '-240px'\n      },\n      children: /*#__PURE__*/_jsxDEV(FilterContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uC5EC\\uD589\\uC2A4\\uD0C0\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uC5B8\\uC5B4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(LanguageSelect, {\n            onChange: onLangChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uAC70\\uB9AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(StyledSlider, {\n            defaultValue: 4,\n            min: 1,\n            step: 0.5,\n            max: 16,\n            marks: marks,\n            valueLabelDisplay: \"auto\",\n            value: distance,\n            onChange: function onChange() {\n              return function (value) {\n                setDistance(value);\n              };\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: function onClick() {\n            onClose();\n          },\n          width: \"100%\",\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(HostFilter, \"H6ON2180ITJmW3f6RCirF4HIn1M=\");\n\n_c3 = HostFilter;\nexport default HostFilter;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FilterContainer\");\n$RefreshReg$(_c2, \"StyledSlider\");\n$RefreshReg$(_c3, \"HostFilter\");","map":{"version":3,"sources":["/Users/zknock/Develop/localhost_web/components/host/HostFilter.tsx"],"names":["Grow","Slider","axios","React","useEffect","useState","styled","SERVER","Button","Input","LanguageSelect","FilterContainer","div","StyledSlider","HostFilter","props","origin","setOrigin","setNearbyHosts","onShow","onClose","coord","distance","setDistance","post","latitude","lat","longitude","lng","then","res","data","nearbyhosts","marks","value","label","onLangChange","langs","length","filteredList","filter","host","languages","lang","includes","position","top","left"],"mappings":";;;;;;AAAA,SAASA,IAAT,EAAeC,MAAf,QAA6B,mBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAA0CC,SAA1C,EAAqDC,QAArD,QAAqE,OAArE;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AAWA,IAAMC,eAAe,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,mSAArB;KAAMD,e;AAsBN,IAAME,YAAY,GAAGP,MAAM,CAACL,MAAD,CAAT;AAAA;AAAA;AAAA,gFAAlB;MAAMY,Y;;AASN,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAwB;AAAA;;AAAA,MAEzCC,MAFyC,GAQtCD,KARsC,CAEzCC,MAFyC;AAAA,MAGzCC,SAHyC,GAQtCF,KARsC,CAGzCE,SAHyC;AAAA,MAIzCC,cAJyC,GAQtCH,KARsC,CAIzCG,cAJyC;AAAA,sBAQtCH,KARsC,CAKzCI,MALyC;AAAA,MAKzCA,MALyC,8BAKhC,IALgC;AAAA,MAMzCC,OANyC,GAQtCL,KARsC,CAMzCK,OANyC;AAAA,MAOzCC,KAPyC,GAQtCN,KARsC,CAOzCM,KAPyC;;AAAA,kBASVhB,QAAQ,CAAC,CAAD,CATE;AAAA,MASnCiB,QATmC;AAAA,MASzBC,WATyB;;AAW1CnB,EAAAA,SAAS,CAAC,YAAM;AACf;AACAF,IAAAA,KAAK,CACHsB,IADF,WACUjB,MADV,2BACwC;AACtCkB,MAAAA,QAAQ,EAAEJ,KAAK,CAACK,GADsB;AAEtCC,MAAAA,SAAS,EAAEN,KAAK,CAACO,GAFqB;AAGtCN,MAAAA,QAAQ,EAAEA;AAH4B,KADxC,EAMEO,IANF,CAMO,UAAAC,GAAG,EAAI;AACZb,MAAAA,SAAS,CAACa,GAAG,CAACC,IAAJ,CAASC,WAAV,CAAT;AACA,KARF;AASA,GAXQ,EAWN,CAACV,QAAD,CAXM,CAAT;AAaA,MAAMW,KAAK,GAAG,CACb;AAAEC,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,KAAK,EAAE;AAAnB,GADa,EAEb;AAAED,IAAAA,KAAK,EAAE,GAAT;AAAcC,IAAAA,KAAK,EAAE;AAArB,GAFa,EAGb;AAAED,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,KAAK,EAAE;AAApB,GAHa,CAAd;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAqB;AACzC;AACA,QAAIA,KAAK,CAACC,MAAN,GAAe,CAAnB,EAAsB;AACrB,UAAMC,YAAY,GAAGvB,MAAM,CAACwB,MAAP,CAAc,UAAAC,IAAI,EAAI;AAC1C,eAAOA,IAAI,CAACC,SAAL,CAAeF,MAAf,CAAsB,UAAAG,IAAI;AAAA,iBAAIN,KAAK,CAACO,QAAN,CAAeD,IAAf,CAAJ;AAAA,SAA1B,EAAoDL,MAA3D;AACA,OAFoB,CAArB,CADqB,CAIrB;;AACApB,MAAAA,cAAc,CAACqB,YAAD,CAAd;AACA,KAND,MAMO;AACNrB,MAAAA,cAAc,CAACF,MAAD,CAAd;AACA;AACD,GAXD;;AAaA,sBACC,QAAC,IAAD;AAAM,UAAIG,MAAV;AAAkB,IAAA,OAAO,EAAE,GAA3B;AAAA,2BACC;AAAK,MAAA,KAAK,EAAE;AAAE0B,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,GAAG,EAAE,QAA7B;AAAuCC,QAAAA,IAAI,EAAE;AAA7C,OAAZ;AAAA,6BACC,QAAC,eAAD;AAAA,gCACC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAKC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC,QAAC,cAAD;AAAgB,YAAA,QAAQ,EAAEX;AAA1B;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBALD,eASC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC,QAAC,YAAD;AACC,YAAA,YAAY,EAAE,CADf;AAEC,YAAA,GAAG,EAAE,CAFN;AAGC,YAAA,IAAI,EAAE,GAHP;AAIC,YAAA,GAAG,EAAE,EAJN;AAKC,YAAA,KAAK,EAAEH,KALR;AAMC,YAAA,iBAAiB,EAAC,MANnB;AAOC,YAAA,KAAK,EAAEX,QAPR;AAQC,YAAA,QAAQ,EAAE;AAAA,qBAAM,UAACY,KAAD,EAAmB;AAClCX,gBAAAA,WAAW,CAACW,KAAD,CAAX;AACA,eAFS;AAAA;AARX;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBATD,eAyBC,QAAC,MAAD;AACC,UAAA,OAAO,EAAE,mBAAM;AACdd,YAAAA,OAAO;AACP,WAHF;AAIC,UAAA,KAAK,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,WADD;AAwCA,CAnFD;;GAAMN,U;;MAAAA,U;AAqFN,eAAeA,UAAf","sourcesContent":["import { Grow, Slider } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Host } from '../../interfaces';\nimport SERVER from '../../client/utils/url';\nimport Button from '../reuse/Button';\nimport Input from '../reuse/Input';\nimport LanguageSelect from '../reuse/LanguageSelect';\n\ninterface FilterProps {\n\torigin: Host[];\n\tsetOrigin: Dispatch<SetStateAction<Host[]>>;\n\tsetNearbyHosts: Dispatch<SetStateAction<Host[]>>;\n\tonShow?: boolean;\n\tonClose?: Function;\n\tcoord: { lat: number; lng: number };\n}\n\nconst FilterContainer = styled.div`\n\tposition: absolute;\n\tbackground: rgba(255, 255, 255, 0.9);\n\tborder-radius: 0.25rem;\n\tpadding: 1rem;\n\tz-index: 1;\n\twidth: 240px;\n\tbox-sizing: border-box;\n\tbox-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin: 0.5rem 0;\n\t\t& > *:first-child {\n\t\t\twidth: 33%;\n\t\t}\n\t\t& > *:last-child {\n\t\t\twidth: 66%;\n\t\t}\n\t}\n`;\n\nconst StyledSlider = styled(Slider)`\n\t&.MuiSlider-root {\n\t\tcolor: #5179d5;\n\t}\n\t& .MuiSlider-markLabel {\n\t\tfont-size: 0.8em;\n\t}\n`;\n\nconst HostFilter = (props: FilterProps) => {\n\tconst {\n\t\torigin,\n\t\tsetOrigin,\n\t\tsetNearbyHosts,\n\t\tonShow = true,\n\t\tonClose,\n\t\tcoord,\n\t} = props;\n\tconst [distance, setDistance] = useState(4);\n\n\tuseEffect(() => {\n\t\t// 거리가 변할 때마다 axios 요청 후 setNearbyHosts 해주기\n\t\taxios\n\t\t\t.post(`${SERVER}/api/host/nearbyList`, {\n\t\t\t\tlatitude: coord.lat,\n\t\t\t\tlongitude: coord.lng,\n\t\t\t\tdistance: distance,\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tsetOrigin(res.data.nearbyhosts);\n\t\t\t});\n\t}, [distance]);\n\n\tconst marks = [\n\t\t{ value: 1, label: '1km' },\n\t\t{ value: 8.5, label: '8.5km' },\n\t\t{ value: 16, label: '16km' },\n\t];\n\n\tconst onLangChange = (langs: string[]) => {\n\t\t// origin 호스트 목록에서 비교를 통해\n\t\tif (langs.length > 0) {\n\t\t\tconst filteredList = origin.filter(host => {\n\t\t\t\treturn host.languages.filter(lang => langs.includes(lang)).length;\n\t\t\t});\n\t\t\t// filtered 호스트 목록을 set 해준다.\n\t\t\tsetNearbyHosts(filteredList);\n\t\t} else {\n\t\t\tsetNearbyHosts(origin);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Grow in={onShow} timeout={200}>\n\t\t\t<div style={{ position: 'relative', top: '2.5rem', left: '-240px' }}>\n\t\t\t\t<FilterContainer>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>여행스타일</label>\n\t\t\t\t\t\t<Input />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>언어</label>\n\t\t\t\t\t\t<LanguageSelect onChange={onLangChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>거리</label>\n\t\t\t\t\t\t<StyledSlider\n\t\t\t\t\t\t\tdefaultValue={4}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tstep={0.5}\n\t\t\t\t\t\t\tmax={16}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tvalue={distance}\n\t\t\t\t\t\t\tonChange={() => (value: number) => {\n\t\t\t\t\t\t\t\tsetDistance(value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonClose!();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t>\n\t\t\t\t\t\t확인\n\t\t\t\t\t</Button>\n\t\t\t\t</FilterContainer>\n\t\t\t</div>\n\t\t</Grow>\n\t);\n};\n\nexport default HostFilter;\n"]},"metadata":{},"sourceType":"module"}